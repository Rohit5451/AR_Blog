"use strict";(self.webpackChunkAR_Tech=self.webpackChunkAR_Tech||[]).push([[179],{2011:(yt,De,k)=>{k.d(De,{Dh:()=>ve,GT:()=>ie,cc:()=>we,hO:()=>He,on:()=>$,pX:()=>ne,xv:()=>pe});var f=k(4650),Q=k(1274),P=k(710);yt=k.hmd(yt);const re=["ngOnDestroy"],ne=(Me,ke,$e,Re={})=>new Proxy(Me,{get:(Ae,xe)=>$e.runOutsideAngular(()=>{var qe;if(Me[xe])return!(null===(qe=Re?.spy)||void 0===qe)&&qe.get&&Re.spy.get(xe,Me[xe]),Me[xe];if(re.indexOf(xe)>-1)return()=>{};const Ve=ke.toPromise().then(it=>{const dt=it&&it[xe];return"function"==typeof dt?dt.bind(it):dt&&dt.then?dt.then(jt=>$e.run(()=>jt)):$e.run(()=>dt)});return new Proxy(()=>{},{get:(it,dt)=>Ve[dt],apply:(it,dt,jt)=>Ve.then(ht=>{var Jt;const ot=ht&&ht(...jt);return!(null===(Jt=Re?.spy)||void 0===Jt)&&Jt.apply&&Re.spy.apply(xe,jt,ot),ot})})})}),ie=(Me,ke)=>{ke.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Re=>{Object.defineProperty(Me.prototype,Re,Object.getOwnPropertyDescriptor($e.prototype||$e,Re))})})};class fe{constructor(ke){return ke}}const ve=new f.OlP("angularfire2.app.options"),pe=new f.OlP("angularfire2.app.name");function $(Me,ke,$e){const Ae="object"==typeof $e&&$e||{};Ae.name=Ae.name||"string"==typeof $e&&$e||"[DEFAULT]";const qe=Q.Z.apps.filter(Ve=>Ve&&Ve.name===Ae.name)[0]||ke.runOutsideAngular(()=>Q.Z.initializeApp(Me,Ae));try{JSON.stringify(Me)!==JSON.stringify(qe.options)&&B("error",`${qe.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(qe)}const B=(Me,...ke)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...ke)},Z={provide:fe,useFactory:$,deps:[ve,f.R0b,[new f.FiY,pe]]};let He=(()=>{class Me{constructor($e){Q.Z.registerVersion("angularfire",P.q4.full,"core"),Q.Z.registerVersion("angularfire",P.q4.full,"app-compat"),Q.Z.registerVersion("angular",f.q4F.full,$e.toString())}static initializeApp($e,Re){return{ngModule:Me,providers:[{provide:ve,useValue:$e},{provide:pe,useValue:Re}]}}}return Me.\u0275fac=function($e){return new($e||Me)(f.LFG(f.Lbi))},Me.\u0275mod=f.oAB({type:Me}),Me.\u0275inj=f.cJS({providers:[Z]}),Me})();function we(Me,ke,$e,Re,Ae){const[,xe,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Me)||[];if(xe)return function Ze(Me,ke){try{return Me.toString()===ke.toString()}catch{return Me===ke}}(Ae,qe)||(ce("error",`${ke} was already initialized on the ${$e} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ae,was:qe})),xe;{const Ve=Re();return globalThis.\u0275AngularfireInstanceCache.push([Me,Ve,Ae]),Ve}}const st=!!yt.hot,ce=(Me,...ke)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Me](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},710:(yt,De,k)=>{k.d(De,{q4:()=>ri,iC:()=>Bi,HU:()=>It,vb:()=>lu,JM:()=>cu});var f=k(4650),Q=k(8140),P=k(5861),re=k(6881),ne=k(2090),ie=k(4859),fe=k(1877);const ve=(E,D)=>D.some(A=>E instanceof A);let pe,$;const He=new WeakMap,we=new WeakMap,Ze=new WeakMap,st=new WeakMap,ce=new WeakMap;let $e={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return we.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Ze.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return qe(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function xe(E){return"function"==typeof E?function Ae(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Ve(this),D),qe(He.get(this))}:function(...D){return qe(E.apply(Ve(this),D))}:function(D,...A){const O=E.call(Ve(this),D,...A);return Ze.set(O,D.sort?D.sort():[D]),qe(O)}}(E):(E instanceof IDBTransaction&&function ke(E){if(we.has(E))return;const D=new Promise((A,O)=>{const j=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",te),E.removeEventListener("abort",te)},W=()=>{A(),j()},te=()=>{O(E.error||new DOMException("AbortError","AbortError")),j()};E.addEventListener("complete",W),E.addEventListener("error",te),E.addEventListener("abort",te)});we.set(E,D)}(E),ve(E,function B(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,$e):E)}function qe(E){if(E instanceof IDBRequest)return function Me(E){const D=new Promise((A,O)=>{const j=()=>{E.removeEventListener("success",W),E.removeEventListener("error",te)},W=()=>{A(qe(E.result)),j()},te=()=>{O(E.error),j()};E.addEventListener("success",W),E.addEventListener("error",te)});return D.then(A=>{A instanceof IDBCursor&&He.set(A,E)}).catch(()=>{}),ce.set(D,E),D}(E);if(st.has(E))return st.get(E);const D=xe(E);return D!==E&&(st.set(E,D),ce.set(D,E)),D}const Ve=E=>ce.get(E),jt=["get","getKey","getAll","getAllKeys","count"],ht=["put","add","delete","clear"],Jt=new Map;function ot(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Jt.get(D))return Jt.get(D);const A=D.replace(/FromIndex$/,""),O=D!==A,j=ht.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!j&&!jt.includes(A))return;const W=function(){var te=(0,P.Z)(function*(ze,...Be){const at=this.transaction(ze,j?"readwrite":"readonly");let At=at.store;return O&&(At=At.index(Be.shift())),(yield Promise.all([At[A](...Be),j&&at.done]))[0]});return function(Be){return te.apply(this,arguments)}}();return Jt.set(D,W),W}!function Re(E){$e=E($e)}(E=>({...E,get:(D,A,O)=>ot(D,A)||E.get(D,A,O),has:(D,A)=>!!ot(D,A)||E.has(D,A)}));const $s="@firebase/installations",ue="0.6.4",he=1e4,Ie=`w:${ue}`,be="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",Fe=36e5,ft=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function dn({projectId:E}){return`${Ge}/projects/${E}/installations`}function vn(E){return{token:E.token,requestStatus:2,expiresIn:Oe(E.expiresIn),creationTime:Date.now()}}function En(E,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,P.Z)(function*(E,D){const O=(yield D.json()).error;return ft.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function sn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Jn(E){return ai.apply(this,arguments)}function ai(){return(ai=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function Oe(E){return Number(E.replace("s","000"))}function lt(){return(lt=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:A}){const O=dn(E),j=sn(E),W=D.getImmediate({optional:!0});if(W){const at=yield W.getHeartbeatsHeader();at&&j.append("x-firebase-client",at)}const ze={method:"POST",headers:j,body:JSON.stringify({fid:A,authVersion:be,appId:E.appId,sdkVersion:Ie})},Be=yield Jn(()=>fetch(O,ze));if(Be.ok){const at=yield Be.json();return{fid:at.fid||A,registrationStatus:2,refreshToken:at.refreshToken,authToken:vn(at.authToken)}}throw yield En("Create Installation",Be)})).apply(this,arguments)}function Ri(E){return new Promise(D=>{setTimeout(D,E)})}const Er=/^[cdef][\w-]{21}$/,ui="";function ci(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function on(E){return function Na(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Er.test(A)?A:ui}catch{return ui}}function tn(E){return`${E.appName}!${E.appId}`}const pt=new Map;function Ot(E,D){const A=tn(E);ur(A,D),function Ni(E,D){const A=function Vn(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=E=>{ur(E.data.key,E.data.fid)}),Pn}();A&&A.postMessage({key:E,fid:D}),function _n(){0===pt.size&&Pn&&(Pn.close(),Pn=null)}()}(A,D)}function ur(E,D){const A=pt.get(E);if(A)for(const O of A)O(D)}let Pn=null;const gs="firebase-installations-database",Qt=1,Ur="firebase-installations-store";let hn=null;function Zi(){return hn||(hn=function it(E,D,{blocked:A,upgrade:O,blocking:j,terminated:W}={}){const te=indexedDB.open(E,D),ze=qe(te);return O&&te.addEventListener("upgradeneeded",Be=>{O(qe(te.result),Be.oldVersion,Be.newVersion,qe(te.transaction))}),A&&te.addEventListener("blocked",()=>A()),ze.then(Be=>{W&&Be.addEventListener("close",()=>W()),j&&Be.addEventListener("versionchange",()=>j())}).catch(()=>{}),ze}(gs,Qt,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Ur)}})),hn}function Br(E,D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,P.Z)(function*(E,D){const A=tn(E),j=(yield Zi()).transaction(Ur,"readwrite"),W=j.objectStore(Ur),te=yield W.get(A);return yield W.put(D,A),yield j.done,(!te||te.fid!==D.fid)&&Ot(E,D.fid),D})).apply(this,arguments)}function Ki(E){return jr.apply(this,arguments)}function jr(){return(jr=(0,P.Z)(function*(E){const D=tn(E),O=(yield Zi()).transaction(Ur,"readwrite");yield O.objectStore(Ur).delete(D),yield O.done})).apply(this,arguments)}function Ir(E,D){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(E,D){const A=tn(E),j=(yield Zi()).transaction(Ur,"readwrite"),W=j.objectStore(Ur),te=yield W.get(A),ze=D(te);return void 0===ze?yield W.delete(A):yield W.put(ze,A),yield j.done,ze&&(!te||te.fid!==ze.fid)&&Ot(E,ze.fid),ze})).apply(this,arguments)}function U(E){return V.apply(this,arguments)}function V(){return V=(0,P.Z)(function*(E){let D;const A=yield Ir(E.appConfig,O=>{const j=function z(E){return Mn(E||{fid:ci(),registrationStatus:0})}(O),W=function le(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ft.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},O=function X(E,D){return Ce.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:O}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:bt(E)}:{installationEntry:D}}(E,j);return D=W.registrationPromise,W.installationEntry});return A.fid===ui?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),V.apply(this,arguments)}function Ce(){return Ce=(0,P.Z)(function*(E,D){try{const A=yield function In(E,D){return lt.apply(this,arguments)}(E,D);return Br(E.appConfig,A)}catch(A){throw wt(A)&&409===A.customData.serverCode?yield Ki(E.appConfig):yield Br(E.appConfig,{fid:D.fid,registrationStatus:0}),A}}),Ce.apply(this,arguments)}function bt(E){return un.apply(this,arguments)}function un(){return(un=(0,P.Z)(function*(E){let D=yield Xn(E.appConfig);for(;1===D.registrationStatus;)yield Ri(100),D=yield Xn(E.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:O}=yield U(E);return O||A}return D})).apply(this,arguments)}function Xn(E){return Ir(E,D=>{if(!D)throw ft.create("installation-not-found");return Mn(D)})}function Mn(E){return function yn(E){return 1===E.registrationStatus&&E.registrationTime+he<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Sr(){return(Sr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},A){const O=function Qr(E,{fid:D}){return`${dn(E)}/${D}/authTokens:generate`}(E,A),j=function Lr(E,{refreshToken:D}){const A=sn(E);return A.append("Authorization",function Vr(E){return`${be} ${E}`}(D)),A}(E,A),W=D.getImmediate({optional:!0});if(W){const at=yield W.getHeartbeatsHeader();at&&j.append("x-firebase-client",at)}const ze={method:"POST",headers:j,body:JSON.stringify({installation:{sdkVersion:Ie,appId:E.appId}})},Be=yield Jn(()=>fetch(O,ze));if(Be.ok)return vn(yield Be.json());throw yield En("Generate Auth Token",Be)})).apply(this,arguments)}function ms(E){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,P.Z)(function*(E,D=!1){let A;const O=yield Ir(E.appConfig,W=>{if(!$t(W))throw ft.create("not-registered");const te=W.authToken;if(!D&&function tt(E){return 2===E.requestStatus&&!function cn(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Fe}(E)}(te))return W;if(1===te.requestStatus)return A=function ae(E,D){return J.apply(this,arguments)}(E,D),W;{if(!navigator.onLine)throw ft.create("app-offline");const ze=function qt(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(W);return A=function rt(E,D){return vt.apply(this,arguments)}(E,ze),ze}});return A?yield A:O.authToken}),Oa.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(E,D){let A=yield Te(E.appConfig);for(;1===A.authToken.requestStatus;)yield Ri(100),A=yield Te(E.appConfig);const O=A.authToken;return 0===O.requestStatus?ms(E,D):O})).apply(this,arguments)}function Te(E){return Ir(E,D=>{if(!$t(D))throw ft.create("not-registered");return function Un(E){return 1===E.requestStatus&&E.requestTime+he<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function vt(){return vt=(0,P.Z)(function*(E,D){try{const A=yield function zt(E,D){return Sr.apply(this,arguments)}(E,D),O=Object.assign(Object.assign({},D),{authToken:A});return yield Br(E.appConfig,O),A}catch(A){if(!wt(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const O=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Br(E.appConfig,O)}else yield Ki(E.appConfig);throw A}}),vt.apply(this,arguments)}function $t(E){return void 0!==E&&2===E.registrationStatus}function Pa(){return(Pa=(0,P.Z)(function*(E){const D=E,{installationEntry:A,registrationPromise:O}=yield U(D);return O?O.catch(console.error):ms(D).catch(console.error),A.fid})).apply(this,arguments)}function Gs(){return Gs=(0,P.Z)(function*(E,D=!1){const A=E;return yield function li(E){return Xe.apply(this,arguments)}(A),(yield ms(A,D)).token}),Gs.apply(this,arguments)}function Xe(){return(Xe=(0,P.Z)(function*(E){const{registrationPromise:D}=yield U(E);D&&(yield D)})).apply(this,arguments)}function zs(E){return ft.create("missing-app-config-values",{valueName:E})}const Lt="installations",vs=E=>{const D=E.getProvider("app").getImmediate(),A=function ka(E){if(!E||!E.options)throw zs("App Configuration");if(!E.name)throw zs("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!E.options[A])throw zs(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,re._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Fa=E=>{const D=E.getProvider("app").getImmediate(),A=(0,re._getProvider)(D,Lt).getImmediate();return{getId:()=>function Rn(E){return Pa.apply(this,arguments)}(A),getToken:j=>function Cd(E){return Gs.apply(this,arguments)}(A,j)}};(function qs(){(0,re._registerComponent)(new ie.wA(Lt,vs,"PUBLIC")),(0,re._registerComponent)(new ie.wA("installations-internal",Fa,"PRIVATE"))})(),(0,re.registerVersion)($s,ue),(0,re.registerVersion)($s,ue,"esm2017");const er="@firebase/remote-config",Ar=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Td{constructor(D,A,O,j){this.client=D,this.storage=A,this.storageCache=O,this.logger=j}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-A,j=O<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${j}.`),j}fetch(D){var A=this;return(0,P.Z)(function*(){const[O,j]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(j&&A.isCachedDataFresh(D.cacheMaxAgeMillis,O))return j;D.eTag=j&&j.eTag;const W=yield A.client.fetch(D),te=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&te.push(A.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(te),W})()}}function zf(E=navigator){return E.languages&&E.languages[0]||E.language}class Yc{constructor(D,A,O,j,W,te){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=O,this.projectId=j,this.apiKey=W,this.appId=te}fetch(D){var A=this;return(0,P.Z)(function*(){const[O,j]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Be={sdk_version:A.sdkVersion,app_instance_id:O,app_instance_id_token:j,app_id:A.appId,language_code:zf()},at={method:"POST",headers:ze,body:JSON.stringify(Be)},At=fetch(te,at),xt=new Promise((Kn,as)=>{D.signal.addEventListener(()=>{const ro=new Error("The operation was aborted.");ro.name="AbortError",as(ro)})});let _r;try{yield Promise.race([At,xt]),_r=yield At}catch(Kn){let as="fetch-client-network";throw"AbortError"===Kn?.name&&(as="fetch-timeout"),Ar.create(as,{originalErrorMessage:Kn?.message})}let Cn=_r.status;const Ut=_r.headers.get("ETag")||void 0;let Ss,hu;if(200===_r.status){let Kn;try{Kn=yield _r.json()}catch(as){throw Ar.create("fetch-client-parse",{originalErrorMessage:as?.message})}Ss=Kn.entries,hu=Kn.state}if("INSTANCE_STATE_UNSPECIFIED"===hu?Cn=500:"NO_CHANGE"===hu?Cn=304:("NO_TEMPLATE"===hu||"EMPTY_CONFIG"===hu)&&(Ss={}),304!==Cn&&200!==Cn)throw Ar.create("fetch-status",{httpStatus:Cn});return{status:Cn,eTag:Ut,config:Ss}})()}}class Ad{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const O=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,O)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:O}){var j=this;return(0,P.Z)(function*(){yield function nm(E,D){return new Promise((A,O)=>{const j=Math.max(D-Date.now(),0),W=setTimeout(A,j);E.addEventListener(()=>{clearTimeout(W),O(Ar.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const W=yield j.client.fetch(D);return yield j.storage.deleteThrottleMetadata(),W}catch(W){if(!function Sd(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(W))throw W;const te={throttleEndTimeMillis:Date.now()+(0,ne.$s)(O),backoffCount:O+1};return yield j.storage.setThrottleMetadata(te),j.attemptFetch(D,te)}})()}}class qf{constructor(D,A,O,j,W){this.app=D,this._client=A,this._storageCache=O,this._storage=j,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xd(E,D){const A=E.target.error||void 0;return Ar.create(D,{originalErrorMessage:A&&A?.message})}const Ks="app_namespace_store";class Md{constructor(D,A,O,j=function ku(){return new Promise((E,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=O=>{D(xd(O,"storage-open"))},A.onsuccess=O=>{E(O.target.result)},A.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(A){D(Ar.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=O,this.openDbPromise=j}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const O=yield A.openDbPromise;return new Promise((j,W)=>{const ze=O.transaction([Ks],"readonly").objectStore(Ks),Be=A.createCompositeKey(D);try{const at=ze.get(Be);at.onerror=At=>{W(xd(At,"storage-get"))},at.onsuccess=At=>{const xt=At.target.result;j(xt?xt.value:void 0)}}catch(at){W(Ar.create("storage-get",{originalErrorMessage:at?.message}))}})})()}set(D,A){var O=this;return(0,P.Z)(function*(){const j=yield O.openDbPromise;return new Promise((W,te)=>{const Be=j.transaction([Ks],"readwrite").objectStore(Ks),at=O.createCompositeKey(D);try{const At=Be.put({compositeKey:at,value:A});At.onerror=xt=>{te(xd(xt,"storage-set"))},At.onsuccess=()=>{W()}}catch(At){te(Ar.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const O=yield A.openDbPromise;return new Promise((j,W)=>{const ze=O.transaction([Ks],"readwrite").objectStore(Ks),Be=A.createCompositeKey(D);try{const at=ze.delete(Be);at.onerror=At=>{W(xd(At,"storage-delete"))},at.onsuccess=()=>{j()}}catch(at){W(Ar.create("storage-delete",{originalErrorMessage:at?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class nv{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),O=D.storage.getLastSuccessfulFetchTimestampMillis(),j=D.storage.getActiveConfig(),W=yield A;W&&(D.lastFetchStatus=W);const te=yield O;te&&(D.lastSuccessfulFetchTimestampMillis=te);const ze=yield j;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Rd(){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Jc(){(0,re._registerComponent)(new ie.wA("remote-config",function E(D,{instanceIdentifier:A}){const O=D.getProvider("app").getImmediate(),j=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!(0,ne.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:W,apiKey:te,appId:ze}=O.options;if(!W)throw Ar.create("registration-project-id");if(!te)throw Ar.create("registration-api-key");if(!ze)throw Ar.create("registration-app-id");const Be=new Md(ze,O.name,A=A||"firebase"),at=new nv(Be),At=new fe.Yd(er);At.logLevel=fe.in.ERROR;const xt=new Yc(j,re.SDK_VERSION,A,W,te,ze),_r=new Ad(xt,Be),Cn=new Td(_r,Be,at,At),Ut=new qf(O,Cn,at,Be,At);return function $r(E){const D=(0,ne.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Ut),Ut},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(er,"0.4.4"),(0,re.registerVersion)(er,"0.4.4","esm2017")}();const Ha=(E,D)=>D.some(A=>E instanceof A);let ki,Ga;const Xc=new WeakMap,yo=new WeakMap,fi=new WeakMap,Ho=new WeakMap,Lu=new WeakMap;let Go={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return yo.get(E);if("objectStoreNames"===D)return E.objectStoreNames||fi.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Xr(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Nd(E){return"function"==typeof E?function vo(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ji(){return Ga||(Ga=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(zn(this),D),Xr(Xc.get(this))}:function(...D){return Xr(E.apply(zn(this),D))}:function(D,...A){const O=E.call(zn(this),D,...A);return fi.set(O,D.sort?D.sort():[D]),Xr(O)}}(E):(E instanceof IDBTransaction&&function Vu(E){if(yo.has(E))return;const D=new Promise((A,O)=>{const j=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",te),E.removeEventListener("abort",te)},W=()=>{A(),j()},te=()=>{O(E.error||new DOMException("AbortError","AbortError")),j()};E.addEventListener("complete",W),E.addEventListener("error",te),E.addEventListener("abort",te)});yo.set(E,D)}(E),Ha(E,function Wf(){return ki||(ki=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Go):E)}function Xr(E){if(E instanceof IDBRequest)return function tr(E){const D=new Promise((A,O)=>{const j=()=>{E.removeEventListener("success",W),E.removeEventListener("error",te)},W=()=>{A(Xr(E.result)),j()},te=()=>{O(E.error),j()};E.addEventListener("success",W),E.addEventListener("error",te)});return D.then(A=>{A instanceof IDBCursor&&Xc.set(A,E)}).catch(()=>{}),Lu.set(D,E),D}(E);if(Ho.has(E))return Ho.get(E);const D=Nd(E);return D!==E&&(Ho.set(E,D),Lu.set(D,E)),D}const zn=E=>Lu.get(E);function Zf(E,D,{blocked:A,upgrade:O,blocking:j,terminated:W}={}){const te=indexedDB.open(E,D),ze=Xr(te);return O&&te.addEventListener("upgradeneeded",Be=>{O(Xr(te.result),Be.oldVersion,Be.newVersion,Xr(te.transaction))}),A&&te.addEventListener("blocked",()=>A()),ze.then(Be=>{W&&Be.addEventListener("close",()=>W()),j&&Be.addEventListener("versionchange",()=>j())}).catch(()=>{}),ze}function Ys(E,{blocked:D}={}){const A=indexedDB.deleteDatabase(E);return D&&A.addEventListener("blocked",()=>D()),Xr(A).then(()=>{})}const _s=["get","getKey","getAll","getAllKeys","count"],pi=["put","add","delete","clear"],ws=new Map;function za(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(ws.get(D))return ws.get(D);const A=D.replace(/FromIndex$/,""),O=D!==A,j=pi.includes(A);if(!(A in(O?IDBIndex:IDBObjectStore).prototype)||!j&&!_s.includes(A))return;const W=function(){var te=(0,P.Z)(function*(ze,...Be){const at=this.transaction(ze,j?"readwrite":"readonly");let At=at.store;return O&&(At=At.index(Be.shift())),(yield Promise.all([At[A](...Be),j&&at.done]))[0]});return function(Be){return te.apply(this,arguments)}}();return ws.set(D,W),W}!function lr(E){Go=E(Go)}(E=>({...E,get:(D,A,O)=>za(D,A)||E.get(D,A,O),has:(D,A)=>!!za(D,A)||E.has(D,A)}));const Nt="/firebase-messaging-sw.js",el="/firebase-cloud-messaging-push-scope",rm="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zo="https://fcmregistrations.googleapis.com/v1",Od="google.c.a.c_id",Uu="google.c.a.c_l",tl="google.c.a.ts",nl="google.c.a.e";var oe=(()=>{return(E=oe||(oe={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",oe;var E})();function Vt(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kf(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(A),j=new Uint8Array(O.length);for(let W=0;W<O.length;++W)j[W]=O.charCodeAt(W);return j}const qa="fcm_token_details_db",nr=5,rl="fcm_token_object_Store";function gi(){return gi=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(qa))return null;let D=null;return(yield Zf(qa,nr,{upgrade:(O=(0,P.Z)(function*(j,W,te,ze){var Be;if(W<2||!j.objectStoreNames.contains(rl))return;const at=ze.objectStore(rl),At=yield at.index("fcmSenderId").get(E);if(yield at.clear(),At)if(2===W){const xt=At;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;D={token:xt.fcmToken,createTime:null!==(Be=xt.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:Vt(xt.vapidKey)}}}else if(3===W){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Vt(xt.auth),p256dh:Vt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Vt(xt.vapidKey)}}}else if(4===W){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:Vt(xt.auth),p256dh:Vt(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:Vt(xt.vapidKey)}}}}),function(W,te,ze,Be){return O.apply(this,arguments)})})).close(),yield Ys(qa),yield Ys("fcm_vapid_details_db"),yield Ys("undefined"),function Bu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var O}),gi.apply(this,arguments)}const ju="firebase-messaging-database",kd=1,Xi="firebase-messaging-store";let qo=null;function dr(){return qo||(qo=Zf(ju,kd,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Xi)}})),qo}function Hr(E){return Es.apply(this,arguments)}function Es(){return Es=(0,P.Z)(function*(E){const D=Hu(E),O=yield(yield dr()).transaction(Xi).objectStore(Xi).get(D);if(O)return O;{const j=yield function Wa(E){return gi.apply(this,arguments)}(E.appConfig.senderId);if(j)return yield Is(E,j),j}}),Es.apply(this,arguments)}function Is(E,D){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(E,D){const A=Hu(E),j=(yield dr()).transaction(Xi,"readwrite");return yield j.objectStore(Xi).put(D,A),yield j.done,D})).apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(E){const D=Hu(E),O=(yield dr()).transaction(Xi,"readwrite");yield O.objectStore(Xi).delete(D),yield O.done})).apply(this,arguments)}function Hu({appConfig:E}){return E.appId}const jn=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gu(E,D){return Za.apply(this,arguments)}function Za(){return(Za=(0,P.Z)(function*(E,D){const A=yield Qs(E),O=qu(D),j={method:"POST",headers:A,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(Ka(E.appConfig),j)).json()}catch(te){throw jn.create("token-subscribe-failed",{errorInfo:te?.toString()})}if(W.error)throw jn.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw jn.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function zu(){return(zu=(0,P.Z)(function*(E,D){const A=yield Qs(E),O=qu(D.subscriptionOptions),j={method:"PATCH",headers:A,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(`${Ka(E.appConfig)}/${D.token}`,j)).json()}catch(te){throw jn.create("token-update-failed",{errorInfo:te?.toString()})}if(W.error)throw jn.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw jn.create("token-update-no-token");return W.token})).apply(this,arguments)}function Zo(E,D){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(E,D){const O={method:"DELETE",headers:yield Qs(E)};try{const W=yield(yield fetch(`${Ka(E.appConfig)}/${D}`,O)).json();if(W.error)throw jn.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(j){throw jn.create("token-unsubscribe-failed",{errorInfo:j?.toString()})}})).apply(this,arguments)}function Ka({projectId:E}){return`${zo}/projects/${E}/registrations`}function Qs(E){return il.apply(this,arguments)}function il(){return(il=(0,P.Z)(function*({appConfig:E,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function qu({p256dh:E,auth:D,endpoint:A,vapidKey:O}){const j={web:{endpoint:A,auth:D,p256dh:E}};return O!==rm&&(j.web.applicationPubKey=O),j}const Ld=6048e5;function Vd(){return Vd=(0,P.Z)(function*(E){const D=yield function jd(E,D){return $d.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:Vt(D.getKey("auth")),p256dh:Vt(D.getKey("p256dh"))},O=yield Hr(E.firebaseDependencies);if(O){if(function im(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(O.subscriptionOptions,A))return Date.now()>=O.createTime+Ld?function An(E,D){return Ud.apply(this,arguments)}(E,{token:O.token,createTime:Date.now(),subscriptionOptions:A}):O.token;try{yield Zo(E.firebaseDependencies,O.token)}catch(j){console.warn(j)}return ol(E.firebaseDependencies,A)}return ol(E.firebaseDependencies,A)}),Vd.apply(this,arguments)}function es(){return es=(0,P.Z)(function*(E){const D=yield Hr(E.firebaseDependencies);D&&(yield Zo(E.firebaseDependencies,D.token),yield function $u(E){return Wo.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),es.apply(this,arguments)}function Ud(){return Ud=(0,P.Z)(function*(E,D){try{const A=yield function Fd(E,D){return zu.apply(this,arguments)}(E.firebaseDependencies,D),O=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield Is(E.firebaseDependencies,O),A}catch(A){throw yield function hr(E){return es.apply(this,arguments)}(E),A}}),Ud.apply(this,arguments)}function ol(E,D){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,P.Z)(function*(E,D){const O={token:yield Gu(E,D),createTime:Date.now(),subscriptionOptions:D};return yield Is(E,O),O.token})).apply(this,arguments)}function $d(){return($d=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kf(D)})})).apply(this,arguments)}function Yo(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function al(E,D){if(!D.notification)return;E.notification={};const A=D.notification.title;A&&(E.notification.title=A);const O=D.notification.body;O&&(E.notification.body=O);const j=D.notification.image;j&&(E.notification.image=j);const W=D.notification.icon;W&&(E.notification.icon=W)}(D,E),function ul(E,D){D.data&&(E.data=D.data)}(D,E),function Ya(E,D){var A,O,j,W,te;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const ze=null!==(j=null===(O=D.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==j?j:null===(W=D.notification)||void 0===W?void 0:W.click_action;ze&&(E.fcmOptions.link=ze);const Be=null===(te=D.fcmOptions)||void 0===te?void 0:te.analytics_label;Be&&(E.fcmOptions.analyticsLabel=Be)}(D,E),D}function Js(E,D){const A=[];for(let O=0;O<E.length;O++)A.push(E.charAt(O)),O<D.length&&A.push(D.charAt(O));return A.join("")}function mi(E){return jn.create("missing-app-config-values",{valueName:E})}Js("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Js("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qf{constructor(D,A,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const j=function Qo(E){if(!E||!E.options)throw mi("App Configuration Object");if(!E.name)throw mi("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const O of D)if(!A[O])throw mi(O);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:j,installations:A,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Zu(E){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:el}),E.swRegistration.update().catch(()=>{})}catch(D){throw jn.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function cl(){return(cl=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield Zu(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=rm)})).apply(this,arguments)}function Xo(){return Xo=(0,P.Z)(function*(E,D){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield function ll(E,D){return Ja.apply(this,arguments)}(E,D?.vapidKey),yield function Hd(E,D){return cl.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function sl(E){return Vd.apply(this,arguments)}(E)}),Xo.apply(this,arguments)}function Ds(){return(Ds=(0,P.Z)(function*(E,D,A){const O=function Cs(E){switch(E){case oe.NOTIFICATION_CLICKED:return"notification_open";case oe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:A[Od],message_name:A[Uu],message_time:A[tl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ts(){return ts=(0,P.Z)(function*(E,D){const A=D.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===oe.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Yo(A)):E.onMessageHandler.next(Yo(A)));const O=A.data;(function Wu(E){return"object"==typeof E&&!!E&&Od in E})(O)&&"1"===O[nl]&&(yield function dl(E,D,A){return Ds.apply(this,arguments)}(E,A.messageType,O))}),ts.apply(this,arguments)}const _o="@firebase/messaging",Yu=E=>{const D=new Qf(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function Ku(E,D){return ts.apply(this,arguments)}(D,A)),D},hl=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:O=>function Jo(E,D){return Xo.apply(this,arguments)}(D,O)}};function Jf(){return fl.apply(this,arguments)}function fl(){return(fl=(0,P.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xa(){(0,re._registerComponent)(new ie.wA("messaging",Yu,"PUBLIC")),(0,re._registerComponent)(new ie.wA("messaging-internal",hl,"PRIVATE")),(0,re.registerVersion)(_o,"0.12.4"),(0,re.registerVersion)(_o,"0.12.4","esm2017")}();const ns="analytics",Xs="firebase_id",Ju="origin",pl=6e4,Wd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xu="https://www.googletagmanager.com/gtag/js",vr=new fe.Yd("@firebase/analytics"),qn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zd(E){if(!E.startsWith(Xu)){const D=qn.create("invalid-gtag-resource",{gtagURL:E});return vr.warn(D.message),""}return E}function ta(E){return Promise.all(E.map(D=>D.catch(A=>A)))}function na(){return(na=(0,P.Z)(function*(E,D,A,O,j,W){const te=O[j];try{if(te)yield D[te];else{const Be=(yield ta(A)).find(at=>at.measurementId===j);Be&&(yield D[Be.appId])}}catch(ze){vr.error(ze)}E("config",j,W)})).apply(this,arguments)}function ec(){return(ec=(0,P.Z)(function*(E,D,A,O,j){try{let W=[];if(j&&j.send_to){let te=j.send_to;Array.isArray(te)||(te=[te]);const ze=yield ta(A);for(const Be of te){const at=ze.find(xt=>xt.measurementId===Be),At=at&&D[at.appId];if(!At){W=[];break}W.push(At)}}0===W.length&&(W=Object.values(D)),yield Promise.all(W),E("event",O,j||{})}catch(W){vr.error(W)}})).apply(this,arguments)}const tu=30,Eo=new class ia{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Wn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Kt(){return(Kt=(0,P.Z)(function*(E){var D;const{appId:A,apiKey:O}=E,j={method:"GET",headers:Wn(O)},W=Wd.replace("{app-id}",A),te=yield fetch(W,j);if(200!==te.status&&304!==te.status){let ze="";try{const Be=yield te.json();null!==(D=Be.error)&&void 0!==D&&D.message&&(ze=Be.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:te.status,responseMessage:ze})}return te.json()})).apply(this,arguments)}function tc(){return(tc=(0,P.Z)(function*(E,D=Eo,A){const{appId:O,apiKey:j,measurementId:W}=E.options;if(!O)throw qn.create("no-app-id");if(!j){if(W)return{measurementId:W,appId:O};throw qn.create("no-api-key")}const te=D.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Xd;return setTimeout((0,P.Z)(function*(){ze.abort()}),void 0!==A?A:pl),gl({appId:O,apiKey:j,measurementId:W},te,ze,D)})).apply(this,arguments)}function gl(E,D,A){return ml.apply(this,arguments)}function ml(){return ml=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:A},O,j=Eo){var W;const{appId:te,measurementId:ze}=E;try{yield function om(E,D){return new Promise((A,O)=>{const j=Math.max(D-Date.now(),0),W=setTimeout(A,j);E.addEventListener(()=>{clearTimeout(W),O(qn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(O,D)}catch(Be){if(ze)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:te,measurementId:ze};throw Be}try{const Be=yield function Jd(E){return Kt.apply(this,arguments)}(E);return j.deleteThrottleMetadata(te),Be}catch(Be){const at=Be;if(!function rv(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(at)){if(j.deleteThrottleMetadata(te),ze)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${at?.message}]`),{appId:te,measurementId:ze};throw Be}const At=503===Number(null===(W=at?.customData)||void 0===W?void 0:W.httpStatus)?(0,ne.$s)(A,j.intervalMillis,tu):(0,ne.$s)(A,j.intervalMillis),xt={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return j.setThrottleMetadata(te,xt),vr.debug(`Calling attemptFetch again in ${At} millis`),gl(E,xt,O,j)}}),ml.apply(this,arguments)}class Xd{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let eo,oa;function nc(){return(nc=(0,P.Z)(function*(E,D,A,O,j){if(j&&j.global)E("event",A,O);else{const W=yield D;E("event",A,Object.assign(Object.assign({},O),{send_to:W}))}})).apply(this,arguments)}function fn(){return(fn=(0,P.Z)(function*(){if(!(0,ne.hl)())return vr.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return vr.warn(qn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ut(){return ut=(0,P.Z)(function*(E,D,A,O,j,W,te){var ze;const Be=function sm(E){return tc.apply(this,arguments)}(E);Be.then(Cn=>{A[Cn.measurementId]=Cn.appId,E.options.measurementId&&Cn.measurementId!==E.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cn=>vr.error(Cn)),D.push(Be);const at=function vi(){return fn.apply(this,arguments)}().then(Cn=>{if(Cn)return O.getId()}),[At,xt]=yield Promise.all([Be,at]);(function ti(E){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Xu)&&A.src.includes(E))return A;return null})(W)||function bs(E,D){const A=function np(E,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,D)),A}("firebase-js-sdk-policy",{createScriptURL:Zd}),O=document.createElement("script"),j=`${Xu}?l=${E}&id=${D}`;O.src=A?A?.createScriptURL(j):j,O.async=!0,document.head.appendChild(O)}(W,At.measurementId),oa&&(j("consent","default",oa),function sp(E){oa=E}(void 0)),j("js",new Date);const _r=null!==(ze=te?.config)&&void 0!==ze?ze:{};return _r[Ju]="firebase",_r.update=!0,null!=xt&&(_r[Xs]=xt),j("config",At.measurementId,_r),eo&&(j("set",eo),function op(E){eo=E}(void 0)),At.measurementId}),ut.apply(this,arguments)}class Ts{constructor(D){this.app=D}_delete(){return delete Zn[this.app.options.appId],Promise.resolve()}}let Zn={},th=[];const Io={};let rh,wi,_i="dataLayer",nh="gtag",aa=!1;function ua(E,D,A){!function su(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((O,j)=>`(${j+1}) ${O}`).join(" "),A=qn.create("invalid-analytics-context",{errorInfo:D});vr.warn(A.message)}}();const O=E.options.appId;if(!O)throw qn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw qn.create("no-api-key");vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zn[O])throw qn.create("already-exists",{id:O});if(!aa){!function Kd(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(_i);const{wrappedGtag:W,gtagCore:te}=function ra(E,D,A,O,j){let W=function(...te){window[O].push(arguments)};return window[j]&&"function"==typeof window[j]&&(W=window[j]),window[j]=function wo(E,D,A,O){function W(){return W=(0,P.Z)(function*(te,...ze){try{if("event"===te){const[Be,at]=ze;yield function rp(E,D,A,O,j){return ec.apply(this,arguments)}(E,D,A,Be,at)}else if("config"===te){const[Be,at]=ze;yield function Yd(E,D,A,O,j,W){return na.apply(this,arguments)}(E,D,A,O,Be,at)}else if("consent"===te){const[Be]=ze;E("consent","update",Be)}else if("get"===te){const[Be,at,At]=ze;E("get",Be,at,At)}else if("set"===te){const[Be]=ze;E("set",Be)}else E(te,...ze)}catch(Be){vr.error(Be)}}),W.apply(this,arguments)}return function j(te){return W.apply(this,arguments)}}(W,E,D,A),{gtagCore:W,wrappedGtag:window[j]}}(Zn,th,Io,_i,nh);wi=W,rh=te,aa=!0}return Zn[O]=function Li(E,D,A,O,j,W,te){return ut.apply(this,arguments)}(E,th,Io,D,rh,_i,A),new Ts(E)}function ih(){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Vi="@firebase/analytics";!function ap(){(0,re._registerComponent)(new ie.wA(ns,(D,{options:A})=>ua(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,re._registerComponent)(new ie.wA("analytics-internal",function E(D){try{const A=D.getProvider(ns).getImmediate();return{logEvent:(O,j,W)=>function sh(E,D,A,O){E=(0,ne.m9)(E),function yl(E,D,A,O,j){return nc.apply(this,arguments)}(wi,Zn[E.app.options.appId],D,A,O).catch(j=>vr.error(j))}(A,O,j,W)}}catch(A){throw qn.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,re.registerVersion)(Vi,"0.10.0"),(0,re.registerVersion)(Vi,"0.10.0","esm2017")}();var El=k(4408),ni=k(7565);const Mr=new class uc extends ni.v{}(class ou extends El.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(D,A,O):(D.flush(this),0)}});var Dl=k(4986),rr=k(8505),bo=k(9468),cc=k(5363);const ri=new f.GfV("7.6.1"),$n="__angularfire_symbol__analyticsIsSupportedValue",au="__angularfire_symbol__analyticsIsSupported",To="__angularfire_symbol__remoteConfigIsSupportedValue",uu="__angularfire_symbol__remoteConfigIsSupported",ss="__angularfire_symbol__messagingIsSupportedValue",os="__angularfire_symbol__messagingIsSupported";function cu(E,D,A){if(D){if(1===D.length)return D[0];const W=D.filter(te=>te.app===A);if(1===W.length)return W[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[au]||(globalThis[au]=ih().then(E=>globalThis[$n]=E).catch(()=>globalThis[$n]=!1)),globalThis[os]||(globalThis[os]=Jf().then(E=>globalThis[ss]=E).catch(()=>globalThis[ss]=!1)),globalThis[uu]||(globalThis[uu]=Rd().then(E=>globalThis[To]=E).catch(()=>globalThis[To]=!1));const lu=(E,D)=>{const A=D?[D]:(0,Q.C6)(),O=[];return A.forEach(j=>{j.container.getProvider(E).instances.forEach(te=>{O.includes(te)||O.push(te)})}),O};function So(){}class Cl{constructor(D,A=Mr){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,O){const j=this.zone;return this.delegate.schedule(function(te){j.runGuarded(()=>{D.apply(this,[te])})},A,O)}}class la{constructor(D){this.zone=D,this.task=null}call(D,A){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",So,{},So,So)),A.pipe((0,rr.b)({next:O,complete:O,error:O})).subscribe(D).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let It=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Cl(Zone.current)),this.insideAngular=A.run(()=>new Cl(Zone.current,Dl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Ui(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Bi(E){return Ui(),function dc(E){return function(A){return(A=A.lift(new la(E.ngZone))).pipe((0,bo.R)(E.outsideAngular),(0,cc.Q)(E.insideAngular))}}(Ui())(E)}},2090:(yt,De,k)=>{k.d(De,{$s:()=>Ki,BH:()=>xe,G6:()=>Ie,L:()=>pe,LL:()=>Ln,Pz:()=>Ae,Sg:()=>qe,UG:()=>dt,US:()=>ie,ZB:()=>Z,ZR:()=>Gt,aH:()=>Re,b$:()=>Jt,eu:()=>Ge,hl:()=>be,jU:()=>jt,m9:()=>Hs,ne:()=>tn,pd:()=>ci,r3:()=>ai,ru:()=>ht,tV:()=>$,uI:()=>it,vZ:()=>lt,w1:()=>$s,xO:()=>Er,xb:()=>Vr,z$:()=>Ve,zI:()=>Fe,zd:()=>ui});const re=function(U){const V=[];let z=0;for(let le=0;le<U.length;le++){let X=U.charCodeAt(le);X<128?V[z++]=X:X<2048?(V[z++]=X>>6|192,V[z++]=63&X|128):55296==(64512&X)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(X=65536+((1023&X)<<10)+(1023&U.charCodeAt(++le)),V[z++]=X>>18|240,V[z++]=X>>12&63|128,V[z++]=X>>6&63|128,V[z++]=63&X|128):(V[z++]=X>>12|224,V[z++]=X>>6&63|128,V[z++]=63&X|128)}return V},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,V){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let X=0;X<U.length;X+=3){const Ce=U[X],bt=X+1<U.length,un=bt?U[X+1]:0,Xn=X+2<U.length,Mn=Xn?U[X+2]:0;let Sr=(15&un)<<2|Mn>>6,Qr=63&Mn;Xn||(Qr=64,bt||(Sr=64)),le.push(z[Ce>>2],z[(3&Ce)<<4|un>>4],z[Sr],z[Qr])}return le.join("")},encodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(U):this.encodeByteArray(re(U),V)},decodeString(U,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(U):function(U){const V=[];let z=0,le=0;for(;z<U.length;){const X=U[z++];if(X<128)V[le++]=String.fromCharCode(X);else if(X>191&&X<224){const Ce=U[z++];V[le++]=String.fromCharCode((31&X)<<6|63&Ce)}else if(X>239&&X<365){const Xn=((7&X)<<18|(63&U[z++])<<12|(63&U[z++])<<6|63&U[z++])-65536;V[le++]=String.fromCharCode(55296+(Xn>>10)),V[le++]=String.fromCharCode(56320+(1023&Xn))}else{const Ce=U[z++],bt=U[z++];V[le++]=String.fromCharCode((15&X)<<12|(63&Ce)<<6|63&bt)}}return V.join("")}(this.decodeStringToByteArray(U,V))},decodeStringToByteArray(U,V){this.init_();const z=V?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let X=0;X<U.length;){const Ce=z[U.charAt(X++)],un=X<U.length?z[U.charAt(X)]:0;++X;const Mn=X<U.length?z[U.charAt(X)]:64;++X;const zt=X<U.length?z[U.charAt(X)]:64;if(++X,null==Ce||null==un||null==Mn||null==zt)throw new fe;le.push(Ce<<2|un>>4),64!==Mn&&(le.push(un<<4&240|Mn>>2),64!==zt&&le.push(Mn<<6&192|zt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(U){return function(U){const V=re(U);return ie.encodeByteArray(V,!0)}(U).replace(/\./g,"")},$=function(U){try{return ie.decodeString(U,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function Z(U,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return V}for(const z in V)!V.hasOwnProperty(z)||!He(z)||(U[z]=Z(U[z],V[z]));return U}function He(U){return"__proto__"!==U}const Me=()=>{try{return function we(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const V=U&&$(U[1]);return V&&JSON.parse(V)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Re=()=>{var U;return null===(U=Me())||void 0===U?void 0:U.config},Ae=U=>{var V;return null===(V=Me())||void 0===V?void 0:V[`_${U}`]};class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,z)=>{this.resolve=V,this.reject=z})}wrapCallback(V){return(z,le)=>{z?this.reject(z):this.resolve(le),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(z):V(z,le))}}}function qe(U,V){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=V||"demo-project",X=U.iat||0,Ce=U.sub||U.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:X,exp:X+3600,auth_time:X,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},U);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(bt)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function dt(){var U;const V=null===(U=Me())||void 0===U?void 0:U.forceEnvironment;if("node"===V)return!0;if("browser"===V)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function jt(){return"object"==typeof self&&self.self===self}function ht(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $s(){const U=Ve();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ie(){return!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function be(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((U,V)=>{try{let z=!0;const le="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(le);X.onsuccess=()=>{X.result.close(),z||self.indexedDB.deleteDatabase(le),U(!0)},X.onupgradeneeded=()=>{z=!1},X.onerror=()=>{var Ce;V((null===(Ce=X.error)||void 0===Ce?void 0:Ce.message)||"")}}catch(z){V(z)}})}function Fe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Gt extends Error{constructor(V,z,le){super(z),this.code=V,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}}class Ln{constructor(V,z,le){this.service=V,this.serviceName=z,this.errors=le}create(V,...z){const le=z[0]||{},X=`${this.service}/${V}`,Ce=this.errors[V],bt=Ce?function ft(U,V){return U.replace(wt,(z,le)=>{const X=V[le];return null!=X?String(X):`<${le}?>`})}(Ce,le):"Error";return new Gt(X,`${this.serviceName}: ${bt} (${X}).`,le)}}const wt=/\{\$([^}]+)}/g;function ai(U,V){return Object.prototype.hasOwnProperty.call(U,V)}function Vr(U){for(const V in U)if(Object.prototype.hasOwnProperty.call(U,V))return!1;return!0}function lt(U,V){if(U===V)return!0;const z=Object.keys(U),le=Object.keys(V);for(const X of z){if(!le.includes(X))return!1;const Ce=U[X],bt=V[X];if(Ri(Ce)&&Ri(bt)){if(!lt(Ce,bt))return!1}else if(Ce!==bt)return!1}for(const X of le)if(!z.includes(X))return!1;return!0}function Ri(U){return null!==U&&"object"==typeof U}function Er(U){const V=[];for(const[z,le]of Object.entries(U))Array.isArray(le)?le.forEach(X=>{V.push(encodeURIComponent(z)+"="+encodeURIComponent(X))}):V.push(encodeURIComponent(z)+"="+encodeURIComponent(le));return V.length?"&"+V.join("&"):""}function ui(U){const V={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[X,Ce]=le.split("=");V[decodeURIComponent(X)]=decodeURIComponent(Ce)}}),V}function ci(U){const V=U.indexOf("?");if(!V)return"";const z=U.indexOf("#",V);return U.substring(V,z>0?z:void 0)}function tn(U,V){const z=new pt(U,V);return z.subscribe.bind(z)}class pt{constructor(V,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{V(this)}).catch(le=>{this.error(le)})}next(V){this.forEachObserver(z=>{z.next(V)})}error(V){this.forEachObserver(z=>{z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,z,le){let X;if(void 0===V&&void 0===z&&void 0===le)throw new Error("Missing Observer.");X=function Xt(U,V){if("object"!=typeof U||null===U)return!1;for(const z of V)if(z in U&&"function"==typeof U[z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:z,complete:le},void 0===X.next&&(X.next=en),void 0===X.error&&(X.error=en),void 0===X.complete&&(X.complete=en);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Ce}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,V)}sendOne(V,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{z(this.observers[V])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function en(){}const hn=1e3,Zi=2,Br=144e5,Tr=.5;function Ki(U,V=hn,z=Zi){const le=V*Math.pow(z,U),X=Math.round(Tr*le*(Math.random()-.5)*2);return Math.min(Br,le+X)}function Hs(U){return U&&U._delegate?U._delegate:U}},8961:(yt,De,k)=>{var f=k(4650);let Q=null;function P(){return Q}class ne{}const ie=new f.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return(0,f.LFG)($)}()},providedIn:"platform"}),n})();const pe=new f.OlP("Location Initialized");let $=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){B()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){B()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Z(){return new $((0,f.LFG)(ie))}()},providedIn:"platform"}),n})();function B(){return!!window.history.pushState}function He(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function we(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Me)},providedIn:"root"}),n})();const ce=new f.OlP("appBaseHref");let Me=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return He(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+Ze(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+Ze(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(ce,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends st{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=He(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+Ze(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+Ze(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(ce,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(we(xe(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function Ae(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=He,n.stripTrailingSlash=we,n.\u0275fac=function(t){return new(t||n)(f.LFG(st))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Re(){return new $e((0,f.LFG)(st))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}var jt=(()=>((jt=jt||{})[jt.Format=0]="Format",jt[jt.Standalone=1]="Standalone",jt))(),ht=(()=>((ht=ht||{})[ht.Narrow=0]="Narrow",ht[ht.Abbreviated=1]="Abbreviated",ht[ht.Wide=2]="Wide",ht[ht.Short=3]="Short",ht))(),Jt=(()=>((Jt=Jt||{})[Jt.Short=0]="Short",Jt[Jt.Medium=1]="Medium",Jt[Jt.Long=2]="Long",Jt[Jt.Full=3]="Full",Jt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function Gt(n,e){return In((0,f.cg1)(n)[f.wAp.DateFormat],e)}function Ln(n,e){return In((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function ft(n,e){return In((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function wt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ot.CurrencyDecimal)return t[f.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[f.wAp.NumberSymbols][ot.Group]}return r}function Jn(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function lt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ui=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ci={},on=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),pt=(()=>((pt=pt||{})[pt.FullYear=0]="FullYear",pt[pt.Month=1]="Month",pt[pt.Date=2]="Date",pt[pt.Hours=3]="Hours",pt[pt.Minutes=4]="Minutes",pt[pt.Seconds=5]="Seconds",pt[pt.FractionalSeconds=6]="FractionalSeconds",pt[pt.Day=7]="Day",pt))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function Xt(n,e,t,r){let s=function X(n){if(bt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,u=1,l=1]=n.split("-").map(m=>+m);return en(s,u-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ui))return function Ce(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,m=Number(n[5]||0)-r,w=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,l,m,w,b),e}(r)}const e=new Date(n);if(!bt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ur(t,e)||e;let m,l=[];for(;e;){if(m=on.exec(e),!m){l.push(e);break}{l=l.concat(m.slice(1));const S=l.pop();if(!S)break;e=S}}let w=s.getTimezoneOffset();r&&(w=V(r,w),s=function le(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function z(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(V(e,s)-s))}(s,r,!0));let b="";return l.forEach(S=>{const N=function U(n){if(Hs[n])return Hs[n];let e;switch(n){case"G":case"GG":case"GGG":e=Qt(Ot.Eras,ht.Abbreviated);break;case"GGGG":e=Qt(Ot.Eras,ht.Wide);break;case"GGGGG":e=Qt(Ot.Eras,ht.Narrow);break;case"y":e=_n(pt.FullYear,1,0,!1,!0);break;case"yy":e=_n(pt.FullYear,2,0,!0,!0);break;case"yyy":e=_n(pt.FullYear,3,0,!1,!0);break;case"yyyy":e=_n(pt.FullYear,4,0,!1,!0);break;case"Y":e=Ir(1);break;case"YY":e=Ir(2,!0);break;case"YYY":e=Ir(3);break;case"YYYY":e=Ir(4);break;case"M":case"L":e=_n(pt.Month,1,1);break;case"MM":case"LL":e=_n(pt.Month,2,1);break;case"MMM":e=Qt(Ot.Months,ht.Abbreviated);break;case"MMMM":e=Qt(Ot.Months,ht.Wide);break;case"MMMMM":e=Qt(Ot.Months,ht.Narrow);break;case"LLL":e=Qt(Ot.Months,ht.Abbreviated,jt.Standalone);break;case"LLLL":e=Qt(Ot.Months,ht.Wide,jt.Standalone);break;case"LLLLL":e=Qt(Ot.Months,ht.Narrow,jt.Standalone);break;case"w":e=jr(1);break;case"ww":e=jr(2);break;case"W":e=jr(1,!0);break;case"d":e=_n(pt.Date,1);break;case"dd":e=_n(pt.Date,2);break;case"c":case"cc":e=_n(pt.Day,1);break;case"ccc":e=Qt(Ot.Days,ht.Abbreviated,jt.Standalone);break;case"cccc":e=Qt(Ot.Days,ht.Wide,jt.Standalone);break;case"ccccc":e=Qt(Ot.Days,ht.Narrow,jt.Standalone);break;case"cccccc":e=Qt(Ot.Days,ht.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=Qt(Ot.Days,ht.Abbreviated);break;case"EEEE":e=Qt(Ot.Days,ht.Wide);break;case"EEEEE":e=Qt(Ot.Days,ht.Narrow);break;case"EEEEEE":e=Qt(Ot.Days,ht.Short);break;case"a":case"aa":case"aaa":e=Qt(Ot.DayPeriods,ht.Abbreviated);break;case"aaaa":e=Qt(Ot.DayPeriods,ht.Wide);break;case"aaaaa":e=Qt(Ot.DayPeriods,ht.Narrow);break;case"b":case"bb":case"bbb":e=Qt(Ot.DayPeriods,ht.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=Qt(Ot.DayPeriods,ht.Wide,jt.Standalone,!0);break;case"bbbbb":e=Qt(Ot.DayPeriods,ht.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Qt(Ot.DayPeriods,ht.Abbreviated,jt.Format,!0);break;case"BBBB":e=Qt(Ot.DayPeriods,ht.Wide,jt.Format,!0);break;case"BBBBB":e=Qt(Ot.DayPeriods,ht.Narrow,jt.Format,!0);break;case"h":e=_n(pt.Hours,1,-12);break;case"hh":e=_n(pt.Hours,2,-12);break;case"H":e=_n(pt.Hours,1);break;case"HH":e=_n(pt.Hours,2);break;case"m":e=_n(pt.Minutes,1);break;case"mm":e=_n(pt.Minutes,2);break;case"s":e=_n(pt.Seconds,1);break;case"ss":e=_n(pt.Seconds,2);break;case"S":e=_n(pt.FractionalSeconds,1);break;case"SS":e=_n(pt.FractionalSeconds,2);break;case"SSS":e=_n(pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=hn(tn.Short);break;case"ZZZZZ":e=hn(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hn(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=hn(tn.Long);break;default:return null}return Hs[n]=e,e}(S);b+=N?N(s,t,w):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function en(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ur(n,e){const t=function ue(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(ci[t]=ci[t]||{},ci[t][e])return ci[t][e];let r="";switch(e){case"shortDate":r=Gt(n,Jt.Short);break;case"mediumDate":r=Gt(n,Jt.Medium);break;case"longDate":r=Gt(n,Jt.Long);break;case"fullDate":r=Gt(n,Jt.Full);break;case"shortTime":r=Ln(n,Jt.Short);break;case"mediumTime":r=Ln(n,Jt.Medium);break;case"longTime":r=Ln(n,Jt.Long);break;case"fullTime":r=Ln(n,Jt.Full);break;case"short":const s=ur(n,"shortTime"),u=ur(n,"shortDate");r=Ni(ft(n,Jt.Short),[s,u]);break;case"medium":const l=ur(n,"mediumTime"),m=ur(n,"mediumDate");r=Ni(ft(n,Jt.Medium),[l,m]);break;case"long":const w=ur(n,"longTime"),b=ur(n,"longDate");r=Ni(ft(n,Jt.Long),[w,b]);break;case"full":const S=ur(n,"fullTime"),N=ur(n,"fullDate");r=Ni(ft(n,Jt.Full),[S,N])}return r&&(ci[t][e]=r),r}function Ni(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Pn(n,e,t="-",r,s){let u="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,u=t));let l=String(n);for(;l.length<e;)l="0"+l;return r&&(l=l.slice(l.length-e)),u+l}function _n(n,e,t=0,r=!1,s=!1){return function(u,l){let m=function gs(n,e){switch(n){case pt.FullYear:return e.getFullYear();case pt.Month:return e.getMonth();case pt.Date:return e.getDate();case pt.Hours:return e.getHours();case pt.Minutes:return e.getMinutes();case pt.Seconds:return e.getSeconds();case pt.FractionalSeconds:return e.getMilliseconds();case pt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||m>-t)&&(m+=t),n===pt.Hours)0===m&&-12===t&&(m=12);else if(n===pt.FractionalSeconds)return function Vn(n,e){return Pn(n,3).substring(0,e)}(m,e);const w=wt(l,ot.MinusSign);return Pn(m,e,w,r,s)}}function Qt(n,e,t=jt.Format,r=!1){return function(s,u){return function Ur(n,e,t,r,s,u){switch(t){case Ot.Months:return function be(n,e,t){const r=(0,f.cg1)(n),u=In([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return In(u,t)}(e,s,r)[n.getMonth()];case Ot.Days:return function Ie(n,e,t){const r=(0,f.cg1)(n),u=In([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return In(u,t)}(e,s,r)[n.getDay()];case Ot.DayPeriods:const l=n.getHours(),m=n.getMinutes();if(u){const b=function ai(n){const e=(0,f.cg1)(n);return Jn(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?lt(r):[lt(r[0]),lt(r[1])])}(e),S=function Oe(n,e,t){const r=(0,f.cg1)(n);Jn(r);const u=In([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return In(u,t)||[]}(e,s,r),N=b.findIndex(H=>{if(Array.isArray(H)){const[K,ye]=H,Le=l>=K.hours&&m>=K.minutes,Pe=l<ye.hours||l===ye.hours&&m<ye.minutes;if(K.hours<ye.hours){if(Le&&Pe)return!0}else if(Le||Pe)return!0}else if(H.hours===l&&H.minutes===m)return!0;return!1});if(-1!==N)return S[N]}return function he(n,e,t){const r=(0,f.cg1)(n),u=In([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return In(u,t)}(e,s,r)[l<12?0:1];case Ot.Eras:return function Ge(n,e){return In((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,n,e,t,r)}}function hn(n){return function(e,t,r){const s=-1*r,u=wt(t,ot.MinusSign),l=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case tn.Short:return(s>=0?"+":"")+Pn(l,2,u)+Pn(Math.abs(s%60),2,u);case tn.ShortGMT:return"GMT"+(s>=0?"+":"")+Pn(l,1,u);case tn.Long:return"GMT"+(s>=0?"+":"")+Pn(l,2,u)+":"+Pn(Math.abs(s%60),2,u);case tn.Extended:return 0===r?"Z":(s>=0?"+":"")+Pn(l,2,u)+":"+Pn(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const Zi=0,Br=4;function Ki(n){return en(n.getFullYear(),n.getMonth(),n.getDate()+(Br-n.getDay()))}function jr(n,e=!1){return function(t,r){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();s=1+Math.floor((l+u)/7)}else{const u=Ki(t),l=function Tr(n){const e=en(n,Zi,1).getDay();return en(n,0,1+(e<=Br?Br:Br+7)-e)}(u.getFullYear()),m=u.getTime()-l.getTime();s=1+Math.round(m/6048e5)}return Pn(s,n,wt(r,ot.MinusSign))}}function Ir(n,e=!1){return function(t,r){return Pn(Ki(t).getFullYear(),n,wt(r,ot.MinusSign),e)}}const Hs={};function V(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function bt(n){return n instanceof Date&&!isNaN(n.valueOf())}const li=/\s+/,Xe=[];let Mt=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this.initialClasses=Xe,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(li):Xe}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(li):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(li).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class cr{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ys=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new cr(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,l),Bn(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Bn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Bn(n,e){n.context.$implicit=e.item}let zs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function Mu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}const Ua=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Nu=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let hi=(()=>{class n{constructor(t,r,s){this.locale=t,this.defaultTimezone=r,this.defaultOptions=s}transform(t,r,s,u){if(null==t||""===t||t!=t)return null;try{return Xt(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function Qi(n,e){return new f.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(Ua,24),f.Y36(Nu,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ks=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Pu="server";function Jc(n){return n===Pu}let $o=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Ha((0,f.LFG)(ie),window)}),n})();class Ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ga(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ki(this.window.history)||ki(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ki(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ya extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wu extends Ya{static makeCurrent(){!function re(n){Q||(Q=n)}(new Wu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Qo(){return Js=Js||document.querySelector("base"),Js?Js.getAttribute("href"):null}();return null==t?null:function Qf(n){mi=mi||document.createElement("a"),mi.setAttribute("href",n);const e=mi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Gs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let mi,Js=null;const Zu=new f.OlP("TRANSITION_ID"),Hd=[{provide:f.ip1,useFactory:function Qa(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=P(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Zu,ie,f.zs3],multi:!0}];let ll=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=new f.OlP("EventManagerPlugins");let Jo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ja),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Xo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=P().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let dl=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const s=this.usageCount;let u=s.get(t)??0;return u+=r,u>0?s.set(t,u):s.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends dl{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const s=this.doc.createElement("style");s.textContent=r,t.appendChild(s);const u=this.styleRef.get(r);u?u.push(s):this.styleRef.set(r,[s])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ku=/%COMP%/g,Xa=new f.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function zd(n,e){return e.flat(100).map(t=>t.replace(Ku,n))}function Qu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yi=(()=>{class n{constructor(t,r,s,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new Xf(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const s=this.getOrCreateRenderer(t,r);return s instanceof Xs?s.applyToHost(t):s instanceof ns&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const l=this.eventManager,m=this.sharedStylesHost,w=this.removeStylesOnCompDestory;switch(r.encapsulation){case f.ifc.Emulated:u=new Xs(l,m,r,this.appId,w);break;case f.ifc.ShadowDom:return new tp(l,m,t,r);default:u=new ns(l,m,r,w)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Jo),f.LFG(Ds),f.LFG(f.AFp),f.LFG(Xa))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Xf{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Cs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ep(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ep(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=Cs[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=Cs[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qu(r)):this.eventManager.addEventListener(e,t,Qu(r))}}function ep(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tp extends Xf{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=zd(s.id,s.styles);for(const l of u){const m=document.createElement("style");m.textContent=l,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ns extends Xf{constructor(e,t,r,s,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=zd(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xs extends ns{constructor(e,t,r,s,u){const l=s+"-"+r.id;super(e,t,r,u,l),this.contentAttr=function Jf(n){return"_ngcontent-%COMP%".replace(Ku,n)}(l),this.hostAttr=function fl(n){return"_nghost-%COMP%".replace(Ku,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ju=(()=>{class n extends Xo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const pl=["alt","control","meta","shift"],Wd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vr=(()=>{class n extends Xo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),l="code."),pl.forEach(b=>{const S=r.indexOf(b);S>-1&&(r.splice(S,1),l+=b+".")}),l+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=l,w}static matchEventFullKeyCode(t,r){let s=Wd[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),pl.forEach(l=>{l!==s&&(0,Xu[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const rp=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function bs(){Wu.makeCurrent()},multi:!0},{provide:ie,useFactory:function Yd(){return(0,f.RDi)(document),document},deps:[]}]),ec=new f.OlP(""),wo=[{provide:f.rWj,useClass:class cl{addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const m=function(w){l=l||w,u--,0==u&&r(l)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],ra=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Kd(){return new f.qLn},deps:[]},{provide:Ja,useClass:Ju,multi:!0,deps:[ie,f.R0b,f.Lbi]},{provide:Ja,useClass:vr,multi:!0,deps:[ie]},{provide:yi,useClass:yi,deps:[Jo,Ds,f.AFp,Xa]},{provide:f.FYo,useExisting:yi},{provide:dl,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[ie]},{provide:Jo,useClass:Jo,deps:[Ja,f.R0b]},{provide:class Ji{},useClass:ll,deps:[]},[]];let ti=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Zu,useExisting:f.AFp},Hd]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ec,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...ra,...wo],imports:[Ks,f.hGG]}),n})(),Wn=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Eo(){return new Wn((0,f.LFG)(ie))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=k(8996),Li=k(7669);function ut(...n){const e=(0,Li.yG)(n);return(0,fn.D)(n,e)}var Ts=k(7579);class Zn extends Ts.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Io=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _i=k(9751);const{isArray:nh}=Array,{getPrototypeOf:rh,prototype:wi,keys:aa}=Object;function ic(n){if(1===n.length){const e=n[0];if(nh(e))return{args:e,keys:null};if(function su(n){return n&&"object"==typeof n&&rh(n)===wi}(e)){const t=aa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ua=k(4671),gt=k(4004);const{isArray:vl}=Array;function is(n){return(0,gt.U)(e=>function ih(n,e){return vl(e)?n(...e):n(e)}(n,e))}function sc(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var pr=k(5403),_l=k(9672);function wl(...n){const e=(0,Li.yG)(n),t=(0,Li.jO)(n),{args:r,keys:s}=ic(n);if(0===r.length)return(0,fn.D)([],e);const u=new _i.y(function to(n,e,t=ua.y){return r=>{Do(e,()=>{const{length:s}=n,u=new Array(s);let l=s,m=s;for(let w=0;w<s;w++)Do(e,()=>{const b=(0,fn.D)(n[w],e);let S=!1;b.subscribe((0,pr.x)(r,N=>{u[w]=N,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>sc(s,l):ua.y));return t?u.pipe(is(t)):u}function Do(n,e,t){n?(0,_l.f)(t,n,e):e()}var oc=k(8189);function Co(...n){return function sh(){return(0,oc.J)(1)}()((0,fn.D)(n,(0,Li.yG)(n)))}var Vi=k(8421);function ac(n){return new _i.y(e=>{(0,Vi.Xf)(n()).subscribe(e)})}var ap=k(9635),El=k(576);function ou(n,e){const t=(0,El.m)(n)?n:()=>n,r=s=>s.error(t());return new _i.y(e?s=>e.schedule(r,0,s):r)}var ni=k(515),uc=k(727),Mr=k(4482);function Il(){return(0,Mr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Dl extends _i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new uc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=uc.w0.EMPTY)}return e}refCount(){return Il()(this)}}function rr(n,e){return(0,Mr.e)((t,r)=>{let s=null,u=0,l=!1;const m=()=>l&&!s&&r.complete();t.subscribe((0,pr.x)(r,w=>{s?.unsubscribe();let b=0;const S=u++;(0,Vi.Xf)(n(w,S)).subscribe(s=(0,pr.x)(r,N=>r.next(e?e(w,N,S,b++):N),()=>{s=null,m()}))},()=>{l=!0,m()}))})}function bo(n){return n<=0?()=>ni.E:(0,Mr.e)((e,t)=>{let r=0;e.subscribe((0,pr.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function cc(...n){const e=(0,Li.yG)(n);return(0,Mr.e)((t,r)=>{(e?Co(n,t,e):Co(n,t)).subscribe(r)})}function ri(n,e){return(0,Mr.e)((t,r)=>{let s=0;t.subscribe((0,pr.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var $n=k(5577);function au(n){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe((0,pr.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function To(n=uu){return(0,Mr.e)((e,t)=>{let r=!1;e.subscribe((0,pr.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function uu(){return new Io}function ss(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((s,u)=>n(s,u,r)):ua.y,bo(1),t?au(e):To(()=>new Io))}function os(n,e){return(0,El.m)(e)?(0,$n.z)(n,e,1):(0,$n.z)(n,1)}var ir=k(8505);function no(n){return(0,Mr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,pr.x)(t,void 0,void 0,l=>{u=(0,Vi.Xf)(n(l,no(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function ca(n,e){return(0,Mr.e)(function iv(n,e,t,r,s){return(u,l)=>{let m=t,w=e,b=0;u.subscribe((0,pr.x)(l,S=>{const N=b++;w=m?n(w,S,N):(m=!0,S),r&&l.next(w)},s&&(()=>{m&&l.next(w),l.complete()})))}}(n,e,arguments.length>=2,!0))}function cu(n){return n<=0?()=>ni.E:(0,Mr.e)((e,t)=>{let r=[];e.subscribe((0,pr.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function lu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ri((s,u)=>n(s,u,r)):ua.y,cu(1),t?au(e):To(()=>new Io))}function la(n){return(0,Mr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const It="primary",Ui=Symbol("RouteTitle");class bl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ei(n){return new bl(n)}function up(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],m=n[u];if(l.startsWith(":"))s[l.substring(1)]=m;else if(l!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!dc(n[s],e[s]))return!1;return!0}function dc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function du(n){return Array.prototype.concat.apply([],n)}function hc(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function A(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,fn.D)(Promise.resolve(n)):ut(n)}const O=!1,j={exact:function Be(n,e,t){if(!Kn(n.segments,e.segments)||!_r(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Be(n.children[r],e.children[r],t))return!1;return!0},subset:At},W={exact:function ze(n,e){return Bi(n,e)},subset:function at(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dc(n[t],e[t]))},ignored:()=>!0};function te(n,e,t){return j[t.paths](n.root,e.root,t.matrixParams)&&W[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function At(n,e,t){return xt(n,e,e.segments,t)}function xt(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Kn(s,t)||e.hasChildren()||!_r(s,t,r))}if(n.segments.length===t.length){if(!Kn(n.segments,t)||!_r(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!At(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Kn(n.segments,s)&&_r(n.segments,s,r)&&n.children[It])&&xt(n.children[It],e,u,r)}}function _r(n,e,t){return e.every((r,s)=>W[t](n[s].parameters,r.parameters))}class Cn{constructor(e=new Ut([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ei(this.queryParams)),this._queryParamMap}toString(){return Tl.serialize(this)}}class Ut{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}}class Ss{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ei(this.parameters)),this._parameterMap}toString(){return am(this)}}function Kn(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new cp},providedIn:"root"}),n})();class cp{parse(e){const t=new Al(e);return new Cn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Sl(e.root,!0)}`,r=function um(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${fc(t)}=${fc(s)}`).join("&"):`${fc(t)}=${fc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Tl=new cp;function oh(n){return n.segments.map(e=>am(e)).join("/")}function Sl(n,e){if(!n.hasChildren())return oh(n);if(e){const t=n.children[It]?Sl(n.children[It],!1):"",r=[];return D(n.children,(s,u)=>{u!==It&&r.push(`${u}:${Sl(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function as(n,e){let t=[];return D(n.children,(r,s)=>{s===It&&(t=t.concat(e(r,s)))}),D(n.children,(r,s)=>{s!==It&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===It?[Sl(n.children[It],!1)]:[`${s}:${Sl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${oh(n)}/${t[0]}`:`${oh(n)}/(${t.join("//")})`}}function ah(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fc(n){return ah(n).replace(/%3B/gi,";")}function da(n){return ah(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pc(n){return decodeURIComponent(n)}function lp(n){return pc(n.replace(/\+/g,"%20"))}function am(n){return`${da(n.path)}${function dp(n){return Object.keys(n).map(e=>`;${da(e)}=${da(n[e])}`).join("")}(n.parameters)}`}const sv=/^[^\/()?;=#]+/;function ch(n){const e=n.match(sv);return e?e[0]:""}const ov=/^[^=?&#]+/,uv=/^[^&#]+/;class Al{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[It]=new Ut(e,t)),r}parseSegment(){const e=ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,O);return this.capture(e),new Ss(pc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ch(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ch(this.remaining);s&&(r=s,this.capture(r))}e[pc(t)]=pc(r)}parseQueryParam(e){const t=function av(n){const e=n.match(ov);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function lh(n){const e=n.match(uv);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=lp(t),u=lp(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ch(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new f.vHH(4010,O);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=It);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[It]:new Ut([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,O)}}function dh(n){return n.segments.length>0?new Ut([],{[It]:n}):n}function ha(n){const e={};for(const r of Object.keys(n.children)){const u=ha(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function cv(n){if(1===n.numberOfChildren&&n.children[It]){const e=n.children[It];return new Ut(n.segments.concat(e.segments),e.children)}return n}(new Ut(n.segments,e))}function fa(n){return n instanceof Cn}const hh=!1;function fh(n,e,t,r,s){if(0===t.length)return io(e.root,e.root,e.root,r,s);const u=function gp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pp(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return D(u.outlets,(w,b)=>{m[b]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new pp(t,e,r)}(t);return u.toRoot()?io(e.root,e.root,new Ut([],{}),r,s):function l(w){const b=function lm(n,e,t,r){if(n.isAbsolute)return new pu(e.root,!0,0);if(-1===r)return new pu(t,t===e.root,0);return function mc(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new f.vHH(4005,hh&&"Invalid number of '../'");s=r.segments.length}return new pu(r,!1,s-u)}(t,r+(gc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),S=b.processChildren?Ii(b.segmentGroup,b.index,u.commands):yp(b.segmentGroup,b.index,u.commands);return io(e.root,b.segmentGroup,S,r,s)}(n.snapshot?._lastPathIndex)}function gc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fu(n){return"object"==typeof n&&null!=n&&n.outlets}function io(n,e,t,r,s){let l,u={};r&&D(r,(w,b)=>{u[b]=Array.isArray(w)?w.map(S=>`${S}`):`${w}`}),l=n===e?t:fp(n,e,t);const m=dh(ha(l));return new Cn(m,u,s)}function fp(n,e,t){const r={};return D(n.children,(s,u)=>{r[u]=s===e?t:fp(s,e,t)}),new Ut(n.segments,r)}class pp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gc(r[0]))throw new f.vHH(4003,hh&&"Root segment cannot have matrix parameters");const s=r.find(fu);if(s&&s!==hc(r))throw new f.vHH(4004,hh&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function yp(n,e,t){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return Ii(n,e,t);const r=function vp(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],m=t[r];if(fu(m))break;const w=`${m}`,b=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ml(w,b,l))return u;r+=2}else{if(!Ml(w,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ut(n.segments.slice(0,r.pathIndex),{});return u.children[It]=new Ut(n.segments.slice(r.pathIndex),n.children),Ii(u,0,s)}return r.match&&0===s.length?new Ut(n.segments,{}):r.match&&!n.hasChildren()?xl(n,e,t):r.match?Ii(n,0,s):xl(n,e,t)}function Ii(n,e,t){if(0===t.length)return new Ut(n.segments,{});{const r=function ph(n){return fu(n[0])?n[0].outlets:{[It]:n}}(t),s={};if(!r[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const u=Ii(n.children[It],e,t);return new Ut(n.segments,u.children)}return D(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=yp(n.children[l],e,u))}),D(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new Ut(n.segments,s)}}function xl(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(fu(u)){const w=gu(u.outlets);return new Ut(r,w)}if(0===s&&gc(t[0])){r.push(new Ss(n.segments[e].path,dm(t[0]))),s++;continue}const l=fu(u)?u.outlets[It]:`${u}`,m=s<t.length-1?t[s+1]:null;l&&m&&gc(m)?(r.push(new Ss(l,dm(m))),s+=2):(r.push(new Ss(l,{})),s++)}return new Ut(r,{})}function gu(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xl(new Ut([],{}),0,t))}),e}function dm(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function Ml(n,e,t){return n==t.path&&Bi(e,t.parameters)}const Rl="imperative";class so{constructor(e,t){this.id=e,this.url=t}}class Nl extends so{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ga extends so{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ol extends so{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ao extends so{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Pl extends so{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yc extends so{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lv extends so{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dv extends so{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class W0 extends so{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hm extends so{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hv{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fm{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fl{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pm{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _p{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let fv=(()=>{class n{createUrlTree(t,r,s,u,l,m){return fh(t||r.root,s,u,l,m)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(e){return fv.\u0275fac(e)},providedIn:"root"}),n})();class ym{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return oo(e,this._root).map(t=>t.value)}}function wp(n,e){if(n===e.value)return e;for(const t of e.children){const r=wp(n,t);if(r)return r}return null}function oo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oo(n,t);if(r.length)return r.unshift(e),r}return[]}class ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ao(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gv extends ym{constructor(e,t){super(e),this.snapshot=t,Ul(this,e)}toString(){return this.snapshot.toString()}}function vm(n,e){const t=function Z0(n,e){const l=new Vl([],{},{},"",{},It,e,null,n.root,-1,{});return new gh("",new ji(l,[]))}(n,e),r=new Zn([new Ss("",{})]),s=new Zn({}),u=new Zn({}),l=new Zn({}),m=new Zn(""),w=new mu(r,s,l,m,u,It,e,t.root);return w.snapshot=t.root,new gv(new ji(w,[]),t)}class mu{constructor(e,t,r,s,u,l,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.title=this.data?.pipe((0,gt.U)(b=>b[Ui]))??ut(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>Ei(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>Ei(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function _m(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Vl{get title(){return this.data?.[Ui]}constructor(e,t,r,s,u,l,m,w,b,S,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=m,this.routeConfig=w,this._urlSegment=b,this._lastPathIndex=S,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ei(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ei(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gh extends ym{constructor(e,t){super(t),this.url=e,Ul(this,t)}toString(){return Ep(this._root)}}function Ul(n,e){e.value._routerState=n,e.children.forEach(t=>Ul(n,t))}function Ep(n){const e=n.children.length>0?` { ${n.children.map(Ep).join(", ")} } `:"";return`${n.value}${e}`}function Bl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Bi(e.params,t.params)||n.params.next(t.params),function lc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $i(n,e){const t=Bi(n.params,e.params)&&function hu(n,e){return Kn(n,e)&&n.every((t,r)=>Bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$i(n.parent,e.parent))}function Dr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function _c(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Dr(n,r,s);return Dr(n,r)})}(n,e,t);return new ji(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(m=>Dr(n,m)),l}}const r=function Ip(n){return new mu(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Dr(n,u));return new ji(r,s)}}const wm="ngNavigationCancelingError";function Dp(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Cp(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Cp(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[wm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function mh(n){return $l(n)&&fa(n.url)}function $l(n){return n&&n[wm]}class K0{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new As,this.attachRef=null}}let As=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new K0,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wc=!1;let bp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(As),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,wc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,wc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,wc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,wc);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new yv(t,m,s.injector);if(r&&function vv(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(l);this.activated=s.createComponent(b,s.length,w)}else this.activated=s.createComponent(l,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),n})();class yv{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mu?this.route:e===As?this.childContexts:this.parent.get(e,t)}}let yh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[bp],encapsulation:2}),n})();function Gr(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ec(n){const e=n.children&&n.children.map(Ec),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==It&&(t.component=yh),t}function us(n){return n.outlet||It}function Cm(n,e){const t=n.filter(r=>us(r)===e);return t.push(...n.filter(r=>us(r)!==e)),t}function Gl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class y{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=ao(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),D(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=ao(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=ao(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=ao(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new pm(u.value.snapshot))}),e.children.length&&this.forwardEvent(new vc(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Bl(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(m.contexts),l.attachRef=m.componentRef,l.route=m.route.value,l.outlet&&l.outlet.attach(m.componentRef,m.route.value),Bl(m.route.value),this.activateChildRoutes(e,null,l.children)}else{const m=Gl(s.snapshot),w=m?.get(f._Vd)??null;l.attachRef=null,l.route=s,l.resolver=w,l.injector=m,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class h{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p{constructor(e,t){this.component=e,this.route=t}}function v(n,e,t){const r=n._root;return L(r,e?e._root:null,t,[r.value])}function M(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function L(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=ao(e);return n.children.forEach(l=>{(function q(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const w=function _e(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kn(n.url,e.url)||!Bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$i(n,e)||!Bi(n.queryParams,e.queryParams);default:return!$i(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new h(r)):(u.data=l.data,u._resolvedData=l._resolvedData),L(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new p(m.outlet.component,l))}else l&&de(e,m,s),s.canActivateChecks.push(new h(r)),L(n,null,u.component?m?m.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),D(u,(l,m)=>de(l,t.getContext(m),s)),s}function de(n,e,t){const r=ao(n),s=n.value;D(r,(u,l)=>{de(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new p(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function je(n){return"function"==typeof n}function xs(n){return n instanceof Io||"EmptyError"===n?.name}const ql=Symbol("INITIAL_VALUE");function xo(){return rr(n=>wl(n.map(e=>e.pipe(bo(1),cc(ql)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===ql)return ql;if(!1===t||t instanceof Cn)return t}return!0}),ri(e=>e!==ql),bo(1)))}function Ev(n){return(0,ap.z)((0,ir.b)(e=>{if(fa(e))throw Dp(0,e)}),(0,gt.U)(e=>!0===e))}const Iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Q0(n,e,t,r,s){const u=Dv(n,e,t);return u.matched?function _h(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ut(s.map(l=>{const m=M(l,n);return A(function zl(n){return n&&je(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(xo(),Ev()):ut(!0)}(r=Gr(e,r),e,t).pipe((0,gt.U)(l=>!0===l?u:{...Iv})):ut(u)}function Dv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Iv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||up)(t,n,e);if(!s)return{...Iv};const u={};D(s.posParams,(m,w)=>{u[w]=m.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function wh(n,e,t,r){if(t.length>0&&function ND(n,e,t){return t.some(r=>Cv(n,e,r)&&us(r)!==It)}(n,t,r)){const u=new Ut(e,function J0(n,e,t,r){const s={};s[It]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&us(u)!==It){const l=new Ut([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[us(u)]=l}return s}(n,e,r,new Ut(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function X0(n,e,t){return t.some(r=>Cv(n,e,r))}(n,t,r)){const u=new Ut(n.segments,function RD(n,e,t,r,s){const u={};for(const l of r)if(Cv(n,t,l)&&!s[us(l)]){const m=new Ut([],{});m._sourceSegment=n,m._segmentIndexShift=e.length,u[us(l)]=m}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Ut(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Cv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ew(n,e,t,r){return!!(us(n)===r||r!==It&&Cv(e,t,n))&&("**"===n.path||Dv(e,n,t).matched)}function Eh(n,e,t){return 0===e.length&&!n.children[t]}const Sm=!1;class vu{constructor(e){this.segmentGroup=e||null}}class Ih{constructor(e){this.urlTree=e}}function Mp(n){return ou(new vu(n))}function bv(n){return ou(new Ih(n))}class tw{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=wh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ut(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,It).pipe((0,gt.U)(u=>this.createUrlTree(ha(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(u=>{if(u instanceof Ih)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof vu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,It).pipe((0,gt.U)(s=>this.createUrlTree(ha(s),e.queryParams,e.fragment))).pipe(no(s=>{throw s instanceof vu?this.noMatchError(s):s}))}noMatchError(e){return new f.vHH(4002,Sm)}createUrlTree(e,t,r){const s=dh(e);return new Cn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gt.U)(u=>new Ut([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,fn.D)(s).pipe(os(u=>{const l=r.children[u],m=Cm(t,u);return this.expandSegmentGroup(e,m,l,u).pipe((0,gt.U)(w=>({segment:w,outlet:u})))}),ca((u,l)=>(u[l.outlet]=l.segment,u),{}),lu())}expandSegment(e,t,r,s,u,l){return(0,fn.D)(r).pipe(os(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,l).pipe(no(b=>{if(b instanceof vu)return ut(null);throw b}))),ss(m=>!!m),no((m,w)=>{if(xs(m))return Eh(t,s,u)?ut(new Ut([],{})):Mp(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,l,m){return ew(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):Mp(t):Mp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?bv(u):this.lineralizeSegments(r,u).pipe((0,$n.z)(l=>{const m=new Ut(l,{});return this.expandSegment(e,m,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:m,consumedSegments:w,remainingSegments:b,positionalParamSegments:S}=Dv(t,s,u);if(!m)return Mp(t);const N=this.applyRedirectCommands(w,s.redirectTo,S);return s.redirectTo.startsWith("/")?bv(N):this.lineralizeSegments(s,N).pipe((0,$n.z)(H=>this.expandSegment(e,t,r,H.concat(b),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=Gr(r,e),r.loadChildren?(r._loadedRoutes?ut({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,gt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new Ut(s,{})))):ut(new Ut(s,{}))):Q0(t,r,s,e).pipe(rr(({matched:l,consumedSegments:m,remainingSegments:w})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,$n.z)(S=>{const N=S.injector??e,H=S.routes,{segmentGroup:K,slicedSegments:ye}=wh(t,m,w,H),Le=new Ut(K.segments,K.children);if(0===ye.length&&Le.hasChildren())return this.expandChildren(N,H,Le).pipe((0,gt.U)(Dt=>new Ut(m,Dt)));if(0===H.length&&0===ye.length)return ut(new Ut(m,{}));const Pe=us(r)===u;return this.expandSegment(N,Le,H,ye,Pe?It:u,!0).pipe((0,gt.U)(Tt=>new Ut(m.concat(Tt.segments),Tt.children)))})):Mp(t)))}getChildConfig(e,t,r){return t.children?ut({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ut({routes:t._loadedRoutes,injector:t._loadedInjector}):function MD(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ut(!0):ut(s.map(l=>{const m=M(l,n);return A(function Ht(n){return n&&je(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(xo(),Ev())}(e,t,r).pipe((0,$n.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,ir.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function PD(n){return ou(Cp(Sm,3))}())):ut({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ut(r);if(s.numberOfChildren>1||!s.children[It])return e.redirectTo,ou(new f.vHH(4e3,Sm));s=s.children[It]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new Cn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return D(t.children,(m,w)=>{l[w]=this.createSegmentGroup(e,m,r,s)}),new Ut(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new f.vHH(4001,Sm);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class Tv{}class Rp{constructor(e,t,r,s,u,l,m){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=m}recognize(){const e=wh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,It).pipe((0,gt.U)(t=>{if(null===t)return null;const r=new Vl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ji(r,t),u=new gh(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=mv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,fn.D)(Object.keys(r.children)).pipe(os(s=>{const u=r.children[s],l=Cm(t,s);return this.processSegmentGroup(e,l,u,s)}),ca((s,u)=>s&&u?(s.push(...u),s):null),function So(n,e=!1){return(0,Mr.e)((t,r)=>{let s=0;t.subscribe((0,pr.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),au(null),lu(),(0,gt.U)(s=>{if(null===s)return null;const u=rw(s);return function LD(n){n.sort((e,t)=>e.value.outlet===It?-1:t.value.outlet===It?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,fn.D)(t).pipe(os(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),ss(l=>!!l),no(l=>{if(xs(l))return Eh(r,s,u)?ut([]):ut(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!ew(t,r,s,u))return ut(null);let l;if("**"===t.path){const m=s.length>0?hc(s).parameters:{},w=sw(r)+s.length;l=ut({snapshot:new Vl(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(t),us(t),t.component??t._loadedComponent??null,t,iw(r),w,ow(t)),consumedSegments:[],remainingSegments:[]})}else l=Q0(r,t,s,e).pipe((0,gt.U)(({matched:m,consumedSegments:w,remainingSegments:b,parameters:S})=>{if(!m)return null;const N=sw(r)+w.length;return{snapshot:new Vl(w,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ya(t),us(t),t.component??t._loadedComponent??null,t,iw(r),N,ow(t)),consumedSegments:w,remainingSegments:b}}));return l.pipe(rr(m=>{if(null===m)return ut(null);const{snapshot:w,consumedSegments:b,remainingSegments:S}=m;e=t._injector??e;const N=t._loadedInjector??e,H=function VD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:K,slicedSegments:ye}=wh(r,b,S,H.filter(Pe=>void 0===Pe.redirectTo));if(0===ye.length&&K.hasChildren())return this.processChildren(N,H,K).pipe((0,gt.U)(Pe=>null===Pe?null:[new ji(w,Pe)]));if(0===H.length&&0===ye.length)return ut([new ji(w,[])]);const Le=us(t)===u;return this.processSegment(N,H,K,ye,Le?It:u).pipe((0,gt.U)(Pe=>null===Pe?null:[new ji(w,Pe)]))}))}}function UD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rw(n){const e=[],t=new Set;for(const r of n){if(!UD(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=rw(r.children);e.push(new ji(r.value,s))}return e.filter(r=>!t.has(r))}function iw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ya(n){return n.data||{}}function ow(n){return n.resolve||{}}function Av(n){return"string"==typeof n.title||null===n.title}function xv(n){return rr(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,gt.U)(()=>e)):ut(e)})}const Dh=new f.OlP("ROUTES");let Rv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.f3M)(f.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ut(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=A(t.loadComponent()).pipe((0,gt.U)(cw),(0,ir.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),la(()=>{this.componentLoaders.delete(t)})),s=new Dl(r,()=>new Ts.x).pipe(Il());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ut({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,gt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,b,S=!1;Array.isArray(m)?b=m:(w=m.create(t).injector,b=du(w.get(Dh,[],f.XFs.Self|f.XFs.Optional)));return{routes:b.map(Ec),injector:w}}),la(()=>{this.childrenLoaders.delete(r)})),l=new Dl(u,()=>new Ts.x).pipe(Il());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return A(t()).pipe((0,gt.U)(cw),(0,$n.z)(r=>r instanceof f.YKP||Array.isArray(r)?ut(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cw(n){return function Mo(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ts.x,this.configLoader=(0,f.f3M)(Rv),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(ro),this.rootContexts=(0,f.f3M)(As),this.navigationId=0,this.afterPreactivation=()=>ut(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new hv(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new kl(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Zn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(r=>0!==r.id),(0,gt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),rr(r=>{let s=!1,u=!1;return ut(r).pipe((0,ir.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),rr(l=>{const m=t.browserUrlTree.toString(),w=!t.navigated||l.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new Ao(l.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ni.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return lw(l.source)&&(t.browserUrlTree=l.extractedUrl),ut(l).pipe(rr(S=>{const N=this.transitions?.getValue();return this.events.next(new Nl(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),N!==this.transitions?.getValue()?ni.E:Promise.resolve(S)}),function nw(n,e,t,r){return rr(s=>function kD(n,e,t,r,s){return new tw(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,gt.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,ir.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function jD(n,e,t,r,s){return(0,$n.z)(u=>function Sv(n,e,t,r,s,u,l="emptyOnly"){return new Rp(n,e,t,r,s,l,u).recognize().pipe(rr(m=>null===m?function FD(n){return new _i.y(e=>e.error(n))}(new Tv):ut(m)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,gt.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,ir.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const H=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(H,S)}t.browserUrlTree=S.urlAfterRedirects}const N=new yc(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(N)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:N,source:H,restoredState:K,extras:ye}=l,Le=new Nl(S,this.urlSerializer.serialize(N),H,K);this.events.next(Le);const Pe=vm(N,this.rootComponentType).snapshot;return ut(r={...l,targetSnapshot:Pe,urlAfterRedirects:N,extras:{...ye,skipLocationChange:!1,replaceUrl:!1}})}{const S="";return this.events.next(new Ao(l.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ni.E}}),(0,ir.b)(l=>{const m=new lv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(m)}),(0,gt.U)(l=>r={...l,guards:v(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Ic(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?ut({...t,guardsResult:!0}):function Tm(n,e,t,r){return(0,fn.D)(n).pipe((0,$n.z)(s=>function xD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ut(u.map(m=>{const w=Gl(e)??s,b=M(m,w);return A(function vh(n){return n&&je(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):w.runInContext(()=>b(n,e,t,r))).pipe(ss())})).pipe(xo()):ut(!0)}(s.component,s.route,t,e,r)),ss(s=>!0!==s,!0))}(l,r,s,n).pipe((0,$n.z)(m=>m&&function Ye(n){return"boolean"==typeof n}(m)?function xp(n,e,t,r){return(0,fn.D)(e).pipe(os(s=>Co(function yu(n,e){return null!==n&&e&&e(new fm(n)),ut(!0)}(s.route.parent,r),function Dc(n,e){return null!==n&&e&&e(new Fl(n)),ut(!0)}(s.route,r),function wv(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function T(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>ac(()=>ut(l.guards.map(w=>{const b=Gl(l.node)??t,S=M(w,b);return A(function uo(n){return n&&je(n.canActivateChild)}(S)?S.canActivateChild(r,n):b.runInContext(()=>S(r,n))).pipe(ss())})).pipe(xo())));return ut(u).pipe(xo())}(n,s.path,t),function Y0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ut(!0);const s=r.map(u=>ac(()=>{const l=Gl(e)??t,m=M(u,l);return A(function Rr(n){return n&&je(n.canActivate)}(m)?m.canActivate(e,n):l.runInContext(()=>m(e,n))).pipe(ss())}));return ut(s).pipe(xo())}(n,s.route,t))),ss(s=>!0!==s,!0))}(r,u,n,e):ut(m)),(0,gt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ir.b)(l=>{if(r.guardsResult=l.guardsResult,fa(l.guardsResult))throw Dp(0,l.guardsResult);const m=new dv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(m)}),ri(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),xv(l=>{if(l.guards.canActivateChecks.length)return ut(l).pipe((0,ir.b)(m=>{const w=new W0(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),rr(m=>{let w=!1;return ut(m).pipe(function lA(n,e){return(0,$n.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ut(t);let u=0;return(0,fn.D)(s).pipe(os(l=>function dA(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Av(s)&&(u[Ui]=s.title),function aw(n,e,t,r){const s=function hA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ut({});const u={};return(0,fn.D)(s).pipe((0,$n.z)(l=>function uw(n,e,t,r){const s=Gl(e)??r,u=M(n,s);return A(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(ss(),(0,ir.b)(m=>{u[l]=m}))),cu(1),function Cl(n){return(0,gt.U)(()=>n)}(u),no(l=>xs(l)?ni.E:ou(l)))}(u,n,e,r).pipe((0,gt.U)(l=>(n._resolvedData=l,n.data=mv(n,t).resolve,s&&Av(s)&&(n.data[Ui]=s.title),null)))}(l.route,r,n,e)),(0,ir.b)(()=>u++),cu(1),(0,$n.z)(l=>u===s.length?ut(t):ni.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,ir.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,ir.b)(m=>{const w=new hm(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),xv(l=>{const m=w=>{const b=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ir.b)(S=>{w.component=S}),(0,gt.U)(()=>{})));for(const S of w.children)b.push(...m(S));return b};return wl(m(l.targetSnapshot.root)).pipe(au(),bo(1))}),xv(()=>this.afterPreactivation()),(0,gt.U)(l=>{const m=function jl(n,e,t){const r=Dr(n,e._root,t?t._root:void 0);return new gv(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:m}}),(0,ir.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(r=>(new y(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),bo(1),(0,ir.b)({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ga(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),la(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),no(l=>{if(u=!0,$l(l)){mh(l)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Ol(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(m),mh(l)){const w=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||lw(r.source)};t.scheduleNavigation(w,Rl,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new Pl(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(l))}catch(w){r.reject(w)}}return ni.E}))}))}cancelNavigationTransition(t,r,s){const u=new Ol(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lw(n){return n!==Rl}let dw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===It);return r}getResolvedTitleForRoute(t){return t.data[Ui]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)($D)},providedIn:"root"}),n})(),$D=(()=>{class n extends dw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Wn))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(GD)},providedIn:"root"}),n})();class HD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let GD=(()=>{class n extends HD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kt=new f.OlP("",{providedIn:"root",factory:()=>({})});let fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(pw)},providedIn:"root"}),n})(),pw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qD(n){throw n}function WD(n,e,t){return e.parse("/")}const gw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(kt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(fw),this.routeReuseStrategy=(0,f.f3M)(hw),this.urlCreationStrategy=(0,f.f3M)(mm),this.titleStrategy=(0,f.f3M)(dw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=du((0,f.f3M)(Dh,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(xm),this.urlSerializer=(0,f.f3M)(ro),this.location=(0,f.f3M)($e),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const w={...s};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Ec),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:m,preserveFragment:w}=r,b=w?this.currentUrlTree.fragment:l;let S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...u};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,S,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=fa(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,Rl,null,r)}navigate(t,r={skipLocationChange:!1}){return function KD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...gw}:!1===r?{...ZD}:r,fa(t))return te(this.currentUrlTree,t,s);const u=this.parseUrl(t);return te(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let m,w,b,S;return l?(m=l.resolve,w=l.reject,b=l.promise):b=new Promise((N,H)=>{m=N,w=H}),S="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:S,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(N=>Promise.reject(N))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wl=(()=>{class n{constructor(t,r,s,u,l,m){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ts.x;const w=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===w||"area"===w,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof ga&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,f.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,f.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,f.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(cs),f.Y36(mu),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(st))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})();class Nv{}let Ov=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof ga),os(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,m=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,fn.D)(s).pipe((0,oc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ut(null);const u=s.pipe((0,$n.z)(l=>null===l?ut(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,fn.D)([u,l]).pipe((0,oc.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(cs),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Nv),f.LFG(Rv))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pp=new f.OlP("");let yw=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ga&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _p&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _p(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();var co=(()=>((co=co||{})[co.COMPLETE=0]="COMPLETE",co[co.FAILED=1]="FAILED",co[co.REDIRECTING=2]="REDIRECTING",co))();const kp=!1;function Zl(n,e){return{\u0275kind:n,\u0275providers:e}}const kv=new f.OlP("",{providedIn:"root",factory:()=>!1});function Fp(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(cs),s=n.get(vw);1===n.get(Rm)&&r.initialNavigation(),n.get(_w,null,f.XFs.Optional)?.setUpPreloading(),n.get(Pp,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const vw=new f.OlP(kp?"bootstrap done indicator":"",{factory:()=>new Ts.x}),Rm=new f.OlP(kp?"initial navigation":"",{providedIn:"root",factory:()=>1});function XD(){let n=[];return n=kp?[{provide:f.Xts,multi:!0,useFactory:()=>{const e=(0,f.f3M)(cs);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Ll(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Zl(1,n)}const _w=new f.OlP(kp?"router preloader":"");function eC(n){return Zl(0,[{provide:_w,useExisting:Ov},{provide:Nv,useExisting:n}])}const Th=!1,rC=new f.OlP(Th?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Fv=[$e,{provide:ro,useClass:cp},cs,As,{provide:mu,useFactory:function Pv(n){return n.routerState.root},deps:[cs]},Rv,Th?{provide:kv,useValue:!0}:[]];function iC(){return new f.PXZ("Router",cs)}let sC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Fv,Th&&r?.enableTracing?XD().\u0275providers:[],{provide:Dh,multi:!0,useValue:t},{provide:rC,useFactory:Iw,deps:[[cs,new f.FiY,new f.tp0]]},{provide:kt,useValue:r||{}},r?.useHash?{provide:st,useClass:ke}:{provide:st,useClass:Me},{provide:Pp,useFactory:()=>{const n=(0,f.f3M)($o),e=(0,f.f3M)(f.R0b),t=(0,f.f3M)(kt),r=(0,f.f3M)(xm),s=(0,f.f3M)(ro);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yw(s,r,n,e,t)}},r?.preloadingStrategy?eC(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:iC},r?.initialNavigation?aC(r):[],[{provide:Dw,useFactory:Fp},{provide:f.tb,multi:!0,useExisting:Dw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Dh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(rC,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[yh]}),n})();function Iw(n){if(Th&&n)throw new f.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aC(n){return["disabled"===n.initialNavigation?Zl(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(cs);return()=>{e.setUpLocationChangeListener()}}},{provide:Rm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Zl(2,[{provide:Rm,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(cs),u=e.get(vw);(function gA(n,e){n.events.pipe(ri(t=>t instanceof ga||t instanceof Ol||t instanceof Pl||t instanceof Ao),(0,gt.U)(t=>t instanceof ga||t instanceof Ao?co.COMPLETE:t instanceof Ol&&(0===t.code||1===t.code)?co.REDIRECTING:co.FAILED),ri(t=>t!==co.REDIRECTING),bo(1)).subscribe(()=>{e()})})(s,()=>{r(!0)}),e.get(xm).afterPreactivation=()=>(r(!0),u.closed?ut(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const Dw=new f.OlP(Th?"Router Initializer":"");var Lv=k(4986),wr=k(710);function Vp(){return(0,Mr.e)((n,e)=>{let t,r=!1;n.subscribe((0,pr.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Cw(n,e){return n===e}var et,Ms=k(2011),ge=(k(1146),k(3942),k(5861)),_u=k(6881),Pm=k(4859),Cc=k(1877),pn=k(2090),uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lo={},Uv=Uv||{},Bt=uC||self;function Di(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Up(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tw="closure_uid_"+(1e9*Math.random()>>>0),Bv=0;function Sw(n,e,t){return n.call.apply(n.bind,arguments)}function lC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Ci(n,e,t){return(Ci=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sw:lC).apply(null,arguments)}function km(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Nr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return e.prototype[s].apply(r,l)}}function bc(){this.s=this.s,this.o=this.o}bc.prototype.s=!1,bc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cC(n){Object.prototype.hasOwnProperty.call(n,Tw)&&n[Tw]||(n[Tw]=++Bv)}(this)},bc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fm=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function jv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Aw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Di(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function bi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bi.prototype.h=function(){this.defaultPrevented=!0};var hC=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",()=>{},e),Bt.removeEventListener("test",()=>{},e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}function Rs(){var n=Bt.navigator;return n&&(n=n.userAgent)?n:""}function ho(n){return-1!=Rs().indexOf(n)}function $v(n){return $v[" "](n),n}$v[" "]=function(){};var xh,n,xw=ho("Opera"),Ah=ho("Trident")||ho("MSIE"),Mw=ho("Edge"),Hv=Mw||Ah,Lm=ho("Gecko")&&!(-1!=Rs().toLowerCase().indexOf("webkit")&&!ho("Edge"))&&!(ho("Trident")||ho("MSIE"))&&!ho("Edge"),pC=-1!=Rs().toLowerCase().indexOf("webkit")&&!ho("Edge");function Rw(){var n=Bt.document;return n?n.documentMode:void 0}e:{var Mh="",Rh=(n=Rs(),Lm?/rv:([^\);]+)(\)|;)/.exec(n):Mw?/Edge\/([\d\.]+)/.exec(n):Ah?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pC?/WebKit\/(\S+)/.exec(n):xw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Rh&&(Mh=Rh?Rh[1]:""),Ah){var Nw=Rw();if(null!=Nw&&Nw>parseFloat(Mh)){xh=String(Nw);break e}}xh=Mh}var Ow=Bt.document&&Ah&&(Rw()||parseInt(xh,10))||void 0;function Nh(n,e){if(bi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Lm){e:{try{$v(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Pw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Nh.$.h.call(this)}}Nr(Nh,bi);var Pw={2:"touch",3:"pen",4:"mouse"};Nh.prototype.h=function(){Nh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Oh="closure_listenable_"+(1e6*Math.random()|0),Gv=0;function wu(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Gv,this.fa=this.ia=!1}function Kl(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Ph(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kw(n){const e={};for(const t in n)e[t]=n[t];return e}const zv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qv(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<zv.length;u++)t=zv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vm(n){this.src=n,this.g={},this.h=0}function Wv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Fm(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Kl(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Yl(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Vm.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=Yl(n,e,r,s);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new wu(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var Zv="closure_lm_"+(1e6*Math.random()|0),Fw={};function Lw(n,e,t,r,s){if(r&&r.once)return Uw(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Lw(n,e[u],t,r,s);return null}return t=Gp(t),n&&n[Oh]?n.O(e,t,Up(r)?!!r.capture:!!r,s):Vw(n,e,t,!1,r,s)}function Vw(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Up(s)?!!s.capture:!!s,m=Hp(n);if(m||(n[Zv]=m=new Vm(n)),(t=m.add(e,t,r,l,u)).proxy)return t;if(r=function mC(){const e=$w;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hC||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(jw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Uw(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Uw(n,e[u],t,r,s);return null}return t=Gp(t),n&&n[Oh]?n.P(e,t,Up(r)?!!r.capture:!!r,s):Vw(n,e,t,!0,r,s)}function Bw(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Bw(n,e[u],t,r,s);else r=Up(r)?!!r.capture:!!r,t=Gp(t),n&&n[Oh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Yl(u=n.g[e],t,r,s))&&(Kl(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Hp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Yl(e,t,r,s)),(t=-1<n?e[n]:null)&&Kv(t))}function Kv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Oh])Wv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(jw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Hp(e))?(Wv(t,n),0==t.h&&(t.src=null,e[Zv]=null)):Kl(n)}}}function jw(n){return n in Fw?Fw[n]:Fw[n]="on"+n}function $w(n,e){if(n.fa)n=!0;else{e=new Nh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Kv(n),n=t.call(r,e)}return n}function Hp(n){return(n=n[Zv])instanceof Vm?n:null}var Yv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gp(n){return"function"==typeof n?n:(n[Yv]||(n[Yv]=function(e){return n.handleEvent(e)}),n[Yv])}function zr(){bc.call(this),this.i=new Vm(this),this.S=this,this.J=null}function ii(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new bi(e,n);else if(e instanceof bi)e.target=e.target||n;else{var s=e;qv(e=new bi(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=Um(l,r,!0,e)&&s}if(s=Um(l=e.g=n,r,!0,e)&&s,s=Um(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Um(l=e.g=t[u],r,!1,e)&&s}function Um(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.fa&&l.capture==t){var m=l.listener,w=l.la||l.src;l.ia&&Wv(n.i,l),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}Nr(zr,bc),zr.prototype[Oh]=!0,zr.prototype.removeEventListener=function(n,e,t,r){Bw(this,n,e,t,r)},zr.prototype.N=function(){if(zr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Kl(t[r]);delete n.g[e],n.h--}}this.J=null},zr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},zr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qv=Bt.JSON.stringify;function vC(){var n=Fh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jv=new class yC{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Hw,n=>n.reset());class Hw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function wC(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function _A(n){Bt.setTimeout(()=>{throw n},0)}let kh,Bm=!1,Fh=new class _C{constructor(){this.h=this.g=null}add(e,t){const r=Jv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Gw=()=>{const n=Bt.Promise.resolve(void 0);kh=()=>{n.then(EC)}};var EC=()=>{for(var n;n=vC();){try{n.h.call(n.g)}catch(t){_A(t)}var e=Jv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Bm=!1};function Lh(n,e){zr.call(this),this.h=n||1,this.g=e||Bt,this.j=Ci(this.qb,this),this.l=Date.now()}function Xv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fo(n,e,t){if("function"==typeof n)t&&(n=Ci(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ci(n.handleEvent,n)}return 2147483647<Number(e)?-1:Bt.setTimeout(n,e||0)}function Vh(n){n.g=fo(()=>{n.g=null,n.i&&(n.i=!1,Vh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Nr(Lh,zr),(et=Lh.prototype).ga=!1,et.T=null,et.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ii(this,"tick"),this.ga&&(Xv(this),this.start()))}},et.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},et.N=function(){Lh.$.N.call(this),Xv(this),delete this.g};class Ti extends bc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vh(this)}N(){super.N(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ro(n){bc.call(this),this.h=n,this.g={}}Nr(Ro,bc);var zp=[];function Ns(n,e,t,r){Array.isArray(t)||(t&&(zp[0]=t.toString()),t=zp);for(var s=0;s<t.length;s++){var u=Lw(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function jm(n){Ph(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kv(e)},n),n.g={}}function Eu(){this.g=!0}function No(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $h(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return Qv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ro.prototype.N=function(){Ro.$.N.call(this),jm(this)},Ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eu.prototype.Ea=function(){this.g=!1},Eu.prototype.info=function(){};var po={},Ql=null;function Iu(){return Ql=Ql||new zr}function e_(n){bi.call(this,po.Ta,n)}function Hh(n){const e=Iu();ii(e,new e_(e))}function t_(n,e){bi.call(this,po.STAT_EVENT,n),this.stat=e}function Si(n){const e=Iu();ii(e,new t_(e,n))}function n_(n,e){bi.call(this,po.Ua,n),this.size=e}function Gh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},e)}po.Ta="serverreachability",Nr(e_,bi),po.STAT_EVENT="statevent",Nr(t_,bi),po.Ua="timingevent",Nr(n_,bi);var qp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},r_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $m(){}function qw(){}$m.prototype.h=null;var Wp,zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function i_(){bi.call(this,"d")}function Hm(){bi.call(this,"c")}function qh(){}function Zp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ro(this),this.P=Gm,this.V=new Lh(n=Hv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kp}function Kp(){this.i=null,this.g="",this.h=!1}Nr(i_,bi),Nr(Hm,bi),Nr(qh,$m),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},Wp=new qh;var Gm=45e3,Yp={},zm={};function Qp(n,e,t){n.L=1,n.v=Xp(Oo(e)),n.s=t,n.S=!0,qm(n,null)}function qm(n,e){n.G=Date.now(),Wh(n),n.A=Oo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Ym(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Kp,n.g=cE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ti(Ci(n.Pa,n,n.g),n.O)),Ns(n.U,n.g,"readystatechange",n.nb),e=n.I?kw(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Hh(),function Uh(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",m=u.split("&"),w=0;w<m.length;w++){var b=m[w].split("=");if(1<b.length){var S=b[0];b=b[1];var N=S.split("_");l=2<=N.length&&"type"==N[1]?l+(S+"=")+b+"&":l+(S+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function s_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function o_(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=a_(n,t),s==zm){4==e&&(n.o=4,Si(14),r=!1),No(n.j,n.m,null,"[Incomplete Response]");break}if(s==Yp){n.o=4,Si(15),No(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}No(n.j,n.m,s,null),Wm(n,s)}s_(n)&&s!=zm&&s!=Yp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Si(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ry(e),e.M=!0,Si(11))):(No(n.j,n.m,t,"[Invalid Chunked Response]"),Jl(n),Kh(n))}function a_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zm:(t=Number(e.substring(t,r)),isNaN(t)?Yp:(r+=1)+t>e.length?zm:(e=e.slice(r,r+t),n.C=r+t,e))}function Wh(n){n.Y=Date.now()+n.P,u_(n,n.P)}function u_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gh(Ci(n.lb,n),e)}function Zh(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function Kh(n){0==n.l.H||n.J||b_(n.l,n)}function Jl(n){Zh(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Xv(n.V),jm(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Wm(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Qm(t.i,n)))if(!n.K&&Qm(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sg(t),rg(t)}ny(t),Si(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Gh(Ci(t.ib,t),6e3));if(1>=Cr(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Sc(t,11)}else if((n.K||t.g==n)&&sg(t),!Bp(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let b=s[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const S=b[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const N=b[4];null!=N&&(t.Ga=N,t.l.info("SVER="+t.Ga));const H=b[5];null!=H&&"number"==typeof H&&0<H&&(t.L=r=1.5*H,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ye=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ye){var u=r.i;u.g||-1==ye.indexOf("spdy")&&-1==ye.indexOf("quic")&&-1==ye.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(h_(u,u.h),u.h=null))}if(r.F){const Le=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.Da=Le,kn(r.I,r.F,Le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=uE(r,r.J?r.pa:null,r.Y),l.K){tE(r.i,l);var m=l,w=r.L;w&&m.setTimeout(w),m.B&&(Zh(m),Wh(m)),r.g=l}else ig(r);0<t.j.length&&td(t)}else"stop"!=b[0]&&"close"!=b[0]||Sc(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Sc(t,7):E_(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}Hh()}catch{}}function c_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Di(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Zw(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Di(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ww(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Di(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(et=Zp.prototype).setTimeout=function(n){this.P=n},et.nb=function(n){n=n.target;const e=this.M;e&&3==_a(n)?e.l():this.Pa(n)},et.Pa=function(n){try{if(n==this.g)e:{const S=_a(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||Hv||this.g&&(this.h.h||this.g.ja()||oE(this.g)))){this.J||4!=S||7==e||Hh(),Zh(this);var t=this.g.da();this.ca=t;t:if(s_(this)){var r=oE(this.g);n="";var s=r.length,u=4==_a(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jl(this),Kh(this);var l="";break t}this.h.i=new Bt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Bh(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Si(12),Jl(this),Kh(this);break e}No(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wm(this,t)}this.S?(o_(this,S,l),Hv&&this.i&&3==S&&(Ns(this.U,this.V,"tick",this.mb),this.V.start())):(No(this.j,this.m,l,null),Wm(this,l)),4==S&&Jl(this),this.i&&!this.J&&(4==S?b_(this.l,this):(this.i=!1,Wh(this)))}else(function __(n){const e={};n=(n.g&&2<=_a(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bp(n[r]))continue;var t=wC(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function $p(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Si(12)):(this.o=0,Si(13)),Jl(this),Kh(this)}}}catch{}},et.mb=function(){if(this.g){var n=_a(this.g),e=this.g.ja();this.C<e.length&&(Zh(this),o_(this,n,e),this.i&&4!=n&&Wh(this))}},et.cancel=function(){this.J=!0,Jl(this)},et.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function jh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hh(),Si(17)),Jl(this),this.o=2,Kh(this)):u_(this,this.Y-n)};var Kw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xl){this.h=n.h,Yh(this,n.j),this.s=n.s,this.g=n.g,Jp(this,n.m),this.l=n.l;var e=n.i,t=new ed;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),l_(this,t),this.o=n.o}else n&&(e=String(n).match(Kw))?(this.h=!1,Yh(this,e[1]||"",!0),this.s=Qh(e[2]||""),this.g=Qh(e[3]||"",!0),Jp(this,e[4]),this.l=Qh(e[5]||"",!0),l_(this,e[6]||"",!0),this.o=Qh(e[7]||"")):(this.h=!1,this.i=new ed(null,this.h))}function Oo(n){return new Xl(n)}function Yh(n,e,t){n.j=t?Qh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Jp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function l_(n,e,t){e instanceof ed?(n.i=e,function wA(n,e){e&&!n.j&&(ls(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Km(this,r),Ym(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Jh(e,DC)),n.i=new ed(e,n.h))}function kn(n,e,t){n.i.set(e,t)}function Xp(n){return kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Yw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jh(e,d_,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jh(e,d_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jh(t,"/"==t.charAt(0)?Tc:Zm,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jh(t,CC)),n.join("")};var d_=/[#\/\?@]/g,Zm=/[#\?:]/g,Tc=/[#\?]/g,DC=/[#\?@]/g,CC=/#/g;function ed(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ls(n){n.g||(n.g=new Map,n.h=0,n.i&&function IC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Km(n,e){ls(n),e=eg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Qw(n,e){return ls(n),e=eg(n,e),n.g.has(e)}function Ym(n,e,t){Km(n,e),0<t.length&&(n.i=null,n.g.set(eg(n,e),jv(t)),n.h+=t.length)}function eg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Jw(n){this.l=n||Xw,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ka&&Bt.g.Ka()&&Bt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(et=ed.prototype).add=function(n,e){ls(this),this.i=null,n=eg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},et.forEach=function(n,e){ls(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},et.ta=function(){ls(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},et.Z=function(n){ls(this);let e=[];if("string"==typeof n)Qw(this,n)&&(e=e.concat(this.g.get(eg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},et.set=function(n,e){return ls(this),this.i=null,Qw(this,n=eg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},et.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},et.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var Xw=10;function eE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Cr(n){return n.h?1:n.g?n.g.size:0}function Qm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function h_(n,e){n.g?n.g.add(e):n.h=e}function tE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function f_(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return jv(n.i)}Jw.prototype.cancel=function(){if(this.i=f_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var TC=class{stringify(n){return Bt.JSON.stringify(n,void 0)}parse(n){return Bt.JSON.parse(n,void 0)}};function nE(){this.g=new TC}function rE(n,e,t){const r=t||"";try{c_(n,function(s,u){let l=s;Up(s)&&(l=Qv(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Jm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function tg(n){this.l=n.fc||null,this.j=n.ob||!1}function ng(n,e){zr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=p_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nr(tg,$m),tg.prototype.g=function(){return new ng(this.l,this.j)},tg.prototype.i=function(n){return function(){return n}}({}),Nr(ng,zr);var p_=0;function g_(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ef(n)}function ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(et=ng.prototype).open=function(n,e){if(this.readyState!=p_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ef(this)},et.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Bt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},et.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xm(this)),this.readyState=p_},et.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Bt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g_(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},et.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xm(this):ef(this),3==this.readyState&&g_(this)}},et.Za=function(n){this.g&&(this.response=this.responseText=n,Xm(this))},et.Ya=function(n){this.g&&(this.response=n,Xm(this))},et.ka=function(){this.g&&Xm(this)},et.setRequestHeader=function(n,e){this.v.append(n,e)},et.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},et.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var m_=Bt.JSON.parse;function wn(n){zr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iE,this.L=this.M=!1}Nr(wn,zr);var iE="",SC=/^https?$/i,va=["POST","PUT"];function go(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,y_(n),ey(n)}function y_(n){n.F||(n.F=!0,ii(n,"complete"),ii(n,"error"))}function v_(n){if(n.h&&typeof Uv<"u"&&(!n.C[1]||4!=_a(n)||2!=n.da()))if(n.v&&4==_a(n))fo(n.La,0,n);else if(ii(n,"readystatechange"),4==_a(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var s=String(n.I).match(Kw)[1]||null;!s&&Bt.self&&Bt.self.location&&(s=Bt.self.location.protocol.slice(0,-1)),r=!SC.test(s?s.toLowerCase():"")}t=r}if(t)ii(n,"complete"),ii(n,"success");else{n.m=6;try{var u=2<_a(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",y_(n)}}finally{ey(n)}}}function ey(n,e){if(n.g){sE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function sE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function _a(n){return n.g?n.g.readyState:0}function oE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(n){let e="";return Ph(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function w_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=tf(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kn(n,e,t))}function nf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function aE(n){this.Ga=0,this.j=[],this.l=new Eu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nf("baseRetryDelayMs",5e3,n),this.hb=nf("retryDelaySeedMs",1e4,n),this.eb=nf("forwardChannelMaxRetries",2,n),this.xa=nf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Jw(n&&n.concurrentRequestLimit),this.Ja=new nE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function E_(n){if(I_(n),3==n.H){var e=n.W++,t=Oo(n.I);if(kn(t,"SID",n.K),kn(t,"RID",e),kn(t,"TYPE","terminate"),rf(n,t),(e=new Zp(n,n.l,e)).L=2,e.v=Xp(Oo(t)),t=!1,Bt.navigator&&Bt.navigator.sendBeacon)try{t=Bt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=cE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wh(e)}S_(n)}function rg(n){n.g&&(ry(n),n.g.cancel(),n.g=null)}function I_(n){rg(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),sg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function td(n){if(!eE(n.i)&&!n.m){n.m=!0;var e=n.Na;kh||Gw(),Bm||(kh(),Bm=!0),Fh.add(e,n),n.C=0}}function D_(n,e){var t;t=e?e.m:n.W++;const r=Oo(n.I);kn(r,"SID",n.K),kn(r,"RID",t),kn(r,"AID",n.V),rf(n,r),n.o&&n.s&&w_(r,n.o,n.s),t=new Zp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ty(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),h_(n.i,t),Qp(t,r,e)}function rf(n,e){n.na&&Ph(n.na,function(t,r){kn(e,r,t)}),n.h&&c_({},function(t,r){kn(e,r,t)})}function ty(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Ci(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].g,l.push("ofs="+u)):u=0:l.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let b=s[w].g;const S=s[w].map;if(b-=u,0>b)u=Math.max(0,s[w].g-100),m=!1;else try{rE(S,l,"req"+b+"_")}catch{r&&r(S)}}if(m){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ig(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;kh||Gw(),Bm||(kh(),Bm=!0),Fh.add(e,n),n.A=0}}function ny(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Gh(Ci(n.Ma,n),T_(n,n.A)),n.A++,0))}function ry(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function C_(n){n.g=new Zp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Oo(n.wa);kn(e,"RID","rpc"),kn(e,"SID",n.K),kn(e,"AID",n.V),kn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&kn(e,"TO",n.qa),kn(e,"TYPE","xmlhttp"),rf(n,e),n.o&&n.s&&w_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Xp(Oo(e)),t.s=null,t.S=!0,qm(t,n)}function sg(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function b_(n,e){var t=null;if(n.g==e){sg(n),ry(n),n.g=null;var r=2}else{if(!Qm(n.i,e))return;t=e.F,tE(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;ii(r=Iu(),new n_(r,t)),td(n)}else ig(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function AC(n,e){return!(Cr(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Gh(Ci(n.Na,n,e),T_(n,n.C)),n.C++,0)))}(n,e)||2==r&&ny(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Sc(n,5);break;case 4:Sc(n,10);break;case 3:Sc(n,6);break;default:Sc(n,2)}}function T_(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Sc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Ci(n.pb,n);t||(t=new Xl("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||Yh(t,"https"),Xp(t)),function Xh(n,e){const t=new Eu;if(Bt.Image){const r=new Image;r.onload=km(Jm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=km(Jm,t,r,"TestLoadImage: error",!1,e),r.onabort=km(Jm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=km(Jm,t,r,"TestLoadImage: timeout",!1,e),Bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Si(2);n.H=0,n.h&&n.h.za(e),S_(n),I_(n)}function S_(n){if(n.H=0,n.ma=[],n.h){const e=f_(n.i);(0!=e.length||0!=n.j.length)&&(Aw(n.ma,e),Aw(n.ma,n.j),n.i.i.length=0,jv(n.j),n.j.length=0),n.h.ya()}}function uE(n,e,t){var r=t instanceof Xl?Oo(t):new Xl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Jp(r,r.m);else{var s=Bt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new Xl(null);r&&Yh(u,r),e&&(u.g=e),s&&Jp(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&kn(r,t,e),kn(r,"VER",n.ra),rf(n,r),r}function cE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t&&n.Ha&&!n.va?new tg({ob:!0}):n.va)).Oa(n.J),e}function lE(){}function iy(){if(Ah&&!(10<=Number(Ow)))throw Error("Environmental error: no available transport.")}function Os(n,e){zr.call(this),this.g=new aE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new sf(this)}function dE(n){i_.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function hE(){Hm.call(this),this.status=1}function sf(n){this.g=n}function ko(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function A_(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],l=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;l=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(l<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((u=(e=t+((l=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((s=u+((l=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function bn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(et=wn.prototype).Oa=function(n){this.M=n},et.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wp.g(),this.C=function zw(n){return n.h||(n.h=n.i())}(this.u?this.u:Wp),this.g.onreadystatechange=Ci(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void go(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Bt.FormData&&n instanceof Bt.FormData,!(0<=Fm(va,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{sE(this),0<this.B&&((this.L=function Po(n){return Ah&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ci(this.ua,this)):this.A=fo(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){go(this,u)}},et.ua=function(){typeof Uv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ii(this,"timeout"),this.abort(8))},et.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ii(this,"complete"),ii(this,"abort"),ey(this))},et.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ey(this,!0)),wn.$.N.call(this)},et.La=function(){this.s||(this.G||this.v||this.l?v_(this):this.kb())},et.kb=function(){v_(this)},et.isActive=function(){return!!this.g},et.da=function(){try{return 2<_a(this)?this.g.status:-1}catch{return-1}},et.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},et.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),m_(e)}},et.Ia=function(){return this.m},et.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(et=aE.prototype).ra=8,et.H=1,et.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Zp(this,this.l,n);let u=this.s;if(this.U&&(u?(u=kw(u),qv(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ty(this,s,e),kn(t=Oo(this.I),"RID",n),kn(t,"CVER",22),this.F&&kn(t,"X-HTTP-Session-Id",this.F),rf(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(tf(u)))+"&"+e:this.o&&w_(t,this.o,u)),h_(this.i,s),this.bb&&kn(t,"TYPE","init"),this.P?(kn(t,"$req",e),kn(t,"SID","null"),s.aa=!0,Qp(s,t,null)):Qp(s,t,e),this.H=2}}else 3==this.H&&(n?D_(this,n):0==this.j.length||eE(this.i)||D_(this))},et.Ma=function(){if(this.u=null,C_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Gh(Ci(this.jb,this),n)}},et.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Si(10),rg(this),C_(this))},et.ib=function(){null!=this.v&&(this.v=null,rg(this),ny(this),Si(19))},et.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Si(2)):(this.l.info("Failed to ping google.com"),Si(1))},et.isActive=function(){return!!this.h&&this.h.isActive(this)},(et=lE.prototype).Ba=function(){},et.Aa=function(){},et.za=function(){},et.ya=function(){},et.isActive=function(){return!0},et.Va=function(){},iy.prototype.g=function(n,e){return new Os(n,e)},Nr(Os,zr),Os.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Si(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=uE(n,null,n.Y),td(n)},Os.prototype.close=function(){E_(this.g)},Os.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Qv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&td(e)},Os.prototype.N=function(){this.g.h=null,delete this.j,E_(this.g),delete this.g,Os.$.N.call(this)},Nr(dE,i_),Nr(hE,Hm),Nr(sf,lE),sf.prototype.Ba=function(){ii(this.g,"a")},sf.prototype.Aa=function(n){ii(this.g,new dE(n))},sf.prototype.za=function(n){ii(this.g,new hE)},sf.prototype.ya=function(){ii(this.g,"b")},Nr(ko,function xC(){this.blockSize=-1}),ko.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ko.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)A_(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){A_(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){A_(this,r),s=0;break}}this.h=s,this.i+=e},ko.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var MC={};function x_(n){return-128<=n&&128>n?function fC(n,e){var t=MC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new bn([0|e],0>e?-1:0)}):new bn([0|n],0>n?-1:0)}function wa(n){if(isNaN(n)||!isFinite(n))return af;if(0>n)return qr(wa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=M_;return new bn(e,0)}var M_=4294967296,af=x_(0),sy=x_(1),R_=x_(16777216);function Ea(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ps(n){return-1==n.h}function qr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new bn(t,~n.h).add(sy)}function og(n,e){return n.add(qr(e))}function ag(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function uf(n,e){this.g=n,this.h=e}function ug(n,e){if(Ea(e))throw Error("division by zero");if(Ea(n))return new uf(af,af);if(Ps(n))return e=ug(qr(n),e),new uf(qr(e.g),qr(e.h));if(Ps(e))return e=ug(n,qr(e)),new uf(qr(e.g),e.h);if(30<n.g.length){if(Ps(n)||Ps(e))throw Error("slowDivide_ only works with positive integers.");for(var t=sy,r=e;0>=r.X(n);)t=N_(t),r=N_(r);var s=nd(t,1),u=nd(r,1);for(r=nd(r,2),t=nd(t,2);!Ea(r);){var l=u.add(r);0>=l.X(n)&&(s=s.add(t),u=l),r=nd(r,1),t=nd(t,1)}return e=og(n,s.R(e)),new uf(s,e)}for(s=af;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(u=wa(t)).R(e);Ps(l)||0<l.X(n);)l=(u=wa(t-=r)).R(e);Ea(u)&&(u=sy),s=s.add(u),n=og(n,l)}return new uf(s,n)}function N_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new bn(t,n.h)}function nd(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new bn(s,n.h)}(et=bn.prototype).ea=function(){if(Ps(this))return-qr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:M_+r)*e,e*=M_}return n},et.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ea(this))return"0";if(Ps(this))return"-"+qr(this).toString(n);for(var e=wa(Math.pow(n,6)),t=this,r="";;){var s=ug(t,e).g,u=((0<(t=og(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ea(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},et.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},et.X=function(n){return Ps(n=og(this,n))?-1:Ea(n)?0:1},et.abs=function(){return Ps(this)?qr(this):this},et.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),l=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=l>>>16,t[s]=(l&=65535)<<16|(u&=65535)}return new bn(t,-2147483648&t[t.length-1]?-1:0)},et.R=function(n){if(Ea(this)||Ea(n))return af;if(Ps(this))return Ps(n)?qr(this).R(qr(n)):qr(qr(this).R(n));if(Ps(n))return qr(this.R(qr(n)));if(0>this.X(R_)&&0>n.X(R_))return wa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,l=65535&this.D(r),m=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=l*w,ag(t,2*r+2*s),t[2*r+2*s+1]+=u*w,ag(t,2*r+2*s+1),t[2*r+2*s+1]+=l*m,ag(t,2*r+2*s+1),t[2*r+2*s+2]+=u*m,ag(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new bn(t,0)},et.gb=function(n){return ug(this,n).h},et.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new bn(t,this.h&n.h)},et.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new bn(t,this.h|n.h)},et.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new bn(t,this.h^n.h)},iy.prototype.createWebChannel=iy.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,qp.NO_ERROR=0,qp.TIMEOUT=8,qp.HTTP_ERROR=6,r_.COMPLETE="complete",qw.EventType=zh,zh.OPEN="a",zh.CLOSE="b",zh.ERROR="c",zh.MESSAGE="d",zr.prototype.listen=zr.prototype.O,wn.prototype.listenOnce=wn.prototype.P,wn.prototype.getLastError=wn.prototype.Sa,wn.prototype.getLastErrorCode=wn.prototype.Ia,wn.prototype.getStatus=wn.prototype.da,wn.prototype.getResponseJson=wn.prototype.Wa,wn.prototype.getResponseText=wn.prototype.ja,wn.prototype.send=wn.prototype.ha,wn.prototype.setWithCredentials=wn.prototype.Oa,ko.prototype.digest=ko.prototype.l,ko.prototype.reset=ko.prototype.reset,ko.prototype.update=ko.prototype.j,bn.prototype.add=bn.prototype.add,bn.prototype.multiply=bn.prototype.R,bn.prototype.modulo=bn.prototype.gb,bn.prototype.compare=bn.prototype.X,bn.prototype.toNumber=bn.prototype.ea,bn.prototype.toString=bn.prototype.toString,bn.prototype.getBits=bn.prototype.D,bn.fromNumber=wa,bn.fromString=function fE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return qr(fE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wa(Math.pow(e,8)),r=af,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),l=parseInt(n.substring(s,s+u),e);8>u?(u=wa(Math.pow(e,u)),r=r.R(u).add(wa(l))):r=(r=r.R(t)).add(wa(l))}return r};var rd=lo.createWebChannelTransport=function(){return new iy},RC=lo.getStatEventTarget=function(){return Iu()},O_=lo.ErrorCode=qp,cf=lo.EventType=r_,EA=lo.Event=po,oy=lo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IA=lo.FetchXmlHttpFactory=tg,cg=lo.WebChannel=qw,pE=lo.XhrIo=wn,DA=lo.Md5=ko,Et=lo.Integer=bn;class Wr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");let lf="9.23.0";const ks=new Cc.Yd("@firebase/firestore");function P_(){return ks.logLevel}function Ne(n,...e){if(ks.logLevel<=Cc.in.DEBUG){const t=e.map(uy);ks.debug(`Firestore (${lf}): ${n}`,...t)}}function Wt(n,...e){if(ks.logLevel<=Cc.in.ERROR){const t=e.map(uy);ks.error(`Firestore (${lf}): ${n}`,...t)}}function Fo(n,...e){if(ks.logLevel<=Cc.in.WARN){const t=e.map(uy);ks.warn(`Firestore (${lf}): ${n}`,...t)}}function uy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${lf}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function mt(n,e){n||nt()}function Qe(n,e){return n}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends pn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class NC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class kC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function _E(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wE{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_E(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function Ia(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Yn(0,0))}static max(){return new _t(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class df{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===df.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof df?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class an extends df{construct(e,t,r){return new an(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new an(t)}static emptyPath(){return new an([])}}const IE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends df{construct(e,t,r){return new gr(e,t,r)}static isValidIdentifier(e){return IE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Ee(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Ee(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ee(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(l=!l,s++):"."!==m||l?(r+=m,s++):(u(),s++)}if(u(),l)throw new Ee(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class Ke{constructor(e){this.path=e}static fromPath(e){return new Ke(an.fromString(e))}static fromName(e){return new Ke(an.fromString(e).popFirst(5))}static empty(){return new Ke(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===an.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return an.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ke(new an(e.slice()))}}function DE(n){return new Fs(n.readTime,n.key,-1)}class Fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fs(_t.min(),Ke.empty(),-1)}static max(){return new Fs(_t.max(),Ke.empty(),-1)}}function ly(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ke.comparator(n.documentKey,e.documentKey),0!==t?t:Rt(n.largestBatchId,e.largestBatchId))}const pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ac(n){return L_.apply(this,arguments)}function L_(){return L_=(0,ge.Z)(function*(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==pf)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),L_.apply(this,arguments)}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let s=0,u=0,l=!1;e.forEach(m=>{++s,m.next(()=>{++u,l&&u===s&&t()},w=>r(w))}),l=!0,u===s&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(s=>s?ee.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,s)=>{const u=e.length,l=new Array(u);let m=0;for(let w=0;w<u;w++){const b=w;t(e[b]).next(S=>{l[b]=S,++m,m===u&&r(l)},S=>s(S))}})}static doWhile(e,t){return new ee((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function xc(n){return"IndexedDbTransactionError"===n.name}let ds=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gg(n){return null==n}function sd(n){return 0===n&&1/n==-1/0}function VE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ca(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class On{constructor(e,t){this.comparator=e,this.root=t||Kr.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Du(this.root,e,this.comparator,!1)}getReverseIterator(){return new Du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Du(this.root,e,this.comparator,!0)}}class Du{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Kr.RED,this.left=s??Kr.EMPTY,this.right=u??Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Kr(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Kr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Kr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YC(this.data.getIterator())}getIteratorFrom(e){return new YC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hn(this.comparator);return t.data=e,t}}class YC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ai{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new Ai([])}unionWith(e){let t=new Hn(gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class BE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BE("Invalid base64 string: "+s):s}}(e);return new Pr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const jE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ba(n){if(mt(!!n),"string"==typeof n){let e=0;const t=jE.exec(n);if(mt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ta(n){return"string"==typeof n?Pr.fromBase64String(n):Pr.fromUint8Array(n)}function yg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function vg(n){const e=n.mapValue.fields.__previous_value__;return yg(e)?vg(e):e}function _g(n){const e=ba(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class QC{constructor(e,t,r,s,u,l,m,w,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=b}}class Mc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}const Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yg(n)?4:GE(n)?9007199254740991:10:nt()}function Vo(n,e){if(n===e)return!0;const t=ad(n);if(t!==ad(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return _g(n).isEqual(_g(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=ba(r.timestampValue),l=ba(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ta(n.bytesValue).isEqual(Ta(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return sr(r.geoPointValue.latitude)===sr(s.geoPointValue.latitude)&&sr(r.geoPointValue.longitude)===sr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return sr(r.integerValue)===sr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=sr(r.doubleValue),l=sr(s.doubleValue);return u===l?sd(u)===sd(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Ia(n.arrayValue.values||[],e.arrayValue.values||[],Vo);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(VE(u)!==VE(l))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===l[m]||!Vo(u[m],l[m])))return!1;return!0}(n,e);default:return nt()}var s}function Eg(n,e){return void 0!==(n.values||[]).find(t=>Vo(t,e))}function Nc(n,e){if(n===e)return 0;const t=ad(n),r=ad(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=sr(s.integerValue||s.doubleValue),m=sr(u.integerValue||u.doubleValue);return l<m?-1:l>m?1:l===m?0:isNaN(l)?isNaN(m)?0:-1:1}(n,e);case 3:return JC(n.timestampValue,e.timestampValue);case 4:return JC(_g(n),_g(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(s,u){const l=Ta(s),m=Ta(u);return l.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),m=u.split("/");for(let w=0;w<l.length&&w<m.length;w++){const b=Rt(l[w],m[w]);if(0!==b)return b}return Rt(l.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=Rt(sr(s.latitude),sr(u.latitude));return 0!==l?l:Rt(sr(s.longitude),sr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],m=u.values||[];for(let w=0;w<l.length&&w<m.length;++w){const b=Nc(l[w],m[w]);if(b)return b}return Rt(l.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Rc.mapValue&&u===Rc.mapValue)return 0;if(s===Rc.mapValue)return 1;if(u===Rc.mapValue)return-1;const l=s.fields||{},m=Object.keys(l),w=u.fields||{},b=Object.keys(w);m.sort(),b.sort();for(let S=0;S<m.length&&S<b.length;++S){const N=Rt(m[S],b[S]);if(0!==N)return N;const H=Nc(l[m[S]],w[b[S]]);if(0!==H)return H}return Rt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw nt()}}function JC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=ba(n),r=ba(e),s=Rt(t.seconds,r.seconds);return 0!==s?s:Rt(t.nanos,r.nanos)}function mf(n){return $_(n)}function $_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=ba(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ta(n.bytesValue).toBase64():"referenceValue"in n?Ke.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=$_(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const m of s)l?l=!1:u+=",",u+=`${m}:${$_(r.fields[m])}`;return u+"}"}(n.mapValue):nt();var e}function Oc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function py(n){return!!n&&"integerValue"in n}function Ig(n){return!!n&&"arrayValue"in n}function $E(n){return!!n&&"nullValue"in n}function HE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gy(n){return!!n&&"mapValue"in n}function Dg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ca(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dg(t)}setAll(e){let t=gr.emptyPath(),r={},s=[];e.forEach((l,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}l?r[m.lastSegment()]=Dg(l):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ca(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Yr(Dg(this.value))}}function z_(n){const e=[];return Ca(n.fields,(t,r)=>{const s=new gr([t]);if(gy(r)){const u=z_(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new Ai(e)}class Fn{constructor(e,t,r,s,u,l,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=m}static newInvalidDocument(e){return new Fn(e,0,_t.min(),_t.min(),_t.min(),Yr.empty(),0)}static newFoundDocument(e,t,r,s){return new Fn(e,1,t,_t.min(),r,s,0)}static newNoDocument(e,t){return new Fn(e,2,t,_t.min(),_t.min(),Yr.empty(),0)}static newUnknownDocument(e,t){return new Fn(e,3,t,_t.min(),_t.min(),Yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Cu{constructor(e,t){this.position=e,this.inclusive=t}}function zE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Ke.comparator(Ke.fromName(l.referenceValue),t.key):Nc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function eb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vo(n.position[t],e.position[t]))return!1;return!0}class ud{constructor(e,t="asc"){this.field=e,this.dir=t}}function tb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qE{}class nn extends qE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new nb(e,t,r):"array-contains"===t?new ib(e,r):"in"===t?new ZE(e,r):"not-in"===t?new KE(e,r):"array-contains-any"===t?new YE(e,r):new nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rb(e,r):new yy(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&ad(this.value)===ad(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tn extends qE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Tn(e,t)}matches(e){return Sa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Sa(n){return"and"===n.op}function bg(n){return function Uo(n){for(const e of n.filters)if(e instanceof Tn)return!1;return!0}(n)&&Sa(n)}function W_(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+mf(n.value);if(bg(n))return n.filters.map(e=>W_(e)).join(",");{const e=n.filters.map(t=>W_(t)).join(",");return`${n.op}(${e})`}}function my(n,e){return n instanceof nn?(t=n,(r=e)instanceof nn&&t.op===r.op&&t.field.isEqual(r.field)&&Vo(t.value,r.value)):n instanceof Tn?function(t,r){return r instanceof Tn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&my(u,r.filters[l]),!0)}(n,e):void nt();var t,r}function WE(n){return n instanceof nn?`${(e=n).field.canonicalString()} ${e.op} ${mf(e.value)}`:n instanceof Tn?function(e){return e.op.toString()+" {"+e.getFilters().map(WE).join(" ,")+"}"}(n):"Filter";var e}class nb extends nn{constructor(e,t,r){super(e,t,r),this.key=Ke.fromName(r.referenceValue)}matches(e){const t=Ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class rb extends nn{constructor(e,t){super(e,"in",t),this.keys=Tg(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yy extends nn{constructor(e,t){super(e,"not-in",t),this.keys=Tg(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tg(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ke.fromName(r.referenceValue))}class ib extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ig(t)&&Eg(t.arrayValue,this.value)}}class ZE extends nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Eg(this.value.arrayValue,t)}}class KE extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Eg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Eg(this.value.arrayValue,t)}}class YE extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Eg(this.value.arrayValue,r))}}class Z_{constructor(e,t=null,r=[],s=[],u=null,l=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=m,this.dt=null}}function vy(n,e=null,t=[],r=[],s=null,u=null,l=null){return new Z_(n,e,t,r,s,u,l)}function bu(n){const e=Qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>W_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),gg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mf(r)).join(",")),e.dt=t}return e.dt}function cd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!my(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eb(n.startAt,e.startAt)&&eb(n.endAt,e.endAt)}function Sg(n){return Ke.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Tu{constructor(e,t=null,r=[],s=[],u=null,l="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function _f(n){return new Tu(n)}function K_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ag(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function xg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Y_(n){return null!==n.collectionGroup}function Pc(n){const e=Qe(n);if(null===e.wt){e.wt=[];const t=xg(e),r=Ag(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ud(t)),e.wt.push(new ud(gr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ud(gr.keyField(),u))}}}return e.wt}function xi(n){const e=Qe(n);if(!e._t)if("F"===e.limitType)e._t=vy(e.path,e.collectionGroup,Pc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Pc(e))t.push(new ud(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Cu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Cu(e.startAt.position,e.startAt.inclusive):null;e._t=vy(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function Q_(n,e){e.getFirstInequalityField(),xg(n);const t=n.filters.concat([e]);return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mg(n,e,t){return new Tu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wf(n,e){return cd(xi(n),xi(e))&&n.limitType===e.limitType}function XE(n){return`${bu(xi(n))}|lt:${n.limitType}`}function wy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>WE(r)).join(", ")}]`),gg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>mf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>mf(r)).join(",")),`Target(${t})`}(xi(n))}; limitType=${n.limitType})`}function Rg(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ke.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Pc(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const m=zE(s,u,l);return s.inclusive?m<=0:m<0}(t.startAt,Pc(t),r)||t.endAt&&!function(s,u,l){const m=zE(s,u,l);return s.inclusive?m>=0:m>0}(t.endAt,Pc(t),r)));var t,r}function ld(n){return(e,t)=>{let r=!1;for(const s of Pc(n)){const u=sb(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function sb(n,e,t){const r=n.field.isKeyField()?Ke.comparator(e.key,t.key):function(s,u,l){const m=u.data.field(s),w=l.data.field(s);return null!==m&&null!==w?Nc(m,w):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class Su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ca(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}const TA=new On(Ke.comparator);function Ls(){return TA}const J_=new On(Ke.comparator);function dd(...n){let e=J_;for(const t of n)e=e.insert(t.key,t);return e}function Ef(n){let e=J_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Aa(){return Ng()}function Ey(){return Ng()}function Ng(){return new Su(n=>n.toString(),(n,e)=>n.isEqual(e))}const eI=new On(Ke.comparator),ob=new Hn(Ke.comparator);function Zt(...n){let e=ob;for(const t of n)e=e.add(t);return e}const ab=new Hn(Rt);function X_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function e0(n){return{integerValue:""+n}}function Pg(n,e){return function SE(n){return"number"==typeof n&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?e0(e):X_(n,e)}class If{constructor(){this._=void 0}}function SA(n,e,t){return n instanceof hd?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&yg(s)&&(s=vg(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof mo?rI(n,e):n instanceof kc?Iy(n,e):function(r,s){const u=nI(r,s),l=iI(u)+iI(r.gt);return py(u)&&py(r.gt)?e0(l):X_(r.serializer,l)}(n,e)}function tI(n,e,t){return n instanceof mo?rI(n,e):n instanceof kc?Iy(n,e):t}function nI(n,e){return n instanceof kg?py(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hd extends If{}class mo extends If{constructor(e){super(),this.elements=e}}function rI(n,e){const t=ub(e);for(const r of n.elements)t.some(s=>Vo(s,r))||t.push(r);return{arrayValue:{values:t}}}class kc extends If{constructor(e){super(),this.elements=e}}function Iy(n,e){let t=ub(e);for(const r of n.elements)t=t.filter(s=>!Vo(s,r));return{arrayValue:{values:t}}}class kg extends If{constructor(e,t){super(),this.serializer=e,this.gt=t}}function iI(n){return sr(n.integerValue||n.doubleValue)}function ub(n){return Ig(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lb{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dy{}function t0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cf(n.key,Gn.none()):new Df(n.key,n.data,Gn.none());{const t=n.data,r=Yr.empty();let s=new Hn(gr.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new xa(n.key,r,new Ai(s.toArray()),Gn.none())}}function sI(n,e,t){n instanceof Df?function(r,s,u){const l=r.value.clone(),m=s0(r.fieldTransforms,s,u.transformResults);l.setAll(m),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof xa?function(r,s,u){if(!Lg(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=s0(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(r0(r)),m.setAll(l),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Vg(n,e,t,r){return n instanceof Df?function(s,u,l,m){if(!Lg(s.precondition,u))return l;const w=s.value.clone(),b=o0(s.fieldTransforms,m,u);return w.setAll(b),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof xa?function(s,u,l,m){if(!Lg(s.precondition,u))return l;const w=o0(s.fieldTransforms,m,u),b=u.data;return b.setAll(r0(s)),b.setAll(w),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(S=>S.field))}(n,e,t,r):(l=t,Lg(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function db(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=nI(r.transform,s||null);null!=u&&(null===t&&(t=Yr.empty()),t.set(r.field,u))}return t||null}function n0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ia(t,r,(s,u)=>function cb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof mo&&r instanceof mo||t instanceof kc&&r instanceof kc?Ia(t.elements,r.elements,Vo):t instanceof kg&&r instanceof kg?Vo(t.gt,r.gt):t instanceof hd&&r instanceof hd);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Df extends Dy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class xa extends Dy{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function r0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function s0(n,e,t){const r=new Map;mt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,m=e.data.field(u.field);r.set(u.field,tI(l,m,t[s]))}return r}function o0(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,SA(u,l,e))}return r}class Cf extends Dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class a0 extends Dy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&sI(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ey();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let m=this.applyToLocalView(l,u.mutatedFields);m=t.has(s.key)?null:m;const w=t0(l,m);null!==w&&r.set(s.key,w),l.isValidDocument()||l.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(t,r)=>n0(t,r))&&Ia(this.baseMutations,e.baseMutations,(t,r)=>n0(t,r))}}class Cy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){mt(e.mutations.length===r.length);let s=eI;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new Cy(e,t,r,s)}}class aI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xA{constructor(e,t){this.count=e,this.unchangedNames=t}}var kr,gn;function fb(n){if(void 0===n)return Wt("GRPC error has no .code"),se.UNKNOWN;switch(n){case kr.OK:return se.OK;case kr.CANCELLED:return se.CANCELLED;case kr.UNKNOWN:return se.UNKNOWN;case kr.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case kr.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case kr.INTERNAL:return se.INTERNAL;case kr.UNAVAILABLE:return se.UNAVAILABLE;case kr.UNAUTHENTICATED:return se.UNAUTHENTICATED;case kr.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case kr.NOT_FOUND:return se.NOT_FOUND;case kr.ALREADY_EXISTS:return se.ALREADY_EXISTS;case kr.PERMISSION_DENIED:return se.PERMISSION_DENIED;case kr.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case kr.ABORTED:return se.ABORTED;case kr.OUT_OF_RANGE:return se.OUT_OF_RANGE;case kr.UNIMPLEMENTED:return se.UNIMPLEMENTED;case kr.DATA_LOSS:return se.DATA_LOSS;default:return nt()}}(gn=kr||(kr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class uI{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return fd}static getOrCreateInstance(){return null===fd&&(fd=new uI),fd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let fd=null;const cI=new Et([4294967295,4294967295],0);function Ug(n){const e=function pb(){return new TextEncoder}().encode(n),t=new DA;return t.update(e),new Uint8Array(t.digest())}function u0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Et([t,r],0),new Et([s,u],0)]}class by{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ty(`Invalid padding: ${t}`);if(r<0)throw new Ty(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ty(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ty(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Et.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Et.fromNumber(r)));return 1===s.compare(cI)&&(s=new Et([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Ug(e),[r,s]=u0(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);if(!this.At(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),l=new by(u,s,t);return r.forEach(m=>l.insert(m)),l}insert(e){if(0===this.It)return;const t=Ug(e),[r,s]=u0(t);for(let u=0;u<this.hashCount;u++){const l=this.Et(r,s,u);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ty extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,bf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new pd(_t.min(),s,new On(Rt),Ls(),Zt())}}class bf{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bf(r,t,Zt(),Zt(),Zt())}}class Sy{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class gb{constructor(e,t){this.targetId=e,this.Vt=t}}class mb{constructor(e,t,r=Pr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class lI{constructor(){this.St=0,this.Dt=dI(),this.Ct=Pr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),r=Zt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:nt()}}),new bf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=dI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ls(),this.zt=Bg(),this.Wt=new On(Rt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const l=u.target;if(Sg(l))if(0===s){const m=new Ke(l.path);this.Yt(r,m,Fn.newNoDocument(m,_t.min()))}else mt(1===s);else{const m=this.ie(r);if(m!==s){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=uI.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,S,N){var H,K,ye,Le,Pe,Ct;const Tt={localCacheCount:S,existenceFilterCount:N.count},Dt=N.unchangedNames;return Dt&&(Tt.bloomFilter={applied:0===b,hashCount:null!==(H=Dt?.hashCount)&&void 0!==H?H:0,bitmapLength:null!==(Le=null===(ye=null===(K=Dt?.bits)||void 0===K?void 0:K.bitmap)||void 0===ye?void 0:ye.length)&&void 0!==Le?Le:0,padding:null!==(Ct=null===(Pe=Dt?.bits)||void 0===Pe?void 0:Pe.padding)&&void 0!==Ct?Ct:0}),Tt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:l=0},hashCount:m=0}=r;let w,b;try{w=Ta(u).toUint8Array()}catch(S){if(S instanceof BE)return Fo("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{b=new by(w,l,m)}catch(S){return Fo(S instanceof Ty?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===b.It?1:s!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const l=this.Gt.ue(),m=`projects/${l.projectId}/databases/${l.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,l)=>{const m=this.se(l);if(m){if(u.current&&Sg(m.target)){const w=new Ke(m.target.path);null!==this.jt.get(w)||this.ae(l,w)||this.Yt(l,w,Fn.newNoDocument(w,e))}u.Mt&&(t.set(l,u.Ot()),u.Ft())}});let r=Zt();this.zt.forEach((u,l)=>{let m=!0;l.forEachWhile(w=>{const b=this.se(w);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,l)=>l.setReadTime(e));const s=new pd(e,t,this.Wt,this.jt,r);return this.jt=Ls(),this.zt=Bg(),this.Wt=new On(Rt),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new lI,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hn(Rt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new lI),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Bg(){return new On(Ke.comparator)}function dI(){return new On(Ke.comparator)}const MA=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RA=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NA=(()=>({and:"AND",or:"OR"}))();class vb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function c0(n,e){return n.useProto3Json||gg(e)?e:{value:e}}function Tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wb(n,e){return Tf(n,e.toTimestamp())}function mr(n){return mt(!!n),_t.fromTimestamp(function(e){const t=ba(e);return new Yn(t.seconds,t.nanos)}(n))}function Ay(n,e){return(t=n,new an(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Eb(n){const e=an.fromString(n);return mt(yI(e)),e}function Hi(n,e){return Ay(n.databaseId,e.path)}function Ma(n,e){const t=Eb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ke(Vs(t))}function jg(n,e){return Ay(n.databaseId,e)}function xy(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vs(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fI(n,e,t){return{name:Hi(n,e),fields:t.value.mapValue.fields}}function gI(n,e){return{documents:[jg(n,e.path)]}}function Ny(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=jg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=jg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return Oy(Tn.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(b=>{return{field:Gi((S=b).field),direction:bb(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=c0(n,e.limit);var m,w;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function l0(n){let e=function hI(n){const e=Eb(n);return 4===e.length?an.emptyPath():Vs(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){mt(1===r);const S=t.from[0];S.allDescendants?s=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=function(S){const N=d0(S);return N instanceof Tn&&bg(N)?N.getFilters():[N]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(S=>{return new ud(md((N=S).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(S){let N;return N="object"==typeof S?S.value:S,gg(N)?null:N}(t.limit));let w=null;var S;t.startAt&&(w=new Cu((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new Cu(S.values||[],!S.before)}(t.endAt)),function JE(n,e,t,r,s,u,l,m){return new Tu(n,e,t,r,s,u,l,m)}(e,s,l,u,m,"F",w,b)}function d0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=md(e.unaryFilter.field);return nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=md(e.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=md(e.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=md(e.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?nn.create(md((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Tn.create(e.compositeFilter.filters.map(t=>d0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function bb(n){return MA[n]}function h0(n){return RA[n]}function Au(n){return NA[n]}function Gi(n){return{fieldPath:n.canonicalString()}}function md(n){return gr.fromServerFormat(n.fieldPath)}function Oy(n){return n instanceof nn?function(e){if("=="===e.op){if(HE(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NAN"}};if($E(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(HE(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NOT_NAN"}};if($E(e.value))return{unaryFilter:{field:Gi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(e.field),op:h0(e.op),value:e.value}}}(n):n instanceof Tn?function(e){const t=e.getFilters().map(r=>Oy(r));return 1===t.length?t[0]:{compositeFilter:{op:Au(e.op),filters:t}}}(n):nt()}function mI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yI(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fc{constructor(e,t,r,s,u=_t.min(),l=_t.min(),m=Pr.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new Fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vI{constructor(e){this.fe=e}}function wI(n){const e=l0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Mg(e,e.limit,"L"):e}class Bc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(sr(e.integerValue));else if("doubleValue"in e){const r=sr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),sd(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ta(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?GE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ke.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Bc.Ve=new Bc;class _d{constructor(){this.rn=new ky}addToCollectionParentIndex(e,t){return this.rn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Fs.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class ky{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Hn(an.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Hn(an.comparator)).toArray()}}class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class Gc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Gc(0)}static Mn(){return new Gc(-1)}}class Ob{constructor(){this.changes=new Su(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Vg(r.mutation,s,Ai.empty(),Yn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zt()){const s=Aa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=dd();return u.forEach((m,w)=>{l=l.insert(m,w.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,m)=>{t.set(l,m)})})}computeViews(e,t,r,s){let u=Ls();const l=Ng(),m=Ng();return t.forEach((w,b)=>{const S=r.get(b.key);s.has(b.key)&&(void 0===S||S.mutation instanceof xa)?u=u.insert(b.key,b):void 0!==S?(l.set(b.key,S.mutation.getFieldMask()),Vg(S.mutation,b,S.mutation.getFieldMask(),Yn.now())):l.set(b.key,Ai.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((b,S)=>l.set(b,S)),t.forEach((b,S)=>{var N;return m.set(b,new UA(S,null!==(N=l.get(b))&&void 0!==N?N:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Ng();let s=new On((l,m)=>l-m),u=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const m of l)m.keys().forEach(w=>{const b=t.get(w);if(null===b)return;let S=r.get(w)||Ai.empty();S=m.applyToLocalView(b,S),r.set(w,S);const N=(s.get(m.batchId)||Zt()).add(w);s=s.insert(m.batchId,N)})}).next(()=>{const l=[],m=s.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),b=w.key,S=w.value,N=Ey();S.forEach(H=>{if(!u.has(H)){const K=t0(t.get(H),r.get(H));null!==K&&N.set(H,K),u=u.add(H)}}),l.push(this.documentOverlayCache.saveOverlays(e,b,N))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ke.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ee.resolve(Aa());let m=-1,w=u;return l.next(b=>ee.forEach(b,(S,N)=>(m<N.largestBatchId&&(m=N.largestBatchId),u.get(S)?ee.resolve():this.remoteDocumentCache.getEntry(e,S).next(H=>{w=w.insert(S,H)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,w,b,Zt())).next(S=>({batchId:m,changes:Ef(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ke(t)).next(r=>{let s=dd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=dd();return this.indexManager.getCollectionParents(e,s).next(l=>ee.forEach(l,m=>{const w=(b=t,S=m.child(s),new Tu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(b=>{b.forEach((S,N)=>{u=u.insert(S,N)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,w)=>{const b=w.getKey();null===u.get(b)&&(u=u.insert(b,Fn.newInvalidDocument(b)))});let l=dd();return u.forEach((m,w)=>{const b=s.get(m);void 0!==b&&Vg(b.mutation,w,Ai.empty(),Yn.now()),Rg(t,w)&&(l=l.insert(m,w))}),l})}}class BA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ee.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:mr(r.createTime)}),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:wI(r.bundledQuery),readTime:mr(r.readTime)}),ee.resolve();var r}}class jA{constructor(){this.overlays=new On(Ke.comparator),this.ls=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Aa();return ee.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const s=Aa(),u=t.length+1,l=new Ke(t.child("")),m=this.overlays.getIteratorFrom(l);for(;m.hasNext();){const w=m.getNext().value,b=w.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new On((b,S)=>b-S);const l=this.overlays.getIterator();for(;l.hasNext();){const b=l.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=Aa(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const m=Aa(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((b,S)=>m.set(b,S)),!(m.size()>=s)););return ee.resolve(m)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aI(t,r));let u=this.ls.get(t);void 0===u&&(u=Zt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class kI{constructor(){this.fs=new Hn(oi.ds),this.ws=new Hn(oi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new oi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new oi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ke(new an([])),r=new oi(t,e),s=new oi(t,e+1),u=[];return this.ws.forEachInRange([r,s],l=>{this.ys(l),u.push(l.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ke(new an([])),r=new oi(t,e),s=new oi(t,e+1);let u=Zt();return this.ws.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new oi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class oi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ke.comparator(e.key,t.key)||Rt(e.As,t.As)}static _s(e,t){return Rt(e.As,t.As)||Ke.comparator(e.key,t.key)}}class i{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hn(oi.ds)}checkEmpty(e){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const l=new oI(u,t,r,s);this.mutationQueue.push(l);for(const m of s)this.Rs=this.Rs.add(new oi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new oi(t,0),s=new oi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],l=>{const m=this.Ps(l.As);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hn(Rt);return t.forEach(s=>{const u=new oi(s,0),l=new oi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,l],m=>{r=r.add(m.As)})}),ee.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ke.isDocumentKey(u)||(u=u.child(""));const l=new oi(new Ke(u),0);let m=new Hn(Rt);return this.Rs.forEachWhile(w=>{const b=w.key.path;return!!r.isPrefixOf(b)&&(b.length===s&&(m=m.add(w.As)),!0)},l),ee.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ee.forEach(t.mutations,s=>{const u=new oi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new oi(t,0),s=this.Rs.firstAfterOrEqual(r);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ee.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o{constructor(e){this.Ds=e,this.docs=new On(Ke.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(t))}getEntries(e,t){let r=Ls();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Fn.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=Ls();const l=t.path,m=new Ke(l.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:b,value:{document:S}}=w.getNext();if(!l.isPrefixOf(b.path))break;b.path.length>l.length+1||ly(DE(S),r)<=0||(s.has(S.key)||Rg(t,S))&&(u=u.insert(S.key,S.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,r,s){nt()}Cs(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a(this)}getSize(e){return ee.resolve(this.size)}}class a extends Ob{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class c{constructor(e){this.persistence=e,this.xs=new Su(t=>bu(t),cd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new kI,this.targetCount=0,this.Ms=Gc.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ee.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Fn(t),ee.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((l,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ee.waitFor(u).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ks.containsKey(t))}}class d{constructor(e,t){this.$s={},this.overlays={},this.Os=new ds(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new c(this),this.indexManager=new _d,this.remoteDocumentCache=new o(r=>this.referenceDelegate.Ls(r)),this.serializer=new vI(t),this.qs=new BA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new i(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ne("MemoryPersistence","Starting transaction:",e);const s=new g(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return ee.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class g extends CE{constructor(e){super(),this.currentSequenceNumber=e}}class _{constructor(e){this.persistence=e,this.Qs=new kI,this.js=null}static zs(e){return new _(e)}get Ws(){if(this.js)return this.js;throw nt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Ws,r=>{const s=Ke.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ee.or([()=>ee.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ue{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Zt(),s=Zt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Ue(e,t.fromCache,r,s)}}class Je{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(K_(t))return ee.resolve(null);let r=xi(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Mg(t,null,"F"),r=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=Zt(...u);return this.Ui.getDocuments(e,l).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const b=this.ji(t,m);return this.zi(t,b,l,w.readTime)?this.Ki(e,Mg(t,null,"F")):this.Wi(e,b,t,w)}))})))}Gi(e,t,r,s){return K_(t)||s.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const l=this.ji(t,u);return this.zi(t,l,r,s)?this.Qi(e,t):(P_()<=Cc.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wy(t)),this.Wi(e,l,t,function hg(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=_t.fromTimestamp(1e9===r?new Yn(t+1,0):new Yn(t,r));return new Fs(s,Ke.empty(),e)}(s,-1)))})}ji(e,t){let r=new Hn(ld(e));return t.forEach((s,u)=>{Rg(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return P_()<=Cc.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",wy(t)),this.Ui.getDocumentsMatchingQuery(e,t,Fs.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class ct{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new On(Rt),this.Yi=new Su(u=>bu(u),cd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Se(n,e){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,ge.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],m=[];let w=Zt();for(const b of s){l.push(b.batchId);for(const S of b.mutations)w=w.add(S.key)}for(const b of u){m.push(b.batchId);for(const S of b.mutations)w=w.add(S.key)}return t.localDocuments.getDocuments(r,w).next(b=>({er:b,removedBatchIds:l,addedBatchIds:m}))})})}),Ft.apply(this,arguments)}function yr(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function tR(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function By(n,e,t){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,ge.Z)(function*(n,e,t){const r=Qe(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!xc(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Ub.apply(this,arguments)}function FI(n,e,t){const r=Qe(n);let s=_t.min(),u=Zt();return r.persistence.runTransaction("Execute query","readonly",l=>function(m,w,b){const S=Qe(m),N=S.Yi.get(b);return void 0!==N?ee.resolve(S.Ji.get(N)):S.Bs.getTargetData(w,b)}(r,l,xi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?s:_t.min(),t?u:Zt())).next(m=>(function qA(n,e,t){let r=n.Xi.get(e)||_t.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function Mi(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,ir:u})))}class Gb{constructor(){this.activeTargetIds=function Og(){return ab}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KA{constructor(){this.Hr=new Gb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class iR{Yr(e){}shutdown(){}}class YA{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let UI=null;function qb(){return null===UI?UI=268435456+Math.round(2147483648*Math.random()):UI++,"0x"+UI.toString(16)}const sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const hs="WebChannelConnection";class aR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const l=qb(),m=this.To(e,t);Ne("RestConnection",`Sending RPC '${e}' ${l}:`,m,r);const w={};return this.Eo(w,s,u),this.Ao(e,m,w,r).then(b=>(Ne("RestConnection",`Received RPC '${e}' ${l}: `,b),b),b=>{throw Fo("RestConnection",`RPC '${e}' ${l} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,s,u,l){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+lf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${sR[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=qb();return new Promise((l,m)=>{const w=new pE;w.setWithCredentials(!0),w.listenOnce(cf.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case O_.NO_ERROR:const S=w.getResponseJson();Ne(hs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(S)),l(S);break;case O_.TIMEOUT:Ne(hs,`RPC '${e}' ${u} timed out`),m(new Ee(se.DEADLINE_EXCEEDED,"Request time out"));break;case O_.HTTP_ERROR:const N=w.getStatus();if(Ne(hs,`RPC '${e}' ${u} failed with status:`,N,"response text:",w.getResponseText()),N>0){let H=w.getResponseJson();Array.isArray(H)&&(H=H[0]);const K=H?.error;if(K&&K.status&&K.message){const ye=function(Le){const Pe=Le.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Pe)>=0?Pe:se.UNKNOWN}(K.status);m(new Ee(ye,K.message))}else m(new Ee(se.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ee(se.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Ne(hs,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(s);Ne(hs,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",b,r,15)})}Ro(e,t,r){const s=qb(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rd(),m=RC(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(w.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(w.xmlHttpFactory=new IA({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const S=u.join("");Ne(hs,`Creating RPC '${e}' stream ${s}: ${S}`,w);const N=l.createWebChannel(S,w);let H=!1,K=!1;const ye=new oR({ro:Pe=>{K?Ne(hs,`Not sending because RPC '${e}' stream ${s} is closed:`,Pe):(H||(Ne(hs,`Opening RPC '${e}' stream ${s} transport.`),N.open(),H=!0),Ne(hs,`RPC '${e}' stream ${s} sending:`,Pe),N.send(Pe))},oo:()=>N.close()}),Le=(Pe,Ct,Tt)=>{Pe.listen(Ct,Dt=>{try{Tt(Dt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return Le(N,cg.EventType.OPEN,()=>{K||Ne(hs,`RPC '${e}' stream ${s} transport opened.`)}),Le(N,cg.EventType.CLOSE,()=>{K||(K=!0,Ne(hs,`RPC '${e}' stream ${s} transport closed`),ye.wo())}),Le(N,cg.EventType.ERROR,Pe=>{K||(K=!0,Fo(hs,`RPC '${e}' stream ${s} transport errored:`,Pe),ye.wo(new Ee(se.UNAVAILABLE,"The operation could not be completed")))}),Le(N,cg.EventType.MESSAGE,Pe=>{var Ct;if(!K){const Tt=Pe.data[0];mt(!!Tt);const Pt=Tt.error||(null===(Ct=Tt[0])||void 0===Ct?void 0:Ct.error);if(Pt){Ne(hs,`RPC '${e}' stream ${s} received error:`,Pt);const Yt=Pt.status;let mn=function(tm){const eR=kr[tm];if(void 0!==eR)return fb(eR)}(Yt),ps=Pt.message;void 0===mn&&(mn=se.INTERNAL,ps="Unknown error status: "+Yt+" with message "+Pt.message),K=!0,ye.wo(new Ee(mn,ps)),N.close()}else Ne(hs,`RPC '${e}' stream ${s} received:`,Tt),ye._o(Tt)}}),Le(m,EA.STAT_EVENT,Pe=>{Pe.stat===oy.PROXY?Ne(hs,`RPC '${e}' stream ${s} detected buffering proxy`):Pe.stat===oy.NOPROXY&&Ne(hs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ye.fo()},0),ye}}function BI(){return typeof document<"u"?document:null}function b0(n){return new vb(n,!0)}class Wb{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class JA{constructor(e,t,r,s,u,l,m,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Wb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Ee(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uR extends JA{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Db(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:nt(),s=e.targetChange.targetIds||[],u=function(w,b){return w.useProto3Json?(mt(void 0===b||"string"==typeof b),Pr.fromBase64String(b||"")):(mt(void 0===b||b instanceof Uint8Array),Pr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,m=l&&function(w){const b=void 0===w.code?se.UNKNOWN:fb(w.code);return new Ee(b,w.message||"")}(l);t=new mb(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=Ma(n,r.document.name),u=mr(r.document.updateTime),l=r.document.createTime?mr(r.document.createTime):_t.min(),m=new Yr({mapValue:{fields:r.document.fields}}),w=Fn.newFoundDocument(s,u,l,m);t=new Sy(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=Ma(n,r.document),u=r.readTime?mr(r.readTime):_t.min(),l=Fn.newNoDocument(s,u);t=new Sy([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=Ma(n,r.document);t=new Sy([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,l=new xA(s,u);t=new gb(r.targetId,l)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?mr(u.readTime):_t.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=xy(this.serializer),t.addTarget=function(s,u){let l;const m=u.target;if(l=Sg(m)?{documents:gI(s,m)}:{query:Ny(s,m)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){l.resumeToken=_b(s,u.resumeToken);const w=c0(s,u.expectedCount);null!==w&&(l.expectedCount=w)}else if(u.snapshotVersion.compareTo(_t.min())>0){l.readTime=Tf(s,u.snapshotVersion.toTimestamp());const w=c0(s,u.expectedCount);null!==w&&(l.expectedCount=w)}return l}(this.serializer,e);const r=function Cb(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=xy(this.serializer),t.removeTarget=e,this.Wo(t)}}class cR extends JA{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function pI(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,s){let u=mr(r.updateTime?r.updateTime:s);return u.isEqual(_t.min())&&(u=mr(s)),new lb(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.cu(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xy(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function gd(n,e){let t;if(e instanceof Df)t={update:fI(n,e.key,e.value)};else if(e instanceof Cf)t={delete:Hi(n,e.key)};else if(e instanceof xa)t={update:fI(n,e.key,e.data),updateMask:mI(e.fieldMask)};else{if(!(e instanceof a0))return nt();t={verify:Hi(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof mo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof kc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof kg)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:wb(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:nt()),t;var s}(this.serializer,r))};this.Wo(t)}}class lR extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ee(se.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection.vo(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(se.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class hR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Wt(t),this.mu=!1):Ne("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class fR{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var w;kf(l)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ge.Z)(function*(b){const S=Qe(b);S.vu.add(4),yield jy(S),S.bu.set("Unknown"),S.vu.delete(4),yield T0(S)}),function(b){return w.apply(this,arguments)})(l))}))}),this.bu=new hR(r,s)}}function T0(n){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,ge.Z)(function*(n){if(kf(n))for(const e of n.Ru)yield e(!0)}),Kb.apply(this,arguments)}function jy(n){return Yb.apply(this,arguments)}function Yb(){return Yb=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Yb.apply(this,arguments)}function jI(n,e){const t=Qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Xb(t)?Jb(t):Hy(t).Ko()&&Qb(t,e))}function S0(n,e){const t=Qe(n),r=Hy(t);t.Au.delete(e),r.Ko()&&XA(t,e),0===t.Au.size&&(r.Ko()?r.jo():kf(t)&&t.bu.set("Unknown"))}function Qb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hy(n).su(e)}function XA(n,e){n.Vu.qt(e),Hy(n).iu(e)}function Jb(n){n.Vu=new yb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Hy(n).start(),n.bu.gu()}function Xb(n){return kf(n)&&!Hy(n).Uo()&&n.Au.size>0}function kf(n){return 0===Qe(n).vu.size}function ex(n){n.Vu=void 0}function pR(n){return eT.apply(this,arguments)}function eT(){return eT=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{Qb(n,e)})}),eT.apply(this,arguments)}function gR(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,ge.Z)(function*(n,e){ex(n),Xb(n)?(n.bu.Iu(e),Jb(n)):n.bu.set("Unknown")}),tT.apply(this,arguments)}function mR(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof mb&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(s,u){const l=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,l),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $I(n,r)}else if(e instanceof Sy?n.Vu.Ht(e):e instanceof gb?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const r=yield yr(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.Vu.ce(u);return l.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const b=s.Au.get(w);b&&s.Au.set(w,b.withResumeToken(m.resumeToken,u))}}),l.targetMismatches.forEach((m,w)=>{const b=s.Au.get(m);if(!b)return;s.Au.set(m,b.withResumeToken(Pr.EMPTY_BYTE_STRING,b.snapshotVersion)),XA(s,m);const S=new Fc(b.target,m,w,b.sequenceNumber);Qb(s,S)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ne("RemoteStore","Failed to raise snapshot:",r),yield $I(n,r)}var r}),nT.apply(this,arguments)}function $I(n,e,t){return rT.apply(this,arguments)}function rT(){return rT=(0,ge.Z)(function*(n,e,t){if(!xc(e))throw e;n.vu.add(1),yield jy(n),n.bu.set("Offline"),t||(t=()=>yr(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield T0(n)}))}),rT.apply(this,arguments)}function tx(n,e){return e().catch(t=>$I(n,t,e))}function $y(n){return iT.apply(this,arguments)}function iT(){return iT=(0,ge.Z)(function*(n){const e=Qe(n),t=Ff(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;yR(e);)try{const s=yield tR(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,vR(e,s)}catch(s){yield $I(e,s)}nx(e)&&rx(e)}),iT.apply(this,arguments)}function yR(n){return kf(n)&&n.Eu.length<10}function vR(n,e){n.Eu.push(e);const t=Ff(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function nx(n){return kf(n)&&!Ff(n).Uo()&&n.Eu.length>0}function rx(n){Ff(n).start()}function _R(n){return sT.apply(this,arguments)}function sT(){return sT=(0,ge.Z)(function*(n){Ff(n).hu()}),sT.apply(this,arguments)}function wR(n){return oT.apply(this,arguments)}function oT(){return oT=(0,ge.Z)(function*(n){const e=Ff(n);for(const t of n.Eu)e.uu(t.mutations)}),oT.apply(this,arguments)}function ER(n,e,t){return aT.apply(this,arguments)}function aT(){return aT=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),s=Cy.from(r,e,t);yield tx(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield $y(n)}),aT.apply(this,arguments)}function IR(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,ge.Z)(function*(n,e){var t;e&&Ff(n).ou&&(yield(t=(0,ge.Z)(function*(r,s){if(function hb(n){switch(n){default:return nt();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}(u=s.code)&&u!==se.ABORTED){const l=r.Eu.shift();Ff(r).Qo(),yield tx(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield $y(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),nx(n)&&rx(n)}),uT.apply(this,arguments)}function ix(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,ge.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const r=kf(t);t.vu.add(3),yield jy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield T0(t)}),cT.apply(this,arguments)}function dT(){return dT=(0,ge.Z)(function*(n,e){const t=Qe(n);e?(t.vu.delete(2),yield T0(t)):e||(t.vu.add(2),yield jy(t),t.bu.set("Unknown"))}),dT.apply(this,arguments)}function Hy(n){return n.Su||(n.Su=function(e,t,r){const s=Qe(e);return s.fu(),new uR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:pR.bind(null,n),ao:gR.bind(null,n),nu:mR.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),Xb(n)?Jb(n):n.bu.set("Unknown")):(yield n.Su.stop(),ex(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Ff(n){return n.Du||(n.Du=function(e,t,r){const s=Qe(e);return s.fu(),new cR(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:_R.bind(null,n),ao:IR.bind(null,n),au:wR.bind(null,n),cu:ER.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield $y(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class hT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,m=new hT(e,t,l,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ee(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),xc(n))return new Ee(se.UNAVAILABLE,`${e}: ${n}`);throw n}class zy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ke.comparator(t.key,r.key):(t,r)=>Ke.comparator(t.key,r.key),this.keyedMap=dd(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new zy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new zy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class sx{constructor(){this.Cu=new On(Ke.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class qy{constructor(e,t,r,s,u,l,m,w,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(m=>{l.push({type:0,doc:m})}),new qy(e,t,zy.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class DR{constructor(){this.Nu=void 0,this.listeners=[]}}class CR{constructor(){this.queries=new Su(e=>XE(e),wf),this.onlineState="Unknown",this.ku=new Set}}function fT(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,ge.Z)(function*(n,e){const t=Qe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new DR),s)try{u.Nu=yield t.onListen(r)}catch(l){const m=Gy(l,`Initialization of query '${wy(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&yT(t)}),pT.apply(this,arguments)}function gT(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,ge.Z)(function*(n,e){const t=Qe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),mT.apply(this,arguments)}function bR(n,e){const t=Qe(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const m of l.listeners)m.$u(s)&&(r=!0);l.Nu=s}}r&&yT(t)}function TR(n,e,t){const r=Qe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function yT(n){n.ku.forEach(e=>{e.next()})}class vT{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new qy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class ux{constructor(e){this.key=e}}class cx{constructor(e){this.key=e}}class lx{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=ld(e),this.ec=new zy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new sx,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,m=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,b="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((S,N)=>{const H=s.get(S),K=Rg(this.query,N)?N:null,ye=!!H&&this.mutatedKeys.has(H.key),Le=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Pe=!1;H&&K?H.data.isEqual(K.data)?ye!==Le&&(r.track({type:3,doc:K}),Pe=!0):this.rc(H,K)||(r.track({type:2,doc:K}),Pe=!0,(w&&this.tc(K,w)>0||b&&this.tc(K,b)<0)&&(m=!0)):!H&&K?(r.track({type:0,doc:K}),Pe=!0):H&&!K&&(r.track({type:1,doc:H}),Pe=!0,(w||b)&&(m=!0)),Pe&&(K?(l=l.add(K),u=Le?u.add(S):u.delete(S)):(l=l.delete(S),u=u.delete(S)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const S="F"===this.query.limitType?l.last():l.first();l=l.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{ec:l,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,S)=>function(N,H){const K=ye=>{switch(ye){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return K(N)-K(H)}(b.type,S.type)||this.tc(b.doc,S.doc)),this.oc(r);const l=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new qy(this.query,e.ec,s,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new sx,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new cx(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new ux(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return qy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class xR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MR{constructor(e){this.key=e,this.fc=!1}}class RR{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Su(m=>XE(m),wf),this._c=new Map,this.mc=new Set,this.gc=new On(Ke.comparator),this.yc=new Map,this.Ic=new kI,this.Tc={},this.Ec=new Map,this.Ac=Gc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function NR(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,ge.Z)(function*(n,e){const t=function $T(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kR.bind(null,e),e.dc.nu=bR.bind(null,e.eventManager),e.dc.Pc=TR.bind(null,e.eventManager),e}(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const l=yield function Uy(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,ee.resolve(s)):t.Bs.allocateTargetId(r).next(l=>(s=new Fc(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,xi(e)),m=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield function wT(n,e,t,r,s){return ET.apply(this,arguments)}(t,e,r,"current"===m,l.resumeToken),t.isPrimaryClient&&jI(t.remoteStore,l)}return s}),_T.apply(this,arguments)}function ET(){return ET=(0,ge.Z)(function*(n,e,t,r,s){n.Rc=(N,H,K)=>{return(ye=(0,ge.Z)(function*(Le,Pe,Ct,Tt){let Dt=Pe.view.sc(Ct);Dt.zi&&(Dt=yield FI(Le.localStore,Pe.query,!1).then(({documents:mn})=>Pe.view.sc(mn,Dt)));const Pt=Tt&&Tt.targetChanges.get(Pe.targetId),Yt=Pe.view.applyChanges(Dt,Le.isPrimaryClient,Pt);return RT(Le,Pe.targetId,Yt.cc),Yt.snapshot}),function(Le,Pe,Ct,Tt){return ye.apply(this,arguments)})(n,N,H,K);var ye};const u=yield FI(n.localStore,e,!0),l=new lx(e,u.ir),m=l.sc(u.documents),w=bf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),b=l.applyChanges(m,n.isPrimaryClient,w);RT(n,t,b.cc);const S=new xR(e,t,l);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),ET.apply(this,arguments)}function OR(n,e){return IT.apply(this,arguments)}function IT(){return IT=(0,ge.Z)(function*(n,e){const t=Qe(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!wf(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield By(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),S0(t.remoteStore,r.targetId),Wy(t,r.targetId)}).catch(Ac))):(Wy(t,r.targetId),yield By(t.localStore,r.targetId,!0))}),IT.apply(this,arguments)}function DT(){return DT=(0,ge.Z)(function*(n,e,t){const r=function HT(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LR.bind(null,e),e}(n);try{const s=yield function(u,l){const m=Qe(u),w=Yn.now(),b=l.reduce((H,K)=>H.add(K.key),Zt());let S,N;return m.persistence.runTransaction("Locally write mutations","readwrite",H=>{let K=Ls(),ye=Zt();return m.Zi.getEntries(H,b).next(Le=>{K=Le,K.forEach((Pe,Ct)=>{Ct.isValidDocument()||(ye=ye.add(Pe))})}).next(()=>m.localDocuments.getOverlayedDocuments(H,K)).next(Le=>{S=Le;const Pe=[];for(const Ct of l){const Tt=db(Ct,S.get(Ct.key).overlayedDocument);null!=Tt&&Pe.push(new xa(Ct.key,Tt,z_(Tt.value.mapValue),Gn.exists(!0)))}return m.mutationQueue.addMutationBatch(H,w,Pe,l)}).next(Le=>{N=Le;const Pe=Le.applyToLocalDocumentSet(S,ye);return m.documentOverlayCache.saveOverlays(H,Le.batchId,Pe)})}).then(()=>({batchId:N.batchId,changes:Ef(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new On(Rt)),w=w.insert(l,m),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield Ed(r,s.changes),yield $y(r.remoteStore)}catch(s){const u=Gy(s,"Failed to persist write");t.reject(u)}}),DT.apply(this,arguments)}function dx(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,ge.Z)(function*(n,e){const t=Qe(n);try{const r=yield function $A(n,e){const t=Qe(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((S,N)=>{const H=s.get(N);if(!H)return;m.push(t.Bs.removeMatchingKeys(u,S.removedDocuments,N).next(()=>t.Bs.addMatchingKeys(u,S.addedDocuments,N)));let K=H.withSequenceNumber(u.currentSequenceNumber);var ye,Le,Pe;null!==e.targetMismatches.get(N)?K=K.withResumeToken(Pr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(S.resumeToken,r)),s=s.insert(N,K),Le=K,Pe=S,(0===(ye=H).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-ye.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,K))});let w=Ls(),b=Zt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),m.push(function HA(n,e,t){let r=Zt(),s=Zt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=Ls();return t.forEach((m,w)=>{const b=u.get(m);w.isFoundDocument()!==b.isFoundDocument()&&(s=s.add(m)),w.isNoDocument()&&w.version.isEqual(_t.min())?(e.removeEntry(m,w.readTime),l=l.insert(m,w)):!b.isValidDocument()||w.version.compareTo(b.version)>0||0===w.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(w),l=l.insert(m,w)):Ne("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",w.version)}),{nr:l,sr:s}})}(u,l,e.documentUpdates).next(S=>{w=S.nr,b=S.sr})),!r.isEqual(_t.min())){const S=t.Bs.getLastRemoteSnapshotVersion(u).next(N=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(S)}return ee.waitFor(m).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,b)).next(()=>w)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.yc.get(u);l&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.fc=!0:s.modifiedDocuments.size>0?mt(l.fc):s.removedDocuments.size>0&&(mt(l.fc),l.fc=!1))}),yield Ed(t,r,e)}catch(r){yield Ac(r)}}),CT.apply(this,arguments)}function hx(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,l)=>{const m=l.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,l){const m=Qe(u);m.onlineState=l;let w=!1;m.queries.forEach((b,S)=>{for(const N of S.listeners)N.Mu(l)&&(w=!0)}),w&&yT(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function kR(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,ge.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let l=new On(Ke.comparator);l=l.insert(u,Fn.newNoDocument(u,_t.min()));const m=Zt().add(u),w=new pd(_t.min(),new Map,new On(Rt),l,m);yield dx(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),NT(r)}else yield By(r.localStore,e,!1).then(()=>Wy(r,e,t)).catch(Ac)}),bT.apply(this,arguments)}function FR(n,e){return TT.apply(this,arguments)}function TT(){return TT=(0,ge.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const s=yield function Qn(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,m,w,b){const S=w.batch,N=S.keys();let H=ee.resolve();return N.forEach(K=>{H=H.next(()=>b.getEntry(m,K)).next(ye=>{const Le=w.docVersions.get(K);mt(null!==Le),ye.version.compareTo(Le)<0&&(S.applyToRemoteDocument(ye,w),ye.isValidDocument()&&(ye.setReadTime(w.commitVersion),b.addEntry(ye)))})}),H.next(()=>l.mutationQueue.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let m=Zt();for(let w=0;w<l.mutationResults.length;++w)l.mutationResults[w].transformResults.length>0&&(m=m.add(l.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);MT(t,r,null),xT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ed(t,s)}catch(s){yield Ac(s)}}),TT.apply(this,arguments)}function LR(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=(0,ge.Z)(function*(n,e,t){const r=Qe(n);try{const s=yield function(u,l){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let b;return m.mutationQueue.lookupMutationBatch(w,l).next(S=>(mt(null!==S),b=S.keys(),m.mutationQueue.removeMutationBatch(w,S))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,b,l)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,b)).next(()=>m.localDocuments.getDocuments(w,b))})}(r.localStore,e);MT(r,e,t),xT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ed(r,s)}catch(s){yield Ac(s)}}),ST.apply(this,arguments)}function xT(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function MT(n,e,t){const r=Qe(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||fx(n,r)})}function fx(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(S0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),NT(n))}function RT(n,e,t){for(const r of t)r instanceof ux?(n.Ic.addReference(r.key,e),UR(n,r)):r instanceof cx?(Ne("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||fx(n,r.key)):nt()}function UR(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ne("SyncEngine","New document in limbo: "+t),n.mc.add(r),NT(n))}function NT(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ke(an.fromString(e)),r=n.Ac.next();n.yc.set(r,new MR(t)),n.gc=n.gc.insert(t,r),jI(n.remoteStore,new Fc(xi(_f(t.path)),r,"TargetPurposeLimboResolution",ds.ct))}}function Ed(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,ge.Z)(function*(n,e,t){const r=Qe(n),s=[],u=[],l=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{l.push(r.Rc(w,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,b?.fromCache?"not-current":"current"),b){s.push(b);const S=Ue.Li(w.targetId,b);u.push(S)}}))}),yield Promise.all(l),r.dc.nu(s),yield(m=(0,ge.Z)(function*(w,b){const S=Qe(w);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ee.forEach(b,H=>ee.forEach(H.Fi,K=>S.persistence.referenceDelegate.addReference(N,H.targetId,K)).next(()=>ee.forEach(H.Bi,K=>S.persistence.referenceDelegate.removeReference(N,H.targetId,K)))))}catch(N){if(!xc(N))throw N;Ne("LocalStore","Failed to update sequence numbers: "+N)}for(const N of b){const H=N.targetId;if(!N.fromCache){const K=S.Ji.get(H),Le=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);S.Ji=S.Ji.insert(H,Le)}}}),function(w,b){return m.apply(this,arguments)})(r.localStore,u))}),OT.apply(this,arguments)}function BR(n,e){return PT.apply(this,arguments)}function PT(){return PT=(0,ge.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const r=yield Se(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(l=>{l.forEach(m=>{m.reject(new Ee(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ed(t,r.er)}var s}),PT.apply(this,arguments)}function jR(n,e){const t=Qe(n),r=t.yc.get(e);if(r&&r.fc)return Zt().add(r.key);{let s=Zt();const u=t._c.get(e);if(!u)return s;for(const l of u){const m=t.wc.get(l);s=s.unionWith(m.view.nc)}return s}}class A0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=b0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function St(n,e,t,r){return new ct(n,e,t,r)}(this.persistence,new Je,e.initialUser,this.serializer)}createPersistence(e){return new d(_.zs,this.serializer)}createSharedClientState(e){return new KA}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zy{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>hx(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=BR.bind(null,r.syncEngine),yield function lT(n,e){return dT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new CR}createDatastore(e){const t=b0(e.databaseInfo.databaseId),r=new aR(e.databaseInfo);return new lR(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>hx(this.syncEngine,m,0),l=YA.D()?new YA:new iR,new fR(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,m,w,b){const S=new RR(r,s,u,l,m,w);return b&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=Qe(t);Ne("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield jy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class HI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eN{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Wr.UNAUTHENTICATED,this.clientId=wE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,ge.Z)(function*(m){Ne("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Gy(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function GI(n,e){return zT.apply(this,arguments)}function zT(){return zT=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,ge.Z)(function*(u){r.isEqual(u)||(yield Se(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),zT.apply(this,arguments)}function qT(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZT(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>ix(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>ix(e.remoteStore,u)),n._onlineComponents=e}),WT.apply(this,arguments)}function ZT(n){return KT.apply(this,arguments)}function KT(){return KT=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield GI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function vx(n){return"FirebaseError"===n.name?n.code===se.FAILED_PRECONDITION||n.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),yield GI(n,new A0)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),yield GI(n,new A0);return n._offlineComponents}),KT.apply(this,arguments)}function zI(n){return YT.apply(this,arguments)}function YT(){return YT=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield qT(n,n._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield qT(n,new Zy))),n._onlineComponents}),YT.apply(this,arguments)}function qI(n){return ZT(n).then(e=>e.localStore)}function Ky(n){return JT.apply(this,arguments)}function JT(){return JT=(0,ge.Z)(function*(n){const e=yield zI(n),t=e.eventManager;return t.onListen=NR.bind(null,e.syncEngine),t.onUnlisten=OR.bind(null,e.syncEngine),t}),JT.apply(this,arguments)}function Ix(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,w){const b=new HI({next:N=>{u.enqueueAndForget(()=>gT(s,S));const H=N.docs.has(l);!H&&N.fromCache?w.reject(new Ee(se.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&N.fromCache&&m&&"server"===m.source?w.reject(new Ee(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(N)},error:N=>w.reject(N)}),S=new vT(_f(l.path),b,{includeMetadataChanges:!0,Ku:!0});return fT(s,S)}(yield Ky(n),n.asyncQueue,e,t,r)})),r.promise}function Dx(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(s,u,l,m,w){const b=new HI({next:N=>{u.enqueueAndForget(()=>gT(s,S)),N.fromCache&&"server"===m.source?w.reject(new Ee(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(N)},error:N=>w.reject(N)}),S=new vT(l,b,{includeMetadataChanges:!0,Ku:!0});return fT(s,S)}(yield Ky(n),n.asyncQueue,e,t,r)})),r.promise}function Cx(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const bx=new Map;function XT(n,e,t){if(!t)throw new Ee(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Sx(n){if(!Ke.isDocumentKey(n))throw new Ee(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ax(n){if(Ke.isDocumentKey(n))throw new Ee(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WI(n);throw new Ee(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xx(n,e){if(e<=0)throw new Ee(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Mx{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ee(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ee(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Tx(n,e,t,r){if(!0===e&&!0===r)throw new Ee(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Cx(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class x0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ee(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ee(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new NC;switch(t.type){case"firstParty":return new kC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ee(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bx.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),bx.delete(e),t.terminate())}(this),Promise.resolve()}}class or{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class qi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qi(this.firestore,e,this._query)}}class zc extends qi{constructor(e,t,r){super(e,t,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Ke(e))}withConverter(e){return new zc(this.firestore,e,this._path)}}function ZI(n,e,...t){if(n=(0,pn.m9)(n),1===arguments.length&&(e=wE.A()),XT("doc","path",e),n instanceof x0){const r=an.fromString(e,...t);return Sx(r),new or(n,null,new Ke(r))}{if(!(n instanceof or||n instanceof zc))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return Sx(r),new or(n.firestore,n instanceof zc?n.converter:null,new Ke(r))}}function Ox(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),(n instanceof or||n instanceof zc)&&(e instanceof or||e instanceof zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function eS(n,e){return n=(0,pn.m9)(n),e=(0,pn.m9)(e),n instanceof qi&&e instanceof qi&&n.firestore===e.firestore&&wf(n._query,e._query)&&n.converter===e.converter}class lN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Wb(this,"async_queue_retry"),this.Xc=()=>{const t=BI();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=BI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=BI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!xc(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=hT.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function tS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class ar extends x0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new lN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Px(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||Px(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Px(n){var e,t,r;const s=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new QC(n._databaseId,m,n._persistenceKey,(b=s).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Cx(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new eN(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(Pr.fromBase64String(e))}catch(t){throw new Ee(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new qc(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Id{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ee(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qg{constructor(e){this._methodName=e}}class KI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const IN=/^__.*__$/;class DN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Df(e,this.data,t,this.fieldTransforms)}}class Lx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Vx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class YI{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new YI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return XI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Vx(this.ca)&&IN.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class CN{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||b0(e)}ya(e,t,r,s=!1){return new YI({ca:e,methodName:t,ga:r,path:gr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wg(n){const e=n._freezeSettings(),t=b0(n._databaseId);return new CN(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QI(n,e,t,r,s,u={}){const l=n.ya(u.merge||u.mergeFields?2:0,e,t,s);sS("Data must be an object, but it was:",l,r);const m=jx(r,l);let w,b;if(u.merge)w=new Ai(l.fieldMask),b=l.fieldTransforms;else if(u.mergeFields){const S=[];for(const N of u.mergeFields){const H=N0(e,N,t);if(!l.contains(H))throw new Ee(se.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);Hx(S,H)||S.push(H)}w=new Ai(S),b=l.fieldTransforms.filter(N=>w.covers(N.field))}else w=null,b=l.fieldTransforms;return new DN(new Yr(m),w,b)}class R0 extends qg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof R0}}function Bx(n,e,t,r=!1){return Zg(t,n.ya(r?4:3,e))}function Zg(n,e){if($x(n=(0,pn.m9)(n)))return sS("Unsupported field value:",e,n),jx(n,e);if(n instanceof qg)return function(t,r){if(!Vx(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let m=Zg(l,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,pn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pg(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Yn.fromDate(t);return{timestampValue:Tf(r.serializer,s)}}if(t instanceof Yn){const s=new Yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tf(r.serializer,s)}}if(t instanceof KI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qc)return{bytesValue:_b(r.serializer,t._byteString)};if(t instanceof or){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ay(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${WI(t)}`)}(n,e)}function jx(n,e){const t={};return UE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ca(n,(r,s)=>{const u=Zg(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function $x(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof KI||n instanceof qc||n instanceof or||n instanceof qg)}function sS(n,e,t){if(!$x(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=WI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function N0(n,e,t){if((e=(0,pn.m9)(e))instanceof Id)return e._internalPath;if("string"==typeof e)return JI(n,e);throw XI("Field path arguments must be of type string or ",n,!1,void 0,t)}const AN=new RegExp("[~\\*/\\[\\]]");function JI(n,e,t){if(e.search(AN)>=0)throw XI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Id(...e.split("."))._internalPath}catch{throw XI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XI(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||l)&&(w+=" (found",u&&(w+=` in field ${r}`),l&&(w+=` in document ${s}`),w+=")"),new Ee(se.INVALID_ARGUMENT,m+n+w)}function Hx(n,e){return n.some(t=>t.isEqual(e))}class O0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xN extends O0{data(){return super.data()}}function eD(n,e){return"string"==typeof e?JI(n,e):e instanceof Id?e._internalPath:e._delegate._internalPath}function Gx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ee(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{}class P0 extends oS{}function Lf(n,e,...t){let r=[];e instanceof oS&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof Yy).length,l=s.filter(m=>m instanceof k0).length;if(u>1||u>0&&l>0)throw new Ee(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class k0 extends P0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new k0(e,t,r)}_apply(e){const t=this._parse(e);return Zx(e._query,t),new qi(e.firestore,e.converter,Q_(e._query,t))}_parse(e){const t=Wg(e.firestore);return function(s,u,l,m,w,b,S){let N;if(w.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ee(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Wx(S,b);const H=[];for(const K of S)H.push(qx(m,s,K));N={arrayValue:{values:H}}}else N=qx(m,s,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Wx(S,b),N=Bx(l,"where",S,"in"===b||"not-in"===b);return nn.create(w,b,N)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yy extends oS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Tn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const l=s.getFlattenedFilters();for(const m of l)Zx(u,m),u=Q_(u,m)}(e._query,t),new qi(e.firestore,e.converter,Q_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aS extends P0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new aS(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Ee(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ee(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new ud(s,u);return function(m,w){if(null===Ag(m)){const b=xg(m);null!==b&&Kx(0,b,w.field)}}(r,l),l}(e._query,this._field,this._direction);return new qi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Tu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class tD extends P0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new tD(e,t,r)}_apply(e){return new qi(e.firestore,e.converter,Mg(e._query,this._limit,this._limitType))}}class nD extends P0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new nD(e,t,r)}_apply(e){const t=zx(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(s=t,new Tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class rD extends P0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rD(e,t,r)}_apply(e){const t=zx(e,this.type,this._docOrFields,this._inclusive);return new qi(e.firestore,e.converter,(s=t,new Tu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function zx(n,e,t,r){if(t[0]=(0,pn.m9)(t[0]),t[0]instanceof O0)return function(s,u,l,m,w){if(!m)throw new Ee(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const b=[];for(const S of Pc(s))if(S.field.isKeyField())b.push(Oc(u,m.key));else{const N=m.data.field(S.field);if(yg(N))throw new Ee(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const H=S.field.canonicalString();throw new Ee(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}b.push(N)}return new Cu(b,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Wg(n.firestore);return function(u,l,m,w,b,S){const N=u.explicitOrderBy;if(b.length>N.length)throw new Ee(se.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let K=0;K<b.length;K++){const ye=b[K];if(N[K].field.isKeyField()){if("string"!=typeof ye)throw new Ee(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ye}`);if(!Y_(u)&&-1!==ye.indexOf("/"))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ye}' contains a slash.`);const Le=u.path.child(an.fromString(ye));if(!Ke.isDocumentKey(Le))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Pe=new Ke(Le);H.push(Oc(l,Pe))}else{const Le=Bx(m,w,ye);H.push(Le)}}return new Cu(H,S)}(n._query,n.firestore._databaseId,s,e,t,r)}}function qx(n,e,t){if("string"==typeof(t=(0,pn.m9)(t))){if(""===t)throw new Ee(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&-1!==t.indexOf("/"))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(an.fromString(t));if(!Ke.isDocumentKey(r))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Oc(n,new Ke(r))}if(t instanceof or)return Oc(n,t._key);throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WI(t)}.`)}function Wx(n,e){if(!Array.isArray(n)||0===n.length)throw new Ee(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Zx(n,e){if(e.isInequality()){const r=xg(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=Ag(n);null!==u&&Kx(0,s,u)}const t=function(r,s){for(const u of r)for(const l of u.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ee(se.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Kx(n,e,t){if(!t.isEqual(e))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uS{convertValue(e,t="none"){switch(ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ca(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new KI(sr(e.latitude),sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(_g(e));default:return null}}convertTimestamp(e){const t=ba(e);return new Yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=an.fromString(e);mt(yI(r));const s=new Mc(r.get(1),r.get(3)),u=new Ke(r.popFirst(5));return s.isEqual(t)||Wt(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function iD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Kg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends O0{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class F0 extends Dd{data(e={}){return super.data(e)}}class Vf{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Kg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new F0(this._firestore,this._userDataWriter,r.key,r,new Kg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new F0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const m=new F0(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Kg(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,b=-1;return 0!==l.type&&(w=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),b=u.indexOf(l.doc.key)),{type:BN(l.type),doc:m,oldIndex:w,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Qx(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Vf&&e instanceof Vf&&n._firestore===e._firestore&&eS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Uf extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function Jx(n,e,t){n=ln(n,or);const r=ln(n.firestore,ar),s=iD(n.converter,e,t);return Qy(r,[QI(Wg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Gn.none())])}function Xx(n,e,t,...r){n=ln(n,or);const s=ln(n.firestore,ar),u=Wg(s);let l;return l="string"==typeof(e=(0,pn.m9)(e))||e instanceof Id?function iS(n,e,t,r,s,u){const l=n.ya(1,e,t),m=[N0(e,r,t)],w=[s];if(u.length%2!=0)throw new Ee(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(N0(e,u[H])),w.push(u[H+1]);const b=[],S=Yr.empty();for(let H=m.length-1;H>=0;--H)if(!Hx(b,m[H])){const K=m[H];let ye=w[H];ye=(0,pn.m9)(ye);const Le=l.da(K);if(ye instanceof R0)b.push(K);else{const Pe=Zg(ye,Le);null!=Pe&&(b.push(K),S.set(K,Pe))}}const N=new Ai(b);return new Lx(S,N,l.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function rS(n,e,t,r){const s=n.ya(1,e,t);sS("Data must be an object, but it was:",s,r);const u=[],l=Yr.empty();Ca(r,(w,b)=>{const S=JI(e,w,t);b=(0,pn.m9)(b);const N=s.da(S);if(b instanceof R0)u.push(S);else{const H=Zg(b,N);null!=H&&(u.push(S),l.set(S,H))}});const m=new Ai(u);return new Lx(l,m,s.fieldTransforms)}(u,"updateDoc",n._key,e),Qy(s,[l.toMutation(n._key,Gn.exists(!0))])}function eM(n,...e){var t,r,s;n=(0,pn.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||tS(e[l])||(u=e[l],l++);const m={includeMetadataChanges:u.includeMetadataChanges};if(tS(e[l])){const N=e[l];e[l]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[l+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[l+2]=null===(s=N.complete)||void 0===s?void 0:s.bind(N)}let w,b,S;if(n instanceof or)b=ln(n.firestore,ar),S=_f(n._key.path),w={next:N=>{e[l]&&e[l](cS(b,n,N))},error:e[l+1],complete:e[l+2]};else{const N=ln(n,qi);b=ln(N.firestore,ar),S=N._query;const H=new Uf(b);w={next:K=>{e[l]&&e[l](new Vf(b,H,N,K))},error:e[l+1],complete:e[l+2]},Gx(n._query)}return function(N,H,K,ye){const Le=new HI(ye),Pe=new vT(H,Le,K);return N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return fT(yield Ky(N),Pe)})),()=>{Le.Dc(),N.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return gT(yield Ky(N),Pe)}))}}(Fr(b),S,m,w)}function Qy(n,e){return function(t,r){const s=new Or;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function PR(n,e,t){return DT.apply(this,arguments)}(yield function QT(n){return zI(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Fr(n),e)}function cS(n,e,t){const r=t.docs.get(e._key),s=new Uf(n);return new Dd(n,s,e._key,r,new Kg(t.hasPendingWrites,t.fromCache),e.converter)}function rM(){if(typeof Uint8Array>"u")throw new Ee("unimplemented","Uint8Arrays are not available in this environment.")}function iM(){if(!function j_(){return typeof atob<"u"}())throw new Ee("unimplemented","Blobs are unavailable in Firestore in this environment.")}class L0{constructor(e){this._delegate=e}static fromBase64String(e){return iM(),new L0(qc.fromBase64String(e))}static fromUint8Array(e){return rM(),new L0(qc.fromUint8Array(e))}toBase64(){return iM(),this._delegate.toBase64()}toUint8Array(){return rM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function dS(n){return function pO(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class sD extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new L0(new qc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ra.forKey(t,this.firestore,null)}}class Yg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new F0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new U0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Yg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Yg(e,new sD(e),t),s.set(t,u)),u}}Yg.INSTANCES=new WeakMap;class Ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ee("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ra(t,new or(t._delegate,r,new Ke(e)))}static forKey(e,t,r){return new Ra(t,new or(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Jy(this.firestore,function Nx(n,e,...t){if(n=(0,pn.m9)(n),XT("collection","path",e),n instanceof x0){const r=an.fromString(e,...t);return Ax(r),new zc(n,null,r)}{if(!(n instanceof or||n instanceof zc))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(an.fromString(e,...t));return Ax(r),new zc(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Us(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,pn.m9)(e))instanceof or&&Ox(this._delegate,e)}set(e,t){t=function lS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ee("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?Jx(this._delegate,e,t):Jx(this._delegate,e)}catch(r){throw Us(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Xx(this._delegate,e):Xx(this._delegate,e,t,...r)}catch(s){throw Us(s,"updateDoc()","DocumentReference.update()")}}delete(){return function WN(n){return Qy(ln(n.firestore,ar),[new Cf(n._key,Gn.none())])}(this._delegate)}onSnapshot(...e){const t=uM(e),r=cM(e,s=>new V0(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return eM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function $N(n){n=ln(n,or);const e=ln(n.firestore,ar),t=Fr(e),r=new Uf(e);return function rN(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield function(w,b){const S=Qe(w);return S.persistence.runTransaction("read document","readonly",N=>S.localDocuments.getDocument(N,b))}(s,u);m.isFoundDocument()?l.resolve(m):m.isNoDocument()?l.resolve(null):l.reject(new Ee(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Gy(m,`Failed to get document '${u} from cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield qI(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Dd(e,r,n._key,s,new Kg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function HN(n){n=ln(n,or);const e=ln(n.firestore,ar);return Ix(Fr(e),n._key,{source:"server"}).then(t=>cS(e,n,t))}(this._delegate):function jN(n){n=ln(n,or);const e=ln(n.firestore,ar);return Ix(Fr(e),n._key).then(t=>cS(e,n,t))}(this._delegate),t.then(r=>new V0(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ra(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}function Us(n,e,t){return n.message=n.message.replace(e,t),n}function uM(n){for(const e of n)if("object"==typeof e&&!dS(e))return e;return{}}function cM(n,e){var t,r;let s;return s=dS(n[0])?n[0]:dS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class V0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qx(this._delegate,e._delegate)}}class U0 extends V0{data(e){const t=this._delegate.data(e);return function mE(n,e){n||nt()}(void 0!==t),t}}class Bs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sD(e)}where(e,t,r){try{return new Bs(this.firestore,Lf(this._delegate,function MN(n,e,t){const r=e,s=eD("where",n);return k0._create(s,r,t)}(e,t,r)))}catch(s){throw Us(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Bs(this.firestore,Lf(this._delegate,function RN(n,e="asc"){const t=e,r=eD("orderBy",n);return aS._create(r,t)}(e,t)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Bs(this.firestore,Lf(this._delegate,function NN(n){return xx("limit",n),tD._create("limit",n,"F")}(e)))}catch(t){throw Us(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Bs(this.firestore,Lf(this._delegate,function ON(n){return xx("limitToLast",n),tD._create("limitToLast",n,"L")}(e)))}catch(t){throw Us(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Bs(this.firestore,Lf(this._delegate,function PN(...n){return nD._create("startAt",n,!0)}(...e)))}catch(t){throw Us(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Bs(this.firestore,Lf(this._delegate,function kN(...n){return nD._create("startAfter",n,!1)}(...e)))}catch(t){throw Us(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Bs(this.firestore,Lf(this._delegate,function FN(...n){return rD._create("endBefore",n,!1)}(...e)))}catch(t){throw Us(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Bs(this.firestore,Lf(this._delegate,function LN(...n){return rD._create("endAt",n,!0)}(...e)))}catch(t){throw Us(t,"endAt()","Query.endAt()")}}isEqual(e){return eS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function zN(n){n=ln(n,qi);const e=ln(n.firestore,ar),t=Fr(e),r=new Uf(e);return function iN(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(s,u,l){try{const m=yield FI(s,u,!0),w=new lx(u,m.ir),b=w.sc(m.documents),S=w.applyChanges(b,!1);l.resolve(S.snapshot)}catch(m){const w=Gy(m,`Failed to execute query '${u} against cache`);l.reject(w)}}),function(s,u,l){return r.apply(this,arguments)})(yield qI(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Vf(e,r,n,s))}(this._delegate):"server"===e?.source?function qN(n){n=ln(n,qi);const e=ln(n.firestore,ar),t=Fr(e),r=new Uf(e);return Dx(t,n._query,{source:"server"}).then(s=>new Vf(e,r,n,s))}(this._delegate):function GN(n){n=ln(n,qi);const e=ln(n.firestore,ar),t=Fr(e),r=new Uf(e);return Gx(n._query),Dx(t,n._query).then(s=>new Vf(e,r,n,s))}(this._delegate),t.then(r=>new hS(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uM(e),r=cM(e,s=>new hS(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return eM(this._delegate,t,r)}withConverter(e){return new Bs(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}class yO{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new U0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new U0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yO(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new U0(this._firestore,r))})}isEqual(e){return Qx(this._delegate,e._delegate)}}class Jy extends Bs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ra(this.firestore,e):null}doc(e){try{return new Ra(this.firestore,void 0===e?ZI(this._delegate):ZI(this._delegate,e))}catch(t){throw Us(t,"doc()","CollectionReference.doc()")}}add(e){return function ZN(n,e){const t=ln(n.firestore,ar),r=ZI(n),s=iD(n.converter,e);return Qy(t,[QI(Wg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ra(this.firestore,t))}isEqual(e){return Ox(this._delegate,e._delegate)}withConverter(e){return new Jy(this.firestore,this._delegate.withConverter(e?Yg.getInstance(this.firestore,e):null))}}var EO=k(6451),oD=k(5363),IO=k(6063);class DO extends Ts.x{constructor(e=1/0,t=1/0,r=IO.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=l;w+=2)m=w;m&&r.splice(0,m+1)}}}var CO=k(3099);function lM(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,CO.B)({connector:()=>new DO(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function dM(n,e){return(0,El.m)(e)?rr(()=>n,e):rr(()=>n)}var pS=k(9468);k(8140);const mS=new Map,fM={activated:!1,tokenObservers:[]},xO={initialized:!1,enabled:!1};function br(n){return mS.get(n)||Object.assign({},fM)}function uD(){return xO}const yS="https://content-firebaseappcheck.googleapis.com/v1",OO="exchangeDebugToken",pM={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class kO{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new pn.BH,yield function FO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wi=new pn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vS(n){if(!br(n).activated)throw Wi.create("use-before-activation",{appName:n.name})}function dD(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const N=yield s.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,m;try{l=yield fetch(n,u)}catch(N){throw Wi.create("fetch-network-error",{originalErrorMessage:N?.message})}if(200!==l.status)throw Wi.create("fetch-status-error",{httpStatus:l.status});try{m=yield l.json()}catch(N){throw Wi.create("fetch-parse-error",{originalErrorMessage:N?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(w[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),wS.apply(this,arguments)}function gM(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${yS}/projects/${t}/apps/${r}:${OO}?key=${s}`,body:{debug_token:e}}}const BO="firebase-app-check-database",jO=1,B0="firebase-app-check-store";let hD=null;function ES(){return ES=(0,ge.Z)(function*(n,e){const r=(yield function yM(){return hD||(hD=new Promise((n,e)=>{try{const t=indexedDB.open(BO,jO);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Wi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(B0,{keyPath:"compositeKey"})}}catch(t){e(Wi.create("storage-open",{originalErrorMessage:t?.message}))}}),hD)}()).transaction(B0,"readwrite"),u=r.objectStore(B0).put({compositeKey:n,value:e});return new Promise((l,m)=>{u.onsuccess=w=>{l()},r.onerror=w=>{var b;m(Wi.create("storage-set",{originalErrorMessage:null===(b=w.target.error)||void 0===b?void 0:b.message}))}})}),ES.apply(this,arguments)}const j0=new Cc.Yd("@firebase/app-check");function CS(n,e){return(0,pn.hl)()?function HO(n,e){return function vM(n,e){return ES.apply(this,arguments)}(function wM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{j0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TS(){return uD().enabled}function SS(){return AS.apply(this,arguments)}function AS(){return AS=(0,ge.Z)(function*(){const n=uD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AS.apply(this,arguments)}const KO={error:"UNKNOWN_ERROR"};function YO(n){return pn.US.encodeString(JSON.stringify(n),!1)}function fD(n){return xS.apply(this,arguments)}function xS(){return xS=(0,ge.Z)(function*(n,e=!1){const t=n.app;vS(t);const r=br(t);let u,s=r.token;if(s&&!Xy(s)&&(r.token=void 0,s=void 0),!s){const w=yield r.cachedTokenPromise;w&&(Xy(w)?s=w:yield CS(t,void 0))}if(!e&&s&&Xy(s))return{token:s.token};let m,l=!1;if(TS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dD(gM(t,yield SS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const w=yield r.exchangeTokenPromise;return yield CS(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield br(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?j0.warn(w.message):j0.error(w),u=w}return s?u?m=Xy(s)?{token:s.token,internalError:u}:CM(u):(m={token:s.token},r.token=s,yield CS(t,s)):m=CM(u),l&&function DM(n,e){const t=br(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),xS.apply(this,arguments)}function MS(){return MS=(0,ge.Z)(function*(n){const e=n.app;vS(e);const{provider:t}=br(e);if(TS()){const r=yield SS(),{token:s}=yield dD(gM(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),MS.apply(this,arguments)}function NS(n,e){const t=br(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function IM(n){const{app:e}=n,t=br(e);let r=t.tokenRefresher;r||(r=function QO(n){const{app:e}=n;return new kO((0,ge.Z)(function*(){let r;if(r=br(e).token?yield fD(n,!0):yield fD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=br(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},pM.RETRIAL_MIN_WAIT,pM.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xy(n){return n.expireTimeMillis-Date.now()>0}function CM(n){return{token:YO(KO),error:n}}class JO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=br(this.app);for(const t of e)NS(this.app,t.next);return Promise.resolve()}}const NM="app-check-internal";!function hP(){(0,_u._registerComponent)(new Pm.wA("app-check",n=>function XO(n,e){return new JO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(NM).initialize()})),(0,_u._registerComponent)(new Pm.wA(NM,n=>function eP(n){return{getToken:e=>fD(n,e),getLimitedUseToken:()=>function EM(n){return MS.apply(this,arguments)}(n),addTokenListener:e=>function RS(n,e,t,r){const{app:s}=n,u=br(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Xy(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),IM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>IM(n))}(n,"INTERNAL",e),removeTokenListener:e=>NS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_u.registerVersion)("@firebase/app-check","0.8.0")}();class FS{constructor(){return(0,wr.vb)("app-check")}}typeof window<"u"&&window;var yP=k(1274);let jM=(()=>{class n{constructor(t,r,s,u,l,m,w,b,S,N,H,K){const ye=new Ts.x,Le=ut(void 0).pipe((0,oD.Q)(l.outsideAngular),rr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1146)))),(0,gt.U)(()=>(0,Ms.on)(t,u,r)),(0,gt.U)(Pe=>BM(Pe,u,m,b,S,N,w,H)),lM({bufferSize:1,refCount:!1}));if(Jc(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Le.pipe(ss()).subscribe();const Ct=Le.pipe(rr(Pt=>Pt.getRedirectResult().then(Yt=>Yt,()=>null)),wr.iC,lM({bufferSize:1,refCount:!1})),Tt=Le.pipe(rr(Pt=>new _i.y(Yt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onAuthStateChanged(mn=>Yt.next(mn),mn=>Yt.error(mn),()=>Yt.complete()))})))),Dt=Le.pipe(rr(Pt=>new _i.y(Yt=>({unsubscribe:u.runOutsideAngular(()=>Pt.onIdTokenChanged(mn=>Yt.next(mn),mn=>Yt.error(mn),()=>Yt.complete()))}))));this.authState=Ct.pipe(dM(Tt),(0,pS.R)(l.outsideAngular),(0,oD.Q)(l.insideAngular)),this.user=Ct.pipe(dM(Dt),(0,pS.R)(l.outsideAngular),(0,oD.Q)(l.insideAngular)),this.idToken=this.user.pipe(rr(Pt=>Pt?(0,fn.D)(Pt.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(rr(Pt=>Pt?(0,fn.D)(Pt.getIdTokenResult()):ut(null))),this.credential=(0,EO.T)(Ct,ye,this.authState.pipe(ri(Pt=>!Pt))).pipe((0,gt.U)(Pt=>Pt?.user?Pt:null),(0,pS.R)(l.outsideAngular),(0,oD.Q)(l.insideAngular))}return(0,Ms.pX)(this,Le,u,{spy:{apply:(Pe,Ct,Tt)=>{(Pe.startsWith("signIn")||Pe.startsWith("createUser"))&&Tt.then(Dt=>ye.next(Dt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ms.Dh),f.LFG(Ms.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(wr.HU),f.LFG(PM,8),f.LFG(kM,8),f.LFG(FM,8),f.LFG(LM,8),f.LFG(VM,8),f.LFG(UM,8),f.LFG(FS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function $M(n,e){return function _P(n,e=Lv.z){return new _i.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function VS(n,e){return $M(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function gD(n,e){return VS(n,e).pipe(cc(void 0),Vp(),(0,gt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,m)=>{const w=s.find(S=>S.doc.ref.isEqual(l.ref)),b=t?.payload.docs.find(S=>S.ref.isEqual(l.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(l.metadata)||!w&&b&&JSON.stringify(b.metadata)===JSON.stringify(l.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:l}})}),u}))}function HM(n,e,t){return gD(n,t).pipe(ca((r,s)=>function EP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function IP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return US(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return US(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return US(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function Om(n,e=ua.y){return n=n??Cw,(0,Mr.e)((t,r)=>{let s,u=!0;t.subscribe((0,pr.x)(r,l=>{const m=e(l);(u||!n(s,m))&&(u=!1,s=m,r.next(l))}))})}(),(0,gt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function US(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function GM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=gD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(cc(void 0),Vp(),ri(([r,s])=>s.length>0||!r),(0,gt.U)(([r,s])=>s),wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ca((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GM(e);return HM(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return VS(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),wr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(wr.iC)}add(e){return this.ref.add(e)}doc(e){return new qM(this.ref.doc(e),this.afs)}}class qM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=KM(r,t);return new zM(s,u,this.afs)}snapshotChanges(){return function wP(n,e){return $M(n,e).pipe(cc(void 0),Vp(),(0,gt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(wr.iC)}}class DP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?gD(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ri(t=>t.length>0),wr.iC):gD(this.query,this.afs.schedulers.outsideAngular).pipe(wr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ca((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=GM(e);return HM(this.query,t,this.afs.schedulers.outsideAngular).pipe(wr.iC)}valueChanges(e={}){return VS(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),wr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(wr.iC)}}const WM=new f.OlP("angularfire2.enableFirestorePersistence"),ZM=new f.OlP("angularfire2.firestore.persistenceSettings"),CP=new f.OlP("angularfire2.firestore.settings"),bP=new f.OlP("angularfire2.firestore.use-emulator");function KM(n,e=(t=>t)){return{query:e(n),ref:n}}let mD=(()=>{class n{constructor(t,r,s,u,l,m,w,b,S,N,H,K,ye,Le,Pe,Ct,Tt){this.schedulers=w;const Dt=(0,Ms.on)(t,m,r),Pt=S;N&&BM(Dt,m,H,ye,Le,Pe,K,Ct),[this.firestore,this.persistenceEnabled$]=(0,Ms.cc)(`${Dt.name}.firestore`,"AngularFirestore",Dt.name,()=>{const Yt=m.runOutsideAngular(()=>Dt.firestore());if(u&&Yt.settings(u),Pt&&Yt.useEmulator(...Pt),s&&!Jc(l)){const mn=()=>{try{return(0,fn.D)(Yt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(ps){return typeof console<"u"&&console.warn(ps),ut(!1)}};return[Yt,m.runOutsideAngular(mn)]}return[Yt,ut(!1)]},[u,Pt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:l}=KM(s,r),m=this.schedulers.ngZone.run(()=>u);return new zM(m,l,this)}collectionGroup(t,r){const s=r||(l=>l),u=this.firestore.collectionGroup(t);return new DP(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new qM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ms.Dh),f.LFG(Ms.xv,8),f.LFG(WM,8),f.LFG(CP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(wr.HU),f.LFG(ZM,8),f.LFG(bP,8),f.LFG(jM,8),f.LFG(PM,8),f.LFG(kM,8),f.LFG(FM,8),f.LFG(LM,8),f.LFG(VM,8),f.LFG(UM,8),f.LFG(FS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TP=(()=>{class n{constructor(){yP.Z.registerVersion("angularfire",wr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WM,useValue:!0},{provide:ZM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[mD]}),n})(),BS=(()=>{class n{constructor(t){this.afs=t}loadFeatured(){return this.afs.collection("posts",t=>t.where("isFeatured","==",!0).limit(4)).snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}loadLatest(){return this.afs.collection("posts",t=>t.orderBy("createdAt")).snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}loadCategoryPosts(t){return this.afs.collection("posts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,gt.U)(r=>r.map(s=>{const u=s.payload.doc.data();return{id:s.payload.doc.id,data:u}})))}loadOnePost(t){return this.afs.doc(`posts/${t}`).valueChanges()}loadSimilar(t){return this.afs.collection("posts",r=>r.where("category.categoryId","==",t).limit(4)).snapshotChanges().pipe((0,gt.U)(r=>r.map(s=>{const u=s.payload.doc.data();return{id:s.payload.doc.id,data:u}})))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(mD))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SP(n,e){1&n&&(f.TgZ(0,"small",10),f._uU(1,"Featured"),f.qZA())}const AP=function(n){return["/post",n]};function xP(n,e){if(1&n&&(f.TgZ(0,"div",1),f._UZ(1,"img",2),f.TgZ(2,"div",3)(3,"small",4),f._uU(4),f.qZA(),f.YNc(5,SP,2,0,"small",5),f.TgZ(6,"small",6),f._uU(7),f.qZA(),f.TgZ(8,"h5",7),f._uU(9),f.qZA(),f.TgZ(10,"p",8),f._uU(11),f.qZA(),f.TgZ(12,"small",9),f._uU(13),f.ALo(14,"date"),f.qZA()()()),2&n){const t=f.oxw();f.Q6J("routerLink",f.VKq(10,AP,t.postData.id)),f.xp6(1),f.s9C("src",t.postData.data.postImgPath,f.LSH),f.xp6(3),f.Oqu(t.postData.data.category.category),f.xp6(1),f.Q6J("ngIf",t.postData.data.isFeatured),f.xp6(2),f.Oqu(t.postData.data.views),f.xp6(2),f.Oqu(t.postData.data.title),f.xp6(2),f.Oqu(t.postData.data.excerpt),f.xp6(2),f.hij(" Last Updated - ",f.lcZ(14,8,t.postData.data.createdAt.toMillis()),"")}}let jS=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-post-card"]],inputs:{postData:"postData"},decls:1,vars:1,consts:[["class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",3,"routerLink"],["alt","post-image",1,"card-img-top",2,"min-height","220px","max-height","220px",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],["class","bg-light text-success text-center m-3",4,"ngIf"],[1,"bg-light","text-info","text-center","m-2"],[1,"mt-1"],[2,"min-height","140px","max-height","140px"],[1,"bg-light","text-warning","text-center","mt-3"],[1,"bg-light","text-success","text-center","m-3"]],template:function(t,r){1&t&&f.YNc(0,xP,15,12,"div",0),2&t&&f.Q6J("ngIf",r.postData)},dependencies:[zs,Wl,hi],styles:[".card[_ngcontent-%COMP%]{max-width:400px;min-height:400px;border:none;box-shadow:0 0 33px -10px #4772fe99}.shadow-effect[_ngcontent-%COMP%]{border:none;box-shadow:0 0 33px -10px #4772fe99}"]}),n})();function MP(n,e){if(1&n&&(f.TgZ(0,"div",9),f._UZ(1,"app-post-card",10),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("postData",t)}}function RP(n,e){if(1&n&&(f.TgZ(0,"div",11),f._UZ(1,"app-post-card",10),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("postData",t)}}let NP=(()=>{class n{constructor(t){this.postService=t,this.featuredPostsArray=[],this.latestPostsArray=[]}ngOnInit(){this.postService.loadFeatured().subscribe(t=>{this.featuredPostsArray=t}),this.postService.loadLatest().subscribe(t=>{this.latestPostsArray=t})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(BS))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:19,vars:2,consts:[[1,"featured-section"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","text-center","mt-5"],[1,"text-white"],["class","col-md-3 mb-3",4,"ngFor","ngForOf"],[1,"container","mt-5"],[1,"col-md-12","text-center"],["class","col-md-4 mt-3",4,"ngFor","ngForOf"],[1,"col-md-3","mb-3"],[3,"postData"],[1,"col-md-4","mt-3"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),f._uU(5,"Featured Posts"),f.qZA(),f.TgZ(6,"p",4),f._uU(7,"Lorem ipsum dolor sit, amet consectetur adipisicing elit."),f.qZA()()(),f.TgZ(8,"div")(9,"div",2),f.YNc(10,MP,2,1,"div",5),f.qZA()()()(),f.TgZ(11,"section",6)(12,"div",7)(13,"h2"),f._uU(14,"Latest Posts"),f.qZA(),f.TgZ(15,"p"),f._uU(16,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. "),f.qZA()(),f.TgZ(17,"div",2),f.YNc(18,RP,2,1,"div",8),f.qZA()()),2&t&&(f.xp6(10),f.Q6J("ngForOf",r.featuredPostsArray),f.xp6(8),f.Q6J("ngForOf",r.latestPostsArray))},dependencies:[ys,jS],styles:[".featured-section[_ngcontent-%COMP%]{padding:0 10px 100px;background-color:var(--primary-color)}"]}),n})();function OP(n,e){if(1&n&&(f.TgZ(0,"div",6),f._UZ(1,"app-post-card",7),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("postData",t)}}let PP=(()=>{class n{constructor(t,r){this.route=t,this.postService=r,this.postsArray=[],this.categoryObj=""}ngOnInit(){this.route.params.subscribe(t=>{this.categoryObj=t,this.postService.loadCategoryPosts(t.id).subscribe(r=>{this.postsArray=r})})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(mu),f.Y36(BS))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-single-category"]],decls:9,vars:2,consts:[[1,"bg-theme","p-5"],[1,"container"],[1,"text-white"],[1,"container","mt-5","mb-5"],[1,"row"],["class","col-md-4 mb-3",4,"ngFor","ngForOf"],[1,"col-md-4","mb-3"],[3,"postData"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),f._uU(3),f.qZA(),f.TgZ(4,"p",2),f._uU(5,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. "),f.qZA()()(),f.TgZ(6,"div",3)(7,"div",4),f.YNc(8,OP,2,1,"div",5),f.qZA()()),2&t&&(f.xp6(3),f.Oqu(r.categoryObj.category),f.xp6(5),f.Q6J("ngForOf",r.postsArray))},dependencies:[ys,jS]}),n})(),YM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Xg=(()=>{class n extends YM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Wc=new f.OlP("NgValueAccessor"),LP={provide:Wc,useExisting:(0,f.Gpc)(()=>yD),multi:!0},UP=new f.OlP("CompositionEventMode");let yD=(()=>{class n extends YM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function VP(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(UP,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([LP]),f.qOj]}),n})();const BP=!1;function jf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const fs=new f.OlP("NgValidators"),$f=new f.OlP("NgAsyncValidators"),jP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function t1(n){return jf(n.value)?{required:!0}:null}function r1(n){return jf(n.value)||jP.test(n.value)?null:{email:!0}}function vD(n){return null}function a1(n){return null!=n}function u1(n){const e=(0,f.QGY)(n)?(0,fn.D)(n):n;if(BP&&!(0,f.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,t)}return e}function c1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function l1(n,e){return e.map(t=>t(n))}function d1(n){return n.map(e=>function $P(n){return!n.validate}(e)?e:t=>e.validate(t))}function $S(n){return null!=n?function h1(n){if(!n)return null;const e=n.filter(a1);return 0==e.length?null:function(t){return c1(l1(t,e))}}(d1(n)):null}function HS(n){return null!=n?function f1(n){if(!n)return null;const e=n.filter(a1);return 0==e.length?null:function(t){return function kP(...n){const e=(0,Li.jO)(n),{args:t,keys:r}=ic(n),s=new _i.y(u=>{const{length:l}=t;if(!l)return void u.complete();const m=new Array(l);let w=l,b=l;for(let S=0;S<l;S++){let N=!1;(0,Vi.Xf)(t[S]).subscribe((0,pr.x)(u,H=>{N||(N=!0,b--),m[S]=H},()=>w--,void 0,()=>{(!w||!N)&&(b||u.next(r?sc(r,m):m),u.complete())}))}});return e?s.pipe(is(e)):s}(l1(t,e).map(u1)).pipe((0,gt.U)(c1))}}(d1(n)):null}function p1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GS(n){return n?Array.isArray(n)?n:[n]:[]}function _D(n,e){return Array.isArray(n)?n.includes(e):n===e}function y1(n,e){const t=GS(e);return GS(n).forEach(s=>{_D(t,s)||t.push(s)}),t}function v1(n,e){return GS(e).filter(t=>!_D(n,t))}class _1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$S(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=HS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class js extends _1{get formDirective(){return null}get path(){return null}}class Hf extends _1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let E1=(()=>{class n extends w1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Hf,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),zS=(()=>{class n extends w1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(js,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();function I1(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const ZS=!1,$0="VALID",ED="INVALID",ev="PENDING",H0="DISABLED";function KS(n){return(ID(n)?n.validators:n)||null}function YS(n,e){return(ID(e)?e.asyncValidators:n)||null}function ID(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class b1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$0}get invalid(){return this.status===ED}get pending(){return this.status==ev}get disabled(){return this.status===H0}get enabled(){return this.status!==H0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(y1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(y1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(v1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(v1(e,this._rawAsyncValidators))}hasValidator(e){return _D(this._rawValidators,e)}hasAsyncValidator(e){return _D(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ev,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=H0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$0||this.status===ev)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?H0:$0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ev,this._hasOwnPendingAsyncValidator=!0;const t=u1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?H0:this.errors?ED:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ev)?ev:this._anyControlsHaveStatus(ED)?ED:$0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ID(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function KP(n){return Array.isArray(n)?$S(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function YP(n){return Array.isArray(n)?HS(n):n||null}(this._rawAsyncValidators)}}class QS extends b1{constructor(e,t,r){super(KS(t),YS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function C1(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new f.vHH(1002,ZS?function ZP(n,e){return`Must supply a value for form control ${I1(n,e)}`}(e,s):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function D1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,ZS?function qP(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new f.vHH(1001,ZS?function WP(n,e){return`Cannot find form control ${I1(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const tv=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>DD}),DD="always";function G0(n,e,t=DD){JS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function XP(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&T1(n,e)})}(n,e),function tk(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ek(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&T1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function JP(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function TD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function JS(n,e){const t=function g1(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(p1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function m1(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(p1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();TD(e._rawValidators,s),TD(e._rawAsyncValidators,s)}function T1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ok={provide:js,useExisting:(0,f.Gpc)(()=>q0)},z0=(()=>Promise.resolve())();let q0=(()=>{class n extends js{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new QS({},$S(t),HS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){z0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),G0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){z0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){z0.then(()=>{const r=this._findContainer(t.path),s=new QS({});(function S1(n,e){JS(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){z0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){z0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function A1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fs,10),f.Y36($f,10),f.Y36(tv,8))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ok]),f.qOj]}),n})();function x1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function M1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const R1=class extends b1{constructor(e=null,t,r){super(KS(t),YS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ID(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=M1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){x1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){x1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){M1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ck={provide:Hf,useExisting:(0,f.Gpc)(()=>nA)},P1=(()=>Promise.resolve())();let nA=(()=>{class n extends Hf{constructor(t,r,s,u,l,m){super(),this._changeDetectorRef=l,this.callSetDisabledState=m,this.control=new R1,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function tA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===yD?t=u:function ik(n){return Object.getPrototypeOf(n.constructor)===Xg}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){G0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){P1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,f.D6c)(r);P1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function CD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(js,9),f.Y36(fs,10),f.Y36($f,10),f.Y36(Wc,10),f.Y36(f.sBO,8),f.Y36(tv,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ck]),f.qOj,f.TTD]}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),em=(()=>{class n{constructor(){this._validator=vD}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vD,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const Sk={provide:fs,useExisting:(0,f.Gpc)(()=>AD),multi:!0};let AD=(()=>{class n extends em{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=t=>t1}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([Sk]),f.qOj]}),n})();const xk={provide:fs,useExisting:(0,f.Gpc)(()=>cA),multi:!0};let cA=(()=>{class n extends em{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=f.D6c,this.createValidator=t=>r1}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[f._Bn([xk]),f.qOj]}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[F1]}),n})(),kk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tv,useValue:t.callSetDisabledState??DD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Ok]}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comment-form"]],decls:17,vars:0,consts:[[1,"card","mt-5","shadow-effect"],[1,"card-body"],[1,"form-group"],["for",""],["type","text","placeholder","Enter your name Here",1,"form-control","shadow-effect"],["name","","id","","cols","30","placeholder","Add your comment here","rows","10",1,"form-control","shadow-effect"],[1,"btn","btn-info","btn-block","m-2","btn-sub"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h4"),f._uU(3," Leave a Comment "),f.qZA(),f.TgZ(4,"p"),f._uU(5,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. "),f.qZA(),f.TgZ(6,"form")(7,"div",2)(8,"label",3),f._uU(9,"Name"),f.qZA(),f._UZ(10,"input",4),f.qZA(),f.TgZ(11,"div",2)(12,"label",3),f._uU(13,"Comment"),f.qZA(),f._UZ(14,"textarea",5),f.qZA(),f.TgZ(15,"button",6),f._uU(16,"Add a Comment"),f.qZA()()()())},dependencies:[rA,zS,q0],styles:[".btn-sub[_ngcontent-%COMP%]{height:40px;border:none;font-size:13px;color:#fff;background-color:var(--primary-color)}"]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comment-list"]],decls:40,vars:0,consts:[[1,"card","mb-5","mt-5","pb-5","shadow-effect"],[1,"card-body"],[1,"mt-3","mb-3"],[1,"comment-box","mt-3"],[1,"mb-0"],[1,"text-danger"],[1,"md-3","mt-3",2,"margin-bottom","7px"],["href","#",1,"mt-2"],["href","#",1,"mt-1","m-3"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),f._uU(3,"Comments(15.256)"),f.qZA(),f.TgZ(4,"div",3)(5,"h6",4),f._uU(6,"John Doe"),f.qZA(),f.TgZ(7,"small",5),f._uU(8,"Last updated - sep 20 2023"),f.qZA(),f.TgZ(9,"div",6),f._uU(10," Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita dignissimos rerum quo at voluptas "),f.qZA(),f.TgZ(11,"a",7),f._uU(12,"Reply"),f.qZA(),f.TgZ(13,"a",8),f._uU(14,"View Reply"),f.qZA(),f._UZ(15,"hr"),f.qZA(),f.TgZ(16,"div",3)(17,"h6",4),f._uU(18,"John Doe"),f.qZA(),f.TgZ(19,"small",5),f._uU(20,"Last updated - sep 20 2023"),f.qZA(),f.TgZ(21,"div",6),f._uU(22," Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita dignissimos rerum quo a Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita dignissimos rerum quo at voluptas "),f.qZA(),f.TgZ(23,"a",7),f._uU(24,"Reply"),f.qZA(),f.TgZ(25,"a",8),f._uU(26,"View Reply"),f.qZA(),f._UZ(27,"hr"),f.qZA(),f.TgZ(28,"div",3)(29,"h6",4),f._uU(30,"John Doe"),f.qZA(),f.TgZ(31,"small",5),f._uU(32,"Last updated - sep 20 2023"),f.qZA(),f.TgZ(33,"div",6),f._uU(34," Lorem ipsum dolor sit amet consectetur adipisicing elit. Expedita dignissimos rerum quo at voluptas "),f.qZA(),f.TgZ(35,"a",7),f._uU(36,"Reply"),f.qZA(),f.TgZ(37,"a",8),f._uU(38,"View Reply"),f.qZA(),f._UZ(39,"hr"),f.qZA()()())},styles:[".comment-box[_ngcontent-%COMP%]{padding:15px 35px;background-color:#f0f0f0}a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})();function Vk(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"app-post-card",14),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.Q6J("postData",t)}}const Uk=[{path:"",component:NP},{path:"category/:category/:id",component:PP},{path:"post/:id",component:(()=>{class n{constructor(t,r){this.route=t,this.postService=r,this.postData="",this.SimilarPostArray=[]}ngOnInit(){this.route.params.subscribe(t=>{this.postService.loadOnePost(t.id).subscribe(r=>{this.postData=r,this.loadSimilarPost(this.postData.category.categoryId)})})}loadSimilarPost(t){this.postService.loadSimilar(t).subscribe(r=>{this.SimilarPostArray=r})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(mu),f.Y36(BS))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-single-post"]],decls:22,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-9"],[1,"card","shadow-effect"],[1,"card-img-top","img-fluid",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],[1,"bg-light","text-success","text-center","ml-2"],[1,"bg-light","text-info","text-center","ml-2"],[1,"bg-light","text-warning","text-center","ml-2"],[1,"mt-3","mb-3"],[3,"innerHTML"],[1,"col-md-3"],[4,"ngFor","ngForOf"],[3,"postData"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f._UZ(4,"img",4),f.TgZ(5,"div",5)(6,"small",6),f._uU(7),f.qZA(),f.TgZ(8,"small",7),f._uU(9,"Featured"),f.qZA(),f.TgZ(10,"small",8),f._uU(11),f.qZA(),f.TgZ(12,"small",9),f._uU(13),f.ALo(14,"date"),f.qZA(),f.TgZ(15,"h1",10),f._uU(16),f.qZA(),f._UZ(17,"p",11),f.qZA()(),f._UZ(18,"app-comment-form")(19,"app-comment-list"),f.qZA(),f.TgZ(20,"div",12),f.YNc(21,Vk,2,1,"div",13),f.qZA()()()),2&t&&(f.xp6(4),f.s9C("src",r.postData.postImgPath,f.LSH),f.xp6(3),f.Oqu(r.postData.category.category),f.xp6(4),f.hij("Views - ",r.postData.Views,""),f.xp6(2),f.hij("Last Updated - ",f.lcZ(14,7,r.postData.createdAt.toMillis()),""),f.xp6(3),f.Oqu(r.postData.title),f.xp6(1),f.Q6J("innerHTML",r.postData.content,f.oJD),f.xp6(4),f.Q6J("ngForOf",r.SimilarPostArray))},dependencies:[ys,Fk,Lk,jS,hi]}),n})()},{path:"about",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-aboutus"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","mt-4","btn-theme"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),f._uU(3,"About Us"),f.qZA(),f.TgZ(4,"div",3)(5,"p"),f._uU(6,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(7,"p"),f._uU(8,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(9,"p"),f._uU(10,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(11,"div",4)(12,"button",5),f._uU(13,"Back to Home"),f.qZA()()()()())},styles:[".btn-theme[_ngcontent-%COMP%]{height:48px;border:none;font-size:13px;color:#f0f8ff;background-color:var(--primary-color)}"]}),n})()},{path:"term-conditions",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-terms-and-condition"]],decls:14,vars:0,consts:[[1,"mt-5"],[1,"container","mt-5","mb-5","p-5","bg-theme"],[1,"text-white","text-center"],[1,"p-5","mt-4","bg-secondary-theme","text-theme-primary"],[1,"text-center"],[1,"btn","btn-info","mt-4","btn-theme"]],template:function(t,r){1&t&&(f.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),f._uU(3,"Terms & Conditions"),f.qZA(),f.TgZ(4,"div",3)(5,"p"),f._uU(6,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(7,"p"),f._uU(8,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(9,"p"),f._uU(10,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Sint esse magni debitis nostrum expedita pariatur amet rem a enim, repellendus accusamus sequi tenetur est quae voluptate nam possimus ad doloribus? Lorem, ipsum dolor sit amet consectetur adipisicing elit. Esse quaerat impedit, sequi cupiditate, doloribus numquam ex nisi, iste suscipit reprehenderit totam eveniet alias. Excepturi incidunt itaque perferendis omnis officia provident. Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae optio in at nemo, tempore alias, dicta suscipit corrupti possimus officia voluptatem quae fuga mollitia quaerat doloremque. Sunt placeat voluptate minima."),f.qZA(),f.TgZ(11,"div",4)(12,"button",5),f._uU(13,"Back to Home"),f.qZA()()()()())},styles:[".btn-theme[_ngcontent-%COMP%]{height:48px;border:none;font-size:13px;color:#f0f8ff;background-color:var(--primary-color)}"]}),n})()},{path:"contact",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-contact-us"]],decls:2,vars:0,template:function(t,r){1&t&&(f.TgZ(0,"p"),f._uU(1,"contact-us works!"),f.qZA())}}),n})()}];let Bk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[sC.forRoot(Uk),sC]}),n})(),jk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","fixed-top","bg-white"],[1,"container","justify-content-center"],["routerLink","/",1,"site-logo"],["href","http://localhost:4300/login",1,"site-logo",2,"font-size","20px"]],template:function(t,r){1&t&&(f.TgZ(0,"Header",0)(1,"div",1)(2,"a",2),f._uU(3," ANG-BLOG "),f.qZA()(),f.TgZ(4,"div",1)(5,"a",3),f._uU(6," Admin Login "),f.qZA()()())},dependencies:[Wl],styles:["header[_ngcontent-%COMP%]{height:100PX}.site-logo[_ngcontent-%COMP%]{font-size:1.5rem;text-decoration:none}"]}),n})(),$k=(()=>{class n{constructor(t){this.afs=t}loadData(){return this.afs.collection("categories").snapshotChanges().pipe((0,gt.U)(t=>t.map(r=>{const s=r.payload.doc.data();return{id:r.payload.doc.id,data:s}})))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(mD))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hk=function(n,e){return["/category",n,e]};function Gk(n,e){if(1&n&&(f.TgZ(0,"ul",4)(1,"li",5)(2,"a",6),f._uU(3),f.qZA()()()),2&n){const t=e.$implicit;f.xp6(2),f.Q6J("routerLink",f.WLB(2,Hk,t.category,t.id)),f.xp6(1),f.Oqu(t.category)}}let zk=(()=>{class n{constructor(t){this.categoryService=t,this.categoryArray=[]}ngOnInit(){this.categoryService.loadData().subscribe(t=>{this.categoryArray=t.map(r=>{const s=r.data;return s.id=r.id,s})})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36($k))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-category-navbar"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed-top"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3"],[1,"nav-link",3,"routerLink"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),f.YNc(3,Gk,4,5,"ul",3),f.qZA()()()),2&t&&(f.xp6(3),f.Q6J("ngForOf",r.categoryArray))},dependencies:[ys,Wl],styles:["nav[_ngcontent-%COMP%]{margin-top:100px;height:50px;background-color:var(--navbar-footer-color)}.nav-link[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--primary-color)}"]}),n})(),qk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-footer"]],decls:22,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"site-logo"],[1,"nav","justify-content-center"],[1,"nav-item"],["href","",1,"nav-link"],["routerLink","about",1,"nav-link"],[1,"mb-2","mt-2"]],template:function(t,r){1&t&&(f.TgZ(0,"footer")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),f._uU(5,"ANG-BLOG"),f.qZA(),f.TgZ(6,"div")(7,"ul",4)(8,"li",5)(9,"a",6),f._uU(10,"Home"),f.qZA()(),f.TgZ(11,"li",5)(12,"a",7),f._uU(13,"About"),f.qZA()(),f.TgZ(14,"li",5)(15,"a",6),f._uU(16,"Terms & conditions"),f.qZA()(),f.TgZ(17,"li",5)(18,"a",6),f._uU(19,"Contact"),f.qZA()()()(),f.TgZ(20,"p",8),f._uU(21," Copyright @ 2023 Rohit"),f.qZA()()()()())},dependencies:[Wl],styles:[".site-logo[_ngcontent-%COMP%]{font-size:1.2em}.nav-link[_ngcontent-%COMP%]{color:var(--primary-color)}"]}),n})(),Wk=(()=>{class n{constructor(t){this.afs=t}addSubs(t){this.afs.collection("subscribers").add(t).then(()=>{console.log("Subscriber added successfully")})}checkSubs(t){return this.afs.collection("subscribers",r=>r.where("email","==",t)).get()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(mD))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zk(n,e){1&n&&(f.TgZ(0,"div",6),f._uU(1," Email is Already Exist. "),f.qZA())}function Kk(n,e){1&n&&(f.TgZ(0,"div",7),f._uU(1," Thank you for subscribing to our Blog Page. Stay tuned for Awesome blog posts... "),f.qZA())}function Yk(n,e){1&n&&(f.TgZ(0,"div"),f._uU(1,"Name is Required"),f.qZA())}function Qk(n,e){if(1&n&&(f.TgZ(0,"div",18),f.YNc(1,Yk,2,0,"div",19),f.qZA()),2&n){f.oxw();const t=f.MAs(4);f.xp6(1),f.Q6J("ngIf",null==t.errors?null:t.errors.required)}}function Jk(n,e){1&n&&(f.TgZ(0,"div"),f._uU(1,"Email is Required"),f.qZA())}function Xk(n,e){1&n&&(f.TgZ(0,"div"),f._uU(1,"Please Enter valid Email Address"),f.qZA())}function eF(n,e){if(1&n&&(f.TgZ(0,"div",18),f.YNc(1,Jk,2,0,"div",19),f.YNc(2,Xk,2,0,"div",19),f.qZA()),2&n){f.oxw();const t=f.MAs(8);f.xp6(1),f.Q6J("ngIf",null==t.errors?null:t.errors.required),f.xp6(1),f.Q6J("ngIf",null==t.errors?null:t.errors.email)}}const X1=function(n){return{"is-invalid":n}};function tF(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"form",8,9),f.NdJ("ngSubmit",function(){f.CHM(t);const s=f.MAs(1),u=f.oxw();return f.KtG(u.onSubmit(s.value))}),f.TgZ(2,"div",10),f._UZ(3,"input",11,12),f.YNc(5,Qk,2,1,"div",13),f.qZA(),f.TgZ(6,"div",10),f._UZ(7,"input",14,15),f.YNc(9,eF,3,2,"div",13),f.qZA(),f.TgZ(10,"div",16)(11,"button",17),f._uU(12,"SUBSCRIBE"),f.qZA()()()}if(2&n){const t=f.MAs(1),r=f.MAs(4),s=f.MAs(8);f.xp6(3),f.Q6J("ngClass",f.VKq(5,X1,r.touched&&r.invalid)),f.xp6(2),f.Q6J("ngIf",r.touched&&r.invalid),f.xp6(2),f.Q6J("ngClass",f.VKq(7,X1,s.touched&&s.invalid)),f.xp6(2),f.Q6J("ngIf",s.touched&&s.invalid),f.xp6(2),f.Q6J("disabled",t.invalid)}}let nF=(()=>{class n{constructor(t){this.subService=t,this.isEmailError=!1,this.isSubscribed=!1}onSubmit(t){const r={name:t.name,email:t.email};this.subService.checkSubs(r.email).subscribe(s=>{s.empty?(this.subService.addSubs(r),this.isSubscribed=!0):this.isEmailError=!0})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wk))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-subscription-form"]],decls:10,vars:3,consts:[[1,"card"],[1,"card-body"],[1,"text-center","mt-5","ml-5"],["class","text-danger mt-3",4,"ngIf"],["class","text-info mt-3",4,"ngIf"],["class","form-inline mb-5","style","display: flex; justify-content: space-between; margin-top: 30px;",3,"ngSubmit",4,"ngIf"],[1,"text-danger","mt-3"],[1,"text-info","mt-3"],[1,"form-inline","mb-5",2,"display","flex","justify-content","space-between","margin-top","30px",3,"ngSubmit"],["subForm","ngForm"],[1,"form-group","col-md-5"],["type","text","name","name","ngModel","","required","","placeholder","Your Name",1,"form-control",3,"ngClass"],["Name","ngModel"],["class","text-danger",4,"ngIf"],["type","email","name","email","ngModel","","required","","email","","placeholder","Email Address",1,"form-control",3,"ngClass"],["Email","ngModel"],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-sub",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),f._uU(4,"Subscription Form"),f.qZA(),f.TgZ(5,"p"),f._uU(6,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quidem libero natus mollitia recusandae tenetur dolores "),f.qZA(),f.YNc(7,Zk,2,0,"div",3),f.YNc(8,Kk,2,0,"div",4),f.YNc(9,tF,13,9,"form",5),f.qZA()()()),2&t&&(f.xp6(7),f.Q6J("ngIf",r.isEmailError),f.xp6(1),f.Q6J("ngIf",r.isSubscribed),f.xp6(1),f.Q6J("ngIf",!r.isSubscribed))},dependencies:[Mt,zs,rA,yD,E1,zS,AD,cA,nA,q0],styles:[".card[_ngcontent-%COMP%]{background-color:var(--secondary-color);border:none;box-shadow:0 0 33px -10px #4772fe4d}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%]{height:40px;padding-left:20px;font-size:17px;width:90%}.shadow-effect[_ngcontent-%COMP%]{border:none;box-shadow:0 0 33px -10px #4772fe99}.btn-sub[_ngcontent-%COMP%]{height:40px;border:none;font-size:13px;color:#fff;background-color:var(--primary-color)}.subs-text[_ngcontent-%COMP%]{width:500px}"]}),n})(),rF=(()=>{class n{constructor(){this.title="AR_Tech"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-body"],[1,"container",2,"margin-top","40px","margin-bottom","30px"],[1,"row","justify-content-center"]],template:function(t,r){1&t&&(f._UZ(0,"app-header")(1,"app-category-navbar"),f.TgZ(2,"div",0),f._UZ(3,"router-outlet"),f.qZA(),f.TgZ(4,"div",1)(5,"div",2),f._UZ(6,"app-subscription-form"),f.qZA()(),f._UZ(7,"app-footer"))},dependencies:[bp,jk,zk,qk,nF],styles:[".app-body[_ngcontent-%COMP%]{min-height:85vh;margin-top:150px}"]}),n})();const iF_firebaseConfig={apiKey:"AIzaSyBXwYFZuzMAHUC9EqdOHn0oep7VT888hPU",authDomain:"ar-tech-20b36.firebaseapp.com",projectId:"ar-tech-20b36",storageBucket:"ar-tech-20b36.appspot.com",messagingSenderId:"655162286851",appId:"1:655162286851:web:70d177480daaf5a45eff36"};let sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[rF]}),n.\u0275inj=f.cJS({imports:[ti,Bk,kk,Ms.hO.initializeApp(iF_firebaseConfig),TP]}),n})();var f=k(2961),Q=k(727),P=k(8822),re=k(9635),ne=k(2416),ie=k(576),fe=k(2806);let ve=(()=>{class Z{constructor(we){we&&(this._subscribe=we)}lift(we){const Ze=new Z;return Ze.source=this,Ze.operator=we,Ze}subscribe(we,Ze,st){const ce=function B(Z){return Z&&Z instanceof f.Lv||function $(Z){return Z&&(0,ie.m)(Z.next)&&(0,ie.m)(Z.error)&&(0,ie.m)(Z.complete)}(Z)&&(0,Q.Nn)(Z)}(we)?we:new f.Hp(we,Ze,st);return(0,fe.x)(()=>{const{operator:Me,source:ke}=this;ce.add(Me?Me.call(ce,ke):ke?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(we){try{return this._subscribe(we)}catch(Ze){we.error(Ze)}}forEach(we,Ze){return new(Ze=pe(Ze))((st,ce)=>{const Me=new f.Hp({next:ke=>{try{we(ke)}catch($e){ce($e),Me.unsubscribe()}},error:ce,complete:st});this.subscribe(Me)})}_subscribe(we){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(we)}[P.L](){return this}pipe(...we){return(0,re.U)(we)(this)}toPromise(we){return new(we=pe(we))((Ze,st)=>{let ce;this.subscribe(Me=>ce=Me,Me=>st(Me),()=>Ze(ce))})}}return Z.create=He=>new Z(He),Z})();function pe(Z){var He;return null!==(He=Z??ne.v.Promise)&&void 0!==He?He:Promise}},7579:(yt,De,k)=>{k.d(De,{x:()=>fe});var f=k(9751),Q=k(727);const re=(0,k(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),ie=k(2806);let fe=(()=>{class pe extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const Z=new ve(this,this);return Z.operator=B,Z}_throwIfClosed(){if(this.closed)throw new re}next(B){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(B)}})}error(B){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:Z}=this;for(;Z.length;)Z.shift().error(B)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:Z,isStopped:He,observers:we}=this;return Z||He?Q.Lc:(this.currentObservers=null,we.push(B),new Q.w0(()=>{this.currentObservers=null,(0,ne.P)(we,B)}))}_checkFinalizedStatuses(B){const{hasError:Z,thrownError:He,isStopped:we}=this;Z?B.error(He):we&&B.complete()}asObservable(){const B=new f.y;return B.source=this,B}}return pe.create=($,B)=>new ve($,B),pe})();class ve extends fe{constructor($,B){super(),this.destination=$,this.source=B}next($){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===Z||Z.call(B,$)}error($){var B,Z;null===(Z=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===Z||Z.call(B,$)}complete(){var $,B;null===(B=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===B||B.call($)}_subscribe($){var B,Z;return null!==(Z=null===(B=this.source)||void 0===B?void 0:B.subscribe($))&&void 0!==Z?Z:Q.Lc}}},2961:(yt,De,k)=>{k.d(De,{Hp:()=>st,Lv:()=>Z});var f=k(576),Q=k(727),P=k(2416),re=k(7849);function ne(){}const ie=pe("C",void 0,void 0);function pe(Re,Ae,xe){return{kind:Re,value:Ae,error:xe}}var $=k(3410),B=k(2806);class Z extends Q.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,Q.Nn)(Ae)&&Ae.add(this)):this.destination=$e}static create(Ae,xe,qe){return new st(Ae,xe,qe)}next(Ae){this.isStopped?ke(function ve(Re){return pe("N",Re,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?ke(function fe(Re){return pe("E",void 0,Re)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?ke(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function we(Re,Ae){return He.call(Re,Ae)}class Ze{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Ae)}catch(qe){ce(qe)}}error(Ae){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Ae)}catch(qe){ce(qe)}else ce(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(xe){ce(xe)}}}class st extends Z{constructor(Ae,xe,qe){let Ve;if(super(),(0,f.m)(Ae)||!Ae)Ve={next:Ae??void 0,error:xe??void 0,complete:qe??void 0};else{let it;this&&P.v.useDeprecatedNextContext?(it=Object.create(Ae),it.unsubscribe=()=>this.unsubscribe(),Ve={next:Ae.next&&we(Ae.next,it),error:Ae.error&&we(Ae.error,it),complete:Ae.complete&&we(Ae.complete,it)}):Ve=Ae}this.destination=new Ze(Ve)}}function ce(Re){P.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(Re):(0,re.h)(Re)}function ke(Re,Ae){const{onStoppedNotification:xe}=P.v;xe&&$.z.setTimeout(()=>xe(Re,Ae))}const $e={closed:!0,next:ne,error:function Me(Re){throw Re},complete:ne}},727:(yt,De,k)=>{k.d(De,{Lc:()=>ie,w0:()=>ne,Nn:()=>fe});var f=k(576);const P=(0,k(3888).d)(pe=>function(B){pe(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((Z,He)=>`${He+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var re=k(8737);class ne{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const we of B)we.remove(this);else B.remove(this);const{initialTeardown:Z}=this;if((0,f.m)(Z))try{Z()}catch(we){$=we instanceof P?we.errors:[we]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const we of He)try{ve(we)}catch(Ze){$=$??[],Ze instanceof P?$=[...$,...Ze.errors]:$.push(Ze)}}if($)throw new P($)}}add($){var B;if($&&$!==this)if(this.closed)ve($);else{if($ instanceof ne){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push($)}}_hasParent($){const{_parentage:B}=this;return B===$||Array.isArray(B)&&B.includes($)}_addParent($){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push($),B):B?[B,$]:$}_removeParent($){const{_parentage:B}=this;B===$?this._parentage=null:Array.isArray(B)&&(0,re.P)(B,$)}remove($){const{_finalizers:B}=this;B&&(0,re.P)(B,$),$ instanceof ne&&$._removeParent(this)}}ne.EMPTY=(()=>{const pe=new ne;return pe.closed=!0,pe})();const ie=ne.EMPTY;function fe(pe){return pe instanceof ne||pe&&"closed"in pe&&(0,f.m)(pe.remove)&&(0,f.m)(pe.add)&&(0,f.m)(pe.unsubscribe)}function ve(pe){(0,f.m)(pe)?pe():pe.unsubscribe()}},2416:(yt,De,k)=>{k.d(De,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,De,k)=>{k.d(De,{E:()=>Q});const Q=new(k(9751).y)(ne=>ne.complete())},8996:(yt,De,k)=>{k.d(De,{D:()=>Ae});var f=k(8421),Q=k(5363),P=k(9468),ie=k(9751),ve=k(2202),pe=k(576),$=k(9672);function Z(xe,qe){if(!xe)throw new Error("Iterable cannot be null");return new ie.y(Ve=>{(0,$.f)(Ve,qe,()=>{const it=xe[Symbol.asyncIterator]();(0,$.f)(Ve,qe,()=>{it.next().then(dt=>{dt.done?Ve.complete():Ve.next(dt.value)})},0,!0)})})}var He=k(3670),we=k(8239),Ze=k(1144),st=k(6495),ce=k(2206),Me=k(4532),ke=k(3260);function Ae(xe,qe){return qe?function Re(xe,qe){if(null!=xe){if((0,He.c)(xe))return function re(xe,qe){return(0,f.Xf)(xe).pipe((0,P.R)(qe),(0,Q.Q)(qe))}(xe,qe);if((0,Ze.z)(xe))return function fe(xe,qe){return new ie.y(Ve=>{let it=0;return qe.schedule(function(){it===xe.length?Ve.complete():(Ve.next(xe[it++]),Ve.closed||this.schedule())})})}(xe,qe);if((0,we.t)(xe))return function ne(xe,qe){return(0,f.Xf)(xe).pipe((0,P.R)(qe),(0,Q.Q)(qe))}(xe,qe);if((0,ce.D)(xe))return Z(xe,qe);if((0,st.T)(xe))return function B(xe,qe){return new ie.y(Ve=>{let it;return(0,$.f)(Ve,qe,()=>{it=xe[ve.h](),(0,$.f)(Ve,qe,()=>{let dt,jt;try{({value:dt,done:jt}=it.next())}catch(ht){return void Ve.error(ht)}jt?Ve.complete():Ve.next(dt)},0,!0)}),()=>(0,pe.m)(it?.return)&&it.return()})}(xe,qe);if((0,ke.L)(xe))return function $e(xe,qe){return Z((0,ke.Q)(xe),qe)}(xe,qe)}throw(0,Me.z)(xe)}(xe,qe):(0,f.Xf)(xe)}},8421:(yt,De,k)=>{k.d(De,{Xf:()=>He});var f=k(7582),Q=k(1144),P=k(8239),re=k(9751),ne=k(3670),ie=k(2206),fe=k(4532),ve=k(6495),pe=k(3260),$=k(576),B=k(7849),Z=k(8822);function He(Re){if(Re instanceof re.y)return Re;if(null!=Re){if((0,ne.c)(Re))return function we(Re){return new re.y(Ae=>{const xe=Re[Z.L]();if((0,$.m)(xe.subscribe))return xe.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,Q.z)(Re))return function Ze(Re){return new re.y(Ae=>{for(let xe=0;xe<Re.length&&!Ae.closed;xe++)Ae.next(Re[xe]);Ae.complete()})}(Re);if((0,P.t)(Re))return function st(Re){return new re.y(Ae=>{Re.then(xe=>{Ae.closed||(Ae.next(xe),Ae.complete())},xe=>Ae.error(xe)).then(null,B.h)})}(Re);if((0,ie.D)(Re))return Me(Re);if((0,ve.T)(Re))return function ce(Re){return new re.y(Ae=>{for(const xe of Re)if(Ae.next(xe),Ae.closed)return;Ae.complete()})}(Re);if((0,pe.L)(Re))return function ke(Re){return Me((0,pe.Q)(Re))}(Re)}throw(0,fe.z)(Re)}function Me(Re){return new re.y(Ae=>{(function $e(Re,Ae){var xe,qe,Ve,it;return(0,f.mG)(this,void 0,void 0,function*(){try{for(xe=(0,f.KL)(Re);!(qe=yield xe.next()).done;)if(Ae.next(qe.value),Ae.closed)return}catch(dt){Ve={error:dt}}finally{try{qe&&!qe.done&&(it=xe.return)&&(yield it.call(xe))}finally{if(Ve)throw Ve.error}}Ae.complete()})})(Re,Ae).catch(xe=>Ae.error(xe))})}},6451:(yt,De,k)=>{k.d(De,{T:()=>ie});var f=k(8189),Q=k(8421),P=k(515),re=k(7669),ne=k(8996);function ie(...fe){const ve=(0,re.yG)(fe),pe=(0,re._6)(fe,1/0),$=fe;return $.length?1===$.length?(0,Q.Xf)($[0]):(0,f.J)(pe)((0,ne.D)($,ve)):P.E}},5403:(yt,De,k)=>{k.d(De,{x:()=>Q});var f=k(2961);function Q(re,ne,ie,fe,ve){return new P(re,ne,ie,fe,ve)}class P extends f.Lv{constructor(ne,ie,fe,ve,pe,$){super(ne),this.onFinalize=pe,this.shouldUnsubscribe=$,this._next=ie?function(B){try{ie(B)}catch(Z){ne.error(Z)}}:super._next,this._error=ve?function(B){try{ve(B)}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(B){ne.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(yt,De,k)=>{k.d(De,{U:()=>P});var f=k(4482),Q=k(5403);function P(re,ne){return(0,f.e)((ie,fe)=>{let ve=0;ie.subscribe((0,Q.x)(fe,pe=>{fe.next(re.call(ne,pe,ve++))}))})}},8189:(yt,De,k)=>{k.d(De,{J:()=>P});var f=k(5577),Q=k(4671);function P(re=1/0){return(0,f.z)(Q.y,re)}},5577:(yt,De,k)=>{k.d(De,{z:()=>ve});var f=k(4004),Q=k(8421),P=k(4482),re=k(9672),ne=k(5403),fe=k(576);function ve(pe,$,B=1/0){return(0,fe.m)($)?ve((Z,He)=>(0,f.U)((we,Ze)=>$(Z,we,He,Ze))((0,Q.Xf)(pe(Z,He))),B):("number"==typeof $&&(B=$),(0,P.e)((Z,He)=>function ie(pe,$,B,Z,He,we,Ze,st){const ce=[];let Me=0,ke=0,$e=!1;const Re=()=>{$e&&!ce.length&&!Me&&$.complete()},Ae=qe=>Me<Z?xe(qe):ce.push(qe),xe=qe=>{we&&$.next(qe),Me++;let Ve=!1;(0,Q.Xf)(B(qe,ke++)).subscribe((0,ne.x)($,it=>{He?.(it),we?Ae(it):$.next(it)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Me--;ce.length&&Me<Z;){const it=ce.shift();Ze?(0,re.f)($,Ze,()=>xe(it)):xe(it)}Re()}catch(it){$.error(it)}}))};return pe.subscribe((0,ne.x)($,Ae,()=>{$e=!0,Re()})),()=>{st?.()}}(Z,He,pe,B)))}},5363:(yt,De,k)=>{k.d(De,{Q:()=>re});var f=k(9672),Q=k(4482),P=k(5403);function re(ne,ie=0){return(0,Q.e)((fe,ve)=>{fe.subscribe((0,P.x)(ve,pe=>(0,f.f)(ve,ne,()=>ve.next(pe),ie),()=>(0,f.f)(ve,ne,()=>ve.complete(),ie),pe=>(0,f.f)(ve,ne,()=>ve.error(pe),ie)))})}},3099:(yt,De,k)=>{k.d(De,{B:()=>ne});var f=k(8421),Q=k(7579),P=k(2961),re=k(4482);function ne(fe={}){const{connector:ve=(()=>new Q.x),resetOnError:pe=!0,resetOnComplete:$=!0,resetOnRefCountZero:B=!0}=fe;return Z=>{let He,we,Ze,st=0,ce=!1,Me=!1;const ke=()=>{we?.unsubscribe(),we=void 0},$e=()=>{ke(),He=Ze=void 0,ce=Me=!1},Re=()=>{const Ae=He;$e(),Ae?.unsubscribe()};return(0,re.e)((Ae,xe)=>{st++,!Me&&!ce&&ke();const qe=Ze=Ze??ve();xe.add(()=>{st--,0===st&&!Me&&!ce&&(we=ie(Re,B))}),qe.subscribe(xe),!He&&st>0&&(He=new P.Hp({next:Ve=>qe.next(Ve),error:Ve=>{Me=!0,ke(),we=ie($e,pe,Ve),qe.error(Ve)},complete:()=>{ce=!0,ke(),we=ie($e,$),qe.complete()}}),(0,f.Xf)(Ae).subscribe(He))})(Z)}}function ie(fe,ve,...pe){if(!0===ve)return void fe();if(!1===ve)return;const $=new P.Hp({next:()=>{$.unsubscribe(),fe()}});return(0,f.Xf)(ve(...pe)).subscribe($)}},9468:(yt,De,k)=>{k.d(De,{R:()=>Q});var f=k(4482);function Q(P,re=0){return(0,f.e)((ne,ie)=>{ie.add(P.schedule(()=>ne.subscribe(ie),re))})}},8505:(yt,De,k)=>{k.d(De,{b:()=>ne});var f=k(576),Q=k(4482),P=k(5403),re=k(4671);function ne(ie,fe,ve){const pe=(0,f.m)(ie)||fe||ve?{next:ie,error:fe,complete:ve}:ie;return pe?(0,Q.e)(($,B)=>{var Z;null===(Z=pe.subscribe)||void 0===Z||Z.call(pe);let He=!0;$.subscribe((0,P.x)(B,we=>{var Ze;null===(Ze=pe.next)||void 0===Ze||Ze.call(pe,we),B.next(we)},()=>{var we;He=!1,null===(we=pe.complete)||void 0===we||we.call(pe),B.complete()},we=>{var Ze;He=!1,null===(Ze=pe.error)||void 0===Ze||Ze.call(pe,we),B.error(we)},()=>{var we,Ze;He&&(null===(we=pe.unsubscribe)||void 0===we||we.call(pe)),null===(Ze=pe.finalize)||void 0===Ze||Ze.call(pe)}))}):re.y}},4408:(yt,De,k)=>{k.d(De,{o:()=>ne});var f=k(727);class Q extends f.w0{constructor(fe,ve){super()}schedule(fe,ve=0){return this}}const P={setInterval(ie,fe,...ve){const{delegate:pe}=P;return pe?.setInterval?pe.setInterval(ie,fe,...ve):setInterval(ie,fe,...ve)},clearInterval(ie){const{delegate:fe}=P;return(fe?.clearInterval||clearInterval)(ie)},delegate:void 0};var re=k(8737);class ne extends Q{constructor(fe,ve){super(fe,ve),this.scheduler=fe,this.work=ve,this.pending=!1}schedule(fe,ve=0){var pe;if(this.closed)return this;this.state=fe;const $=this.id,B=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(B,$,ve)),this.pending=!0,this.delay=ve,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(B,this.id,ve),this}requestAsyncId(fe,ve,pe=0){return P.setInterval(fe.flush.bind(fe,this),pe)}recycleAsyncId(fe,ve,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return ve;null!=ve&&P.clearInterval(ve)}execute(fe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(fe,ve);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ve){let $,pe=!1;try{this.work(fe)}catch(B){pe=!0,$=B||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ve}=this,{actions:pe}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(pe,this),null!=fe&&(this.id=this.recycleAsyncId(ve,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,De,k)=>{k.d(De,{v:()=>P});var f=k(6063);class Q{constructor(ne,ie=Q.now){this.schedulerActionCtor=ne,this.now=ie}schedule(ne,ie=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,ie)}}Q.now=f.l.now;class P extends Q{constructor(ne,ie=Q.now){super(ne,ie),this.actions=[],this._active=!1}flush(ne){const{actions:ie}=this;if(this._active)return void ie.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=ie.shift());if(this._active=!1,fe){for(;ne=ie.shift();)ne.unsubscribe();throw fe}}}},4986:(yt,De,k)=>{k.d(De,{z:()=>P});var f=k(4408);const P=new(k(7565).v)(f.o)},6063:(yt,De,k)=>{k.d(De,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(yt,De,k)=>{k.d(De,{z:()=>f});const f={setTimeout(Q,P,...re){const{delegate:ne}=f;return ne?.setTimeout?ne.setTimeout(Q,P,...re):setTimeout(Q,P,...re)},clearTimeout(Q){const{delegate:P}=f;return(P?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(yt,De,k)=>{k.d(De,{h:()=>Q});const Q=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,De,k)=>{k.d(De,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,De,k)=>{k.d(De,{_6:()=>ie,jO:()=>re,yG:()=>ne});var f=k(576);function P(fe){return fe[fe.length-1]}function re(fe){return(0,f.m)(P(fe))?fe.pop():void 0}function ne(fe){return function Q(fe){return fe&&(0,f.m)(fe.schedule)}(P(fe))?fe.pop():void 0}function ie(fe,ve){return"number"==typeof P(fe)?fe.pop():ve}},8737:(yt,De,k)=>{function f(Q,P){if(Q){const re=Q.indexOf(P);0<=re&&Q.splice(re,1)}}k.d(De,{P:()=>f})},3888:(yt,De,k)=>{function f(Q){const re=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(De,{d:()=>f})},2806:(yt,De,k)=>{k.d(De,{O:()=>re,x:()=>P});var f=k(2416);let Q=null;function P(ne){if(f.v.useDeprecatedSynchronousErrorHandling){const ie=!Q;if(ie&&(Q={errorThrown:!1,error:null}),ne(),ie){const{errorThrown:fe,error:ve}=Q;if(Q=null,fe)throw ve}}else ne()}function re(ne){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},9672:(yt,De,k)=>{function f(Q,P,re,ne=0,ie=!1){const fe=P.schedule(function(){re(),ie?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(fe),!ie)return fe}k.d(De,{f:()=>f})},4671:(yt,De,k)=>{function f(Q){return Q}k.d(De,{y:()=>f})},1144:(yt,De,k)=>{k.d(De,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(yt,De,k)=>{k.d(De,{D:()=>Q});var f=k(576);function Q(P){return Symbol.asyncIterator&&(0,f.m)(P?.[Symbol.asyncIterator])}},576:(yt,De,k)=>{function f(Q){return"function"==typeof Q}k.d(De,{m:()=>f})},3670:(yt,De,k)=>{k.d(De,{c:()=>P});var f=k(8822),Q=k(576);function P(re){return(0,Q.m)(re[f.L])}},6495:(yt,De,k)=>{k.d(De,{T:()=>P});var f=k(2202),Q=k(576);function P(re){return(0,Q.m)(re?.[f.h])}},8239:(yt,De,k)=>{k.d(De,{t:()=>Q});var f=k(576);function Q(P){return(0,f.m)(P?.then)}},3260:(yt,De,k)=>{k.d(De,{L:()=>re,Q:()=>P});var f=k(7582),Q=k(576);function P(ne){return(0,f.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:ve,done:pe}=yield(0,f.qq)(fe.read());if(pe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ve)}}finally{fe.releaseLock()}})}function re(ne){return(0,Q.m)(ne?.getReader)}},4482:(yt,De,k)=>{k.d(De,{A:()=>Q,e:()=>P});var f=k(576);function Q(re){return(0,f.m)(re?.lift)}function P(re){return ne=>{if(Q(ne))return ne.lift(function(ie){try{return re(ie,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,De,k)=>{k.d(De,{U:()=>P,z:()=>Q});var f=k(4671);function Q(...re){return P(re)}function P(re){return 0===re.length?f.y:1===re.length?re[0]:function(ie){return re.reduce((fe,ve)=>ve(fe),ie)}}},7849:(yt,De,k)=>{k.d(De,{h:()=>P});var f=k(2416),Q=k(3410);function P(re){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=f.v;if(!ne)throw re;ne(re)})}},4532:(yt,De,k)=>{function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>f})},4650:(yt,De,k)=>{k.d(De,{$8M:()=>wo,$WT:()=>Un,$Z:()=>Ew,AFp:()=>u0,ALo:()=>Cu,AaK:()=>ve,CHM:()=>Kf,CRH:()=>xi,CZH:()=>Ug,CqO:()=>u_,D6c:()=>kb,EJc:()=>dI,EpF:()=>o_,F4k:()=>Wh,FYo:()=>bv,FiY:()=>su,GfV:()=>tw,Gpc:()=>B,JOm:()=>It,KtG:()=>qa,LFG:()=>hn,LSH:()=>Sp,Lbi:()=>Sy,Lck:()=>Hn,MAs:()=>Hm,MMx:()=>j_,NdJ:()=>Zh,OlP:()=>Kt,Oqu:()=>ty,P3R:()=>y,PXZ:()=>Tb,Q6J:()=>Wp,QGY:()=>a_,Qsj:()=>OD,R0b:()=>Vs,RDi:()=>hv,Rgc:()=>yf,SBq:()=>Ih,Sil:()=>c0,Suo:()=>Pc,TTD:()=>Rd,TgZ:()=>Kp,VKq:()=>Oc,WLB:()=>py,X6Q:()=>II,XFs:()=>lt,Xpm:()=>Qr,Xts:()=>T,Y36:()=>Sh,YKP:()=>Kr,YNc:()=>zh,Yjl:()=>$t,Yz7:()=>wt,Z0I:()=>rn,ZZ4:()=>Ly,_Bn:()=>On,_UZ:()=>Yp,_Vd:()=>Eh,_c5:()=>Pb,_uU:()=>rf,aQg:()=>I0,c2e:()=>lI,cJS:()=>vn,cg1:()=>oy,dDg:()=>Cb,dqk:()=>on,eFA:()=>Vc,eJc:()=>dd,ekj:()=>m_,eoX:()=>d0,f3M:()=>Br,g9A:()=>bf,h0i:()=>Du,hGG:()=>OI,hij:()=>ig,iGM:()=>xg,ifc:()=>le,ip1:()=>cI,jDz:()=>jE,kL8:()=>cg,lG2:()=>vt,lcZ:()=>ud,lqb:()=>yu,lri:()=>Ny,n5z:()=>Yd,oAB:()=>J,oJD:()=>Tp,oxw:()=>c_,q4F:()=>nw,qLn:()=>Rp,qOj:()=>Hp,qZA:()=>Gm,rWj:()=>l0,s9C:()=>Oo,sBO:()=>vd,s_b:()=>Tg,soG:()=>Bg,tb:()=>mI,tp0:()=>gt,uIk:()=>jm,vHH:()=>ce,vpe:()=>Uo,wAp:()=>Et,xp6:()=>fw,z2F:()=>yd,zSh:()=>xo,zs3:()=>Ch});var f=k(7579),Q=k(727),P=k(9751),re=k(6451),ne=k(3099);function ie(i){for(let o in i)if(i[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function fe(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ve(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ve).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function pe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=ie({__forward_ref__:ie});function B(i){return i.__forward_ref__=B,i.toString=function(){return ve(this())},i}function Z(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===B}function we(i){return i&&!!i.\u0275providers}const st="https://g.co/ng/security#xss";class ce extends Error{constructor(o,a){super(Me(o,a)),this.code=o}}function Me(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}function ke(i){return"string"==typeof i?i:null==i?"":String(i)}function qe(i,o){throw new ce(-201,!1)}function Fe(i,o){null==i&&function We(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function vn(i){return{providers:i.providers||[],imports:i.imports||[]}}function En(i){return sn(i,ai)||sn(i,Vr)}function rn(i){return null!==En(i)}function sn(i,o){return i.hasOwnProperty(o)?i[o]:null}function Jn(i){return i&&(i.hasOwnProperty(Oe)||i.hasOwnProperty(In))?i[Oe]:null}const ai=ie({\u0275prov:ie}),Oe=ie({\u0275inj:ie}),Vr=ie({ngInjectableDef:ie}),In=ie({ngInjectorDef:ie});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Ri;function Er(i){const o=Ri;return Ri=i,o}function ui(i,o,a){const c=En(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==o?o:void qe(ve(i))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xt={},en="__NG_DI_FLAG__",ur="ngTempTokenPath",Ni="ngTokenPath",Pn=/\n/gm,Vn="\u0275",_n="__source";let gs;function Qt(i){const o=gs;return gs=i,o}function Ur(i,o=lt.Default){if(void 0===gs)throw new ce(-203,!1);return null===gs?ui(i,void 0,o):gs.get(i,o&lt.Optional?null:void 0,o)}function hn(i,o=lt.Default){return(function Na(){return Ri}()||Ur)(Z(i),o)}function Br(i,o=lt.Default){return hn(i,Tr(o))}function Tr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function Ki(i){const o=[];for(let a=0;a<i.length;a++){const c=Z(i[a]);if(Array.isArray(c)){if(0===c.length)throw new ce(900,!1);let d,g=lt.Default;for(let _=0;_<c.length;_++){const I=c[_],C=Ir(I);"number"==typeof C?-1===C?d=I.token:g|=C:d=I}o.push(hn(d,g))}else o.push(hn(c))}return o}function jr(i,o){return i[en]=o,i.prototype[en]=o,i}function Ir(i){return i[en]}function V(i){return{toString:i}.toString()}var z=(()=>((z=z||{})[z.OnPush=0]="OnPush",z[z.Default=1]="Default",z))(),le=(()=>{return(i=le||(le={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",le;var i})();const X={},Ce=[],bt=ie({\u0275cmp:ie}),un=ie({\u0275dir:ie}),Xn=ie({\u0275pipe:ie}),Mn=ie({\u0275mod:ie}),yn=ie({\u0275fac:ie}),zt=ie({__NG_ELEMENT_ID__:ie});let Sr=0;function Qr(i){return V(()=>{const o=Pa(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===z.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||le.Emulated,id:"c"+Sr++,styles:i.styles||Ce,_:null,schemas:i.schemas||null,tView:null};Cd(a);const c=i.dependencies;return a.directiveDefs=Gs(c,!1),a.pipeDefs=Gs(c,!0),a})}function Oa(i){return tt(i)||cn(i)}function ae(i){return null!==i}function J(i){return V(()=>({type:i.type,bootstrap:i.bootstrap||Ce,declarations:i.declarations||Ce,imports:i.imports||Ce,exports:i.exports||Ce,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function rt(i,o){if(null==i)return X;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=c,o&&(o[d]=g)}return a}function vt(i){return V(()=>{const o=Pa(i);return Cd(o),o})}function $t(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function tt(i){return i[bt]||null}function cn(i){return i[un]||null}function qt(i){return i[Xn]||null}function Un(i){const o=tt(i)||cn(i)||qt(i);return null!==o&&o.standalone}function Rn(i,o){const a=i[Mn]||null;if(!a&&!0===o)throw new Error(`Type ${ve(i)} does not have '\u0275mod' property.`);return a}function Pa(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Ce,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rt(i.inputs,o),outputs:rt(i.outputs)}}function Cd(i){i.features?.forEach(o=>o(i))}function Gs(i,o){if(!i)return null;const a=o?qt:Oa;return()=>("function"==typeof i?i():i).map(c=>a(c)).filter(ae)}const li=0,Xe=1,Mt=2,Dn=3,Jr=4,di=5,cr=6,ys=7,Bn=8,ka=9,zs=10,Lt=11,Mu=12,vs=13,Fa=14,qs=15,er=16,Bo=17,Ws=18,Yi=19,jo=20,Ar=21,Sn=22,Zc=1,Ru=2,Oi=7,Zs=8,La=9,xr=10;function $r(i){return Array.isArray(i)&&"object"==typeof i[Zc]}function Pi(i){return Array.isArray(i)&&!0===i[Zc]}function Va(i){return 0!=(4&i.flags)}function Ua(i){return i.componentOffset>-1}function Nu(i){return 1==(1&i.flags)}function hi(i){return!!i.template}function Gf(i){return 0!=(256&i[Mt])}function $a(i,o){return i.hasOwnProperty(yn)?i[yn]:null}class Fu{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Rd(){return $o}function $o(i){return i.type.prototype.ngOnChanges&&(i.setInput=ki),Ha}function Ha(){const i=Wf(this),o=i?.current;if(o){const a=i.previous;if(a===X)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function ki(i,o,a,c){const d=this.declaredInputs[a],g=Wf(i)||function Ji(i,o){return i[Ga]=o}(i,{previous:X,current:null}),_=g.current||(g.current={}),I=g.previous,C=I[d];_[d]=new Fu(C&&C.currentValue,o,I===X),i[c]=o}Rd.ngInherit=!0;const Ga="__ngSimpleChanges__";function Wf(i){return i[Ga]||null}const fi=function(i,o,a){};function tr(i){for(;Array.isArray(i);)i=i[li];return i}function Go(i,o){return tr(o[i])}function lr(i,o){return tr(o[i.index])}function Nd(i,o){return i.data[o]}function Xr(i,o){return i[o]}function zn(i,o){const a=o[i];return $r(a)?a:a[li]}function Ys(i){return 64==(64&i[Mt])}function pi(i,o){return null==o?null:i[o]}function ws(i){i[Ws]=0}function za(i,o){i[di]+=o;let a=i,c=i[Dn];for(;null!==c&&(1===o&&1===a[di]||-1===o&&0===a[di]);)c[di]+=o,a=c,c=c[Dn]}const Nt={lFrame:Qs(null),bindingsEnabled:!0};function tl(){return Nt.bindingsEnabled}function oe(){return Nt.lFrame.lView}function Vt(){return Nt.lFrame.tView}function Kf(i){return Nt.lFrame.contextLView=i,i[Bn]}function qa(i){return Nt.lFrame.contextLView=null,i}function nr(){let i=rl();for(;null!==i&&64===i.type;)i=i.parent;return i}function rl(){return Nt.lFrame.currentTNode}function gi(i,o){const a=Nt.lFrame;a.currentTNode=i,a.isParent=o}function Bu(){return Nt.lFrame.isParent}function dr(){const i=Nt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Is(){return Nt.lFrame.bindingIndex++}function Hu(i,o){const a=Nt.lFrame;a.bindingIndex=a.bindingRootIndex=i,jn(o)}function jn(i){Nt.lFrame.currentDirectiveIndex=i}function Za(){return Nt.lFrame.currentQueryIndex}function Fd(i){Nt.lFrame.currentQueryIndex=i}function zu(i){const o=i[Xe];return 2===o.type?o.declTNode:1===o.type?i[cr]:null}function Zo(i,o,a){if(a&lt.SkipSelf){let d=o,g=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=zu(g),null===d||(g=g[qs],10&d.type))););if(null===d)return!1;o=d,i=g}const c=Nt.lFrame=Ka();return c.currentTNode=o,c.lView=i,!0}function Ko(i){const o=Ka(),a=i[Xe];Nt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Ka(){const i=Nt.lFrame,o=null===i?null:i.child;return null===o?Qs(i):o}function Qs(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function il(){const i=Nt.lFrame;return Nt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const qu=il;function Ld(){const i=il();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function hr(){return Nt.lFrame.selectedIndex}function es(i){Nt.lFrame.selectedIndex=i}function An(){const i=Nt.lFrame;return Nd(i.tView,i.selectedIndex)}function Yo(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:x,ngOnDestroy:R}=g;_&&(i.contentHooks??(i.contentHooks=[])).push(-a,_),I&&((i.contentHooks??(i.contentHooks=[])).push(a,I),(i.contentCheckHooks??(i.contentCheckHooks=[])).push(a,I)),C&&(i.viewHooks??(i.viewHooks=[])).push(-a,C),x&&((i.viewHooks??(i.viewHooks=[])).push(a,x),(i.viewCheckHooks??(i.viewCheckHooks=[])).push(a,x)),null!=R&&(i.destroyHooks??(i.destroyHooks=[])).push(a,R)}}function al(i,o,a){Wu(i,o,3,a)}function ul(i,o,a,c){(3&i[Mt])===a&&Wu(i,o,a,c)}function Ya(i,o){let a=i[Mt];(3&a)===o&&(a&=2047,a+=1,i[Mt]=a)}function Wu(i,o,a,c){const g=c??-1,_=o.length-1;let I=0;for(let C=void 0!==c?65535&i[Ws]:0;C<_;C++)if("number"==typeof o[C+1]){if(I=o[C],null!=c&&I>=c)break}else o[C]<0&&(i[Ws]+=65536),(I<g||-1==g)&&(Js(i,a,o,C),i[Ws]=(4294901760&i[Ws])+C+2),C++}function Js(i,o,a,c){const d=a[c]<0,g=a[c+1],I=i[d?-a[c]:a[c]];if(d){if(i[Mt]>>11<i[Ws]>>16&&(3&i[Mt])===o){i[Mt]+=2048,fi(4,I,g);try{g.call(I)}finally{fi(5,I,g)}}}else{fi(4,I,g);try{g.call(I)}finally{fi(5,I,g)}}}const Qo=-1;class mi{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Xo(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const g=a[c++],_=a[c++],I=a[c++];i.setAttribute(o,_,I,g)}else{const g=d,_=a[++c];Ds(g)?i.setProperty(o,g,_):i.setAttribute(o,g,_),c++}}return c}function dl(i){return 3===i||4===i||6===i}function Ds(i){return 64===i.charCodeAt(0)}function Cs(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Ku(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Ku(i,o,a,c,d){let g=0,_=i.length;if(-1===o)_=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===o){_=-1;break}if(I>o){_=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===c)return void(null!==d&&(i[g+1]=d));if(c===i[g+1])return void(i[g+2]=d)}g++,null!==c&&g++,null!==d&&g++}-1!==_&&(i.splice(_,0,o),g=_+1),i.splice(g++,0,a),null!==c&&i.splice(g++,0,c),null!==d&&i.splice(g++,0,d)}function ts(i){return i!==Qo}function _o(i){return 32767&i}function Yu(i,o){let a=function Gd(i){return i>>16}(i),c=o;for(;a>0;)c=c[qs],a--;return c}let hl=!0;function Xa(i){const o=hl;return hl=i,o}const fl=255,zd=5;let Qu=0;const yi={};function qd(i,o){const a=ep(i,o);if(-1!==a)return a;const c=o[Xe];c.firstCreatePass&&(i.injectorIndex=o.length,eu(c.data,i),eu(o,null),eu(c.blueprint,null));const d=tp(i,o),g=i.injectorIndex;if(ts(d)){const _=_o(d),I=Yu(d,o),C=I[Xe].data;for(let x=0;x<8;x++)o[g+x]=I[_+x]|C[_+x]}return o[g+8]=d,g}function eu(i,o){i.push(0,0,0,0,0,0,0,0,o)}function ep(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function tp(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=ec(d),null===c)return Qo;if(a++,d=d[qs],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return Qo}function ns(i,o,a){!function Xf(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(zt)&&(c=a[zt]),null==c&&(c=a[zt]=Qu++);const d=c&fl;o.data[i+(d>>zd)]|=1<<d}(i,o,a)}function Ju(i,o,a){if(a&lt.Optional||void 0!==i)return i;qe()}function pl(i,o,a,c){if(a&lt.Optional&&void 0===c&&(c=null),!(a&(lt.Self|lt.Host))){const d=i[ka],g=Er(void 0);try{return d?d.get(o,c,a&lt.Optional):ui(o,c,a&lt.Optional)}finally{Er(g)}}return Ju(c,0,a)}function Wd(i,o,a,c=lt.Default,d){if(null!==i){if(1024&o[Mt]){const _=function rp(i,o,a,c,d){let g=i,_=o;for(;null!==g&&null!==_&&1024&_[Mt]&&!(256&_[Mt]);){const I=Xu(g,_,a,c|lt.Self,yi);if(I!==yi)return I;let C=g.parent;if(!C){const x=_[Ar];if(x){const R=x.get(a,yi,c);if(R!==yi)return R}C=ec(_),_=_[qs]}g=C}return d}(i,o,a,c,yi);if(_!==yi)return _}const g=Xu(i,o,a,c,yi);if(g!==yi)return g}return pl(o,a,c,d)}function Xu(i,o,a,c,d){const g=function Zd(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(zt)?i[zt]:void 0;return"number"==typeof o?o>=0?o&fl:Kd:o}(a);if("function"==typeof g){if(!Zo(o,i,c))return c&lt.Host?Ju(d,0,c):pl(o,a,c,d);try{const _=g(c);if(null!=_||c&lt.Optional)return _;qe()}finally{qu()}}else if("number"==typeof g){let _=null,I=ep(i,o),C=Qo,x=c&lt.Host?o[er][cr]:null;for((-1===I||c&lt.SkipSelf)&&(C=-1===I?tp(i,o):o[I+8],C!==Qo&&np(c,!1)?(_=o[Xe],I=_o(C),o=Yu(C,o)):I=-1);-1!==I;){const R=o[Xe];if(ta(g,I,R.data)){const F=vr(I,o,a,_,c,x);if(F!==yi)return F}C=o[I+8],C!==Qo&&np(c,o[Xe].data[I+8]===x)&&ta(g,I,o)?(_=R,I=_o(C),o=Yu(C,o)):I=-1}}return d}function vr(i,o,a,c,d,g){const _=o[Xe],I=_.data[i+8],R=ea(I,_,a,null==c?Ua(I)&&hl:c!=_&&0!=(3&I.type),d&lt.Host&&g===I);return null!==R?qn(o,_,R,I):yi}function ea(i,o,a,c,d){const g=i.providerIndexes,_=o.data,I=1048575&g,C=i.directiveStart,R=g>>20,G=d?I+R:i.directiveEnd;for(let Y=c?I:I+R;Y<G;Y++){const me=_[Y];if(Y<C&&a===me||Y>=C&&me.type===a)return Y}if(d){const Y=_[C];if(Y&&hi(Y)&&Y.type===a)return C}return null}function qn(i,o,a,c){let d=i[a];const g=o.data;if(function Qf(i){return i instanceof mi}(d)){const _=d;_.resolving&&function Re(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new ce(-200,`Circular dependency in DI detected for ${i}${a}`)}(function $e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ke(i)}(g[a]));const I=Xa(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Er(_.injectImpl):null;Zo(i,c,lt.Default);try{d=i[a]=_.factory(void 0,g,i,c),o.firstCreatePass&&a>=c.directiveStart&&function im(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(c){const _=$o(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks??(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==C&&Er(C),Xa(I),_.resolving=!1,qu()}}return d}function ta(i,o,a){return!!(a[o+(i>>zd)]&1<<i)}function np(i,o){return!(i&lt.Self||i&lt.Host&&o)}class bs{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Wd(this._tNode,this._lView,o,Tr(c),a)}}function Kd(){return new bs(nr(),oe())}function Yd(i){return V(()=>{const o=i.prototype.constructor,a=o[yn]||na(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const g=d[yn]||na(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function na(i){return He(i)?()=>{const o=na(Z(i));return o&&o()}:$a(i)}function ec(i){const o=i[Xe],a=o.type;return 2===a?o.declTNode:1===a?i[cr]:null}function wo(i){return function Xs(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const g=a[d];if(dl(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(nr(),i)}const ti="__parameters__";function Eo(i,o,a){return V(()=>{const c=function ia(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...g){if(this instanceof d)return c.apply(this,g),this;const _=new d(...g);return I.annotation=_,I;function I(C,x,R){const F=C.hasOwnProperty(ti)?C[ti]:Object.defineProperty(C,ti,{value:[]})[ti];for(;F.length<=R;)F.push(null);return(F[R]=F[R]||[]).push(_),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Kt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=wt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function rs(i,o){i.forEach(a=>Array.isArray(a)?rs(a,o):o(a))}function eh(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function iu(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function vi(i,o,a){let c=Li(i,o);return c>=0?i[1|c]=a:(c=~c,function sp(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function fn(i,o){const a=Li(i,o);if(a>=0)return i[1|a]}function Li(i,o){return function Ts(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const g=c+(d-c>>1),_=i[g<<a];if(o===_)return g<<a;_>o?d=g:c=g+1}return~(d<<a)}(i,o,1)}const su=jr(Eo("Optional"),8),gt=jr(Eo("SkipSelf"),4);var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();const lc=new Map;let Bi=0;const W="__ngContext__";function te(i,o){$r(o)?(i[W]=o[jo],function du(i){lc.set(i[jo],i)}(o)):i[W]=o}let as;function ro(i,o){return as(i,o)}function Tl(i){const o=i[Dn];return Pi(o)?o[Dn]:o}function ah(i){return uh(i[vs])}function fc(i){return uh(i[Jr])}function uh(i){for(;null!==i&&!Pi(i);)i=i[Jr];return i}function da(i,o,a,c,d){if(null!=c){let g,_=!1;Pi(c)?g=c:$r(c)&&(_=!0,c=c[li]);const I=tr(c);0===i&&null!==a?null==d?cm(o,a,I):pa(o,a,I,d||null,!0):1===i&&null!==a?pa(o,a,I,d||null,!0):2===i?function vp(i,o,a){const c=io(i,o);c&&function gc(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,I,_):3===i&&o.destroyNode(I),null!=g&&function Rl(i,o,a,c,d){const g=a[Oi];g!==tr(a)&&da(o,i,c,g,d);for(let I=xr;I<a.length;I++){const C=a[I];gu(C[Xe],C,i,o,c,g)}}(o,i,g,a,d)}}function dp(i,o,a){return i.createElement(o,a)}function lh(i,o){const a=i[La],c=a.indexOf(o),d=o[Dn];512&o[Mt]&&(o[Mt]&=-513,za(d,-1)),a.splice(c,1)}function Al(i,o){if(i.length<=xr)return;const a=xr+o,c=i[a];if(c){const d=c[Bo];null!==d&&d!==i&&lh(d,c),o>0&&(i[a-1][Jr]=c[Jr]);const g=iu(i,xr+o);!function um(i,o){gu(i,o,o[Lt],2,null,null),o[li]=null,o[cr]=null}(c[Xe],c);const _=g[Yi];null!==_&&_.detachView(g[Xe]),c[Dn]=null,c[Jr]=null,c[Mt]&=-65}return c}function dh(i,o){if(!(128&o[Mt])){const a=o[Lt];a.destroyNode&&gu(i,o,a,3,null,null),function ov(i){let o=i[vs];if(!o)return ha(i[Xe],i);for(;o;){let a=null;if($r(o))a=o[vs];else{const c=o[xr];c&&(a=c)}if(!a){for(;o&&!o[Jr]&&o!==i;)$r(o)&&ha(o[Xe],o),o=o[Dn];null===o&&(o=i),$r(o)&&ha(o[Xe],o),a=o&&o[Jr]}o=a}}(o)}}function ha(i,o){if(!(128&o[Mt])){o[Mt]&=-65,o[Mt]|=128,function fa(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof mi)){const g=a[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const I=d[g[_]],C=g[_+1];fi(4,I,C);try{C.call(I)}finally{fi(5,I,C)}}else{fi(4,d,g);try{g.call(d)}finally{fi(5,d,g)}}}}}(i,o),function cv(i,o){const a=i.cleanup,c=o[ys];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+3];_>=0?c[d=_]():c[d=-_].unsubscribe(),g+=2}else{const _=c[d=a[g+1]];a[g].call(_)}if(null!==c){for(let g=d+1;g<c.length;g++)(0,c[g])();o[ys]=null}}(i,o),1===o[Xe].type&&o[Lt].destroy();const a=o[Bo];if(null!==a&&Pi(o[Dn])){a!==o[Dn]&&lh(a,o);const c=o[Yi];null!==c&&c.detachView(i)}!function E(i){lc.delete(i[jo])}(o)}}function hh(i,o,a){return function hp(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[li];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:g}=i.data[c.directiveStart+d];if(g===le.None||g===le.Emulated)return null}return lr(c,a)}}(i,o.parent,a)}function pa(i,o,a,c,d){i.insertBefore(o,a,c,d)}function cm(i,o,a){i.appendChild(o,a)}function fh(i,o,a,c,d){null!==c?pa(i,o,a,c,d):cm(i,o,a)}function io(i,o){return i.parentNode(o)}let mp,Ao,kl,vc,pu=function gp(i,o,a){return 40&i.type?lr(i,a):null};function mc(i,o,a,c){const d=hh(i,c,o),g=o[Lt],I=function pp(i,o,a){return pu(i,o,a)}(c.parent||o[cr],c,o);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)fh(g,d,a[C],I,!1);else fh(g,d,a,I,!1);void 0!==mp&&mp(g,c,o,a,d)}function ph(i,o){if(null!==o){const a=o.type;if(3&a)return lr(o,i);if(4&a)return Ii(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return ph(i,c);{const d=i[o.index];return Pi(d)?Ii(-1,d):tr(d)}}if(32&a)return ro(o,i)()||tr(i[o.index]);{const c=yp(i,o);return null!==c?Array.isArray(c)?c[0]:ph(Tl(i[er]),c):ph(i,o.next)}}return null}function yp(i,o){return null!==o?i[er][cr].projection[o.projection]:null}function Ii(i,o){const a=xr+i+1;if(a<o.length){const c=o[a],d=c[Xe].firstChild;if(null!==d)return ph(c,d)}return o[Oi]}function xl(i,o,a,c,d,g,_){for(;null!=a;){const I=c[a.index],C=a.type;if(_&&0===o&&(I&&te(tr(I),c),a.flags|=2),32!=(32&a.flags))if(8&C)xl(i,o,a.child,c,d,g,!1),da(o,i,d,I,g);else if(32&C){const x=ro(a,c);let R;for(;R=x();)da(o,i,d,R,g);da(o,i,d,I,g)}else 16&C?Ml(i,o,c,a,d,g):da(o,i,d,I,g);a=_?a.projectionNext:a.next}}function gu(i,o,a,c,d,g){xl(a,c,i.firstChild,o,d,g,!1)}function Ml(i,o,a,c,d,g){const _=a[er],C=_[cr].projection[c.projection];if(Array.isArray(C))for(let x=0;x<C.length;x++)da(o,i,d,C[x],g);else xl(i,o,C,_[Dn],d,g,!0)}function ga(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Ol(i,o,a){const{mergedAttrs:c,classes:d,styles:g}=a;null!==c&&Xo(i,o,c),null!==d&&ga(i,o,d),null!==g&&function Nl(i,o,a){i.setAttribute(o,"style",a)}(i,o,g)}function yc(i){return function Pl(){if(void 0===Ao&&(Ao=null,on.trustedTypes))try{Ao=on.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ao}()?.createHTML(i)||i}function hv(i){kl=i}function Fl(){if(void 0===vc&&(vc=null,on.trustedTypes))try{vc=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return vc}function pm(i){return Fl()?.createHTML(i)||i}function Ll(i){return Fl()?.createScriptURL(i)||i}class gm{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${st})`}}function oo(i){return i instanceof gm?i.changingThisBreaksApplicationSecurity:i}function ji(i,o){const a=function ao(i){return i instanceof gm&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${st})`)}return a===o}class Vl{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(yc(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class gh{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const a=this.inertDocument.createElement("template");return a.innerHTML=yc(o),a}}const Ep=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bl(i){return(i=String(i)).match(Ep)?i:"unsafe:"+i}function $i(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function jl(...i){const o={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const Dr=$i("area,br,col,hr,img,wbr"),_c=$i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ip=$i("rp,rt"),mh=jl(Dr,jl(_c,$i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jl(Ip,$i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jl(Ip,_c)),$l=$i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wc=jl($l,$i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bp=$i("script,style,template");class yv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!mh.hasOwnProperty(a))return this.sanitizedSomething=!0,!bp.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let d=0;d<c.length;d++){const g=c.item(d),_=g.name,I=_.toLowerCase();if(!wc.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let C=g.value;$l[I]&&(C=Bl(C)),this.buf.push(" ",_,'="',Gr(C),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();mh.hasOwnProperty(a)&&!Dr.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Gr(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const vv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yh=/([^\#-~ |!])/g;function Gr(i){return i.replace(/&/g,"&amp;").replace(vv,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(yh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function Im(i){return"content"in i&&function ma(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function Tp(i){const o=v();return o?pm(o.sanitize(xn.HTML,i)||""):ji(i,"HTML")?pm(oo(i)):function Em(i,o){let a=null;try{Hl=Hl||function _m(i){const o=new gh(i);return function Ul(){try{return!!(new window.DOMParser).parseFromString(yc(""),"text/html")}catch{return!1}}()?new Vl(o):o}(i);let c=o?String(o):"";a=Hl.getInertBodyElement(c);let d=5,g=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=g,g=a.innerHTML,a=Hl.getInertBodyElement(c)}while(c!==g);return yc((new yv).sanitizeChildren(Im(a)||a))}finally{if(a){const c=Im(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(function fm(){return void 0!==kl?kl:typeof document<"u"?document:void 0}(),ke(i))}function Sp(i){const o=v();return o?o.sanitize(xn.URL,i)||"":ji(i,"URL")?oo(i):Bl(ke(i))}function Ec(i){const o=v();if(o)return Ll(o.sanitize(xn.RESOURCE_URL,i)||"");if(ji(i,"ResourceURL"))return Ll(oo(i));throw new ce(904,!1)}function y(i,o,a){return function _v(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Ec:Sp}(o,a)(i)}function v(){const i=oe();return i&&i[Mu]}const T=new Kt("ENVIRONMENT_INITIALIZER"),M=new Kt("INJECTOR",-1),L=new Kt("INJECTOR_DEF_TYPES");class q{get(o,a=Xt){if(a===Xt){const c=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw c.name="NullInjectorError",c}return a}}function de(...i){return{\u0275providers:je(0,i),\u0275fromNgModule:!0}}function je(i,...o){const a=[],c=new Set;let d;return rs(o,g=>{const _=g;Ht(_,a,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&Ye(d,a),a}function Ye(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];uo(d,g=>{o.push(g)})}}function Ht(i,o,a,c){if(!(i=Z(i)))return!1;let d=null,g=Jn(i);const _=!g&&tt(i);if(g||_){if(_&&!_.standalone)return!1;d=i}else{const C=i.ngModule;if(g=Jn(C),!g)return!1;d=C}const I=c.has(d);if(_){if(I)return!1;if(c.add(d),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const x of C)Ht(x,o,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let x;c.add(d);try{rs(g.imports,R=>{Ht(R,o,a,c)&&(x||(x=[]),x.push(R))})}finally{}void 0!==x&&Ye(x,o)}if(!I){const x=$a(d)||(()=>new d);o.push({provide:d,useFactory:x,deps:Ce},{provide:L,useValue:d,multi:!0},{provide:T,useValue:()=>hn(d),multi:!0})}const C=g.providers;null==C||I||uo(C,R=>{o.push(R)})}}return d!==i&&void 0!==i.providers}function uo(i,o){for(let a of i)we(a)&&(a=a.\u0275providers),Array.isArray(a)?uo(a,o):o(a)}const vh=ie({provide:String,useValue:ie});function zl(i){return null!==i&&"object"==typeof i&&vh in i}function xs(i){return"function"==typeof i}const xo=new Kt("Set Injector scope."),Ic={},Tm={};let xp;function Dc(){return void 0===xp&&(xp=new q),xp}class yu{}class Y0 extends yu{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wh(o,_=>this.processProvider(_)),this.records.set(M,_h(void 0,this)),d.has("environment")&&this.records.set(yu,_h(void 0,this));const g=this.records.get(xo);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(L.multi,Ce,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Qt(this),c=Er(void 0);try{return o()}finally{Qt(a),Er(c)}}get(o,a=Xt,c=lt.Default){this.assertNotDestroyed(),c=Tr(c);const d=Qt(this),g=Er(void 0);try{if(!(c&lt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const C=function Dv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Kt}(o)&&En(o);I=C&&this.injectableDefInScope(C)?_h(wv(o),Ic):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(c&lt.Self?Dc():this.parent).get(o,a=c&lt.Optional&&a===Xt?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ur]=_[ur]||[]).unshift(ve(o)),d)throw _;return function Hs(i,o,a,c){const d=i[ur];throw o[_n]&&d.unshift(o[_n]),i.message=function U(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&i.charAt(1)==Vn?i.slice(2):i;let d=ve(o);if(Array.isArray(o))d=o.map(ve).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let I=o[_];g.push(_+":"+("string"==typeof I?JSON.stringify(I):ve(I)))}d=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Pn,"\n  ")}`}("\n"+i.message,d,a,c),i[Ni]=d,i[ur]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{Er(g),Qt(d)}}resolveInjectorInitializers(){const o=Qt(this),a=Er(void 0);try{const c=this.get(T.multi,Ce,lt.Self);for(const d of c)d()}finally{Qt(o),Er(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(ve(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(o){let a=xs(o=Z(o))?o:Z(o&&o.provide);const c=function MD(i){return zl(i)?_h(void 0,i.useValue):_h(Ev(i),Ic)}(o);if(xs(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=_h(void 0,Ic,!0),d.factory=()=>Ki(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Ic&&(a.value=Tm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Q0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function wv(i){const o=En(i),a=null!==o?o.factory:$a(i);if(null!==a)return a;if(i instanceof Kt)throw new ce(204,!1);if(i instanceof Function)return function xD(i){const o=i.length;if(o>0)throw function rc(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new ce(204,!1);const a=function Lr(i){return i&&(i[ai]||i[Vr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new ce(204,!1)}function Ev(i,o,a){let c;if(xs(i)){const d=Z(i);return $a(d)||wv(d)}if(zl(i))c=()=>Z(i.useValue);else if(function Ap(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...Ki(i.deps||[]));else if(function bm(i){return!(!i||!i.useExisting)}(i))c=()=>hn(Z(i.useExisting));else{const d=Z(i&&(i.useClass||i.provide));if(!function Iv(i){return!!i.deps}(i))return $a(d)||wv(d);c=()=>new d(...Ki(i.deps))}return c}function _h(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function wh(i,o){for(const a of i)Array.isArray(a)?wh(a,o):a&&we(a)?wh(a.\u0275providers,o):o(a)}class RD{}class J0{}class ew{resolveComponentFactory(o){throw function ND(i){const o=Error(`No component factory found for ${ve(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Eh=(()=>{class i{}return i.NULL=new ew,i})();function Sm(){return vu(nr(),oe())}function vu(i,o){return new Ih(lr(i,o))}let Ih=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Sm,i})();function Mp(i){return i instanceof Ih?i.nativeElement:i}class bv{}let OD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function PD(){const i=oe(),a=zn(nr().index,i);return($r(a)?a:i)[Lt]}(),i})(),kD=(()=>{class i{}return i.\u0275prov=wt({token:i,providedIn:"root",factory:()=>null}),i})();class tw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const nw=new tw("15.2.9"),Am={},Tv="ngOriginalError";function Sv(i){return i[Tv]}class Rp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Sv(o);for(;a&&Sv(a);)a=Sv(a);return a||null}}function ya(i){return i instanceof Function?i():i}function uw(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=o.length;if(d+g===c||i.charCodeAt(d+g)<=32)return d}a=d+1}}const Av="ng-template";function xv(i,o,a){let c=0,d=!0;for(;c<i.length;){let g=i[c++];if("string"==typeof g&&d){const _=i[c++];if(a&&"class"===g&&-1!==uw(_.toLowerCase(),o,0))return!0}else{if(1===g){for(;c<i.length&&"string"==typeof(g=i[c++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(d=!1)}}return!1}function Mv(i){return 4===i.type&&i.value!==Av}function Dh(i,o,a){return o===(4!==i.type||a?i.value:Av)}function Rv(i,o,a){let c=4;const d=i.attrs||[],g=function lw(i){for(let o=0;o<i.length;o++)if(dl(i[o]))return o;return i.length}(d);let _=!1;for(let I=0;I<o.length;I++){const C=o[I];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!Dh(i,C,a)||""===C&&1===o.length){if(Mo(c))return!1;_=!0}}else{const x=8&c?C:o[++I];if(8&c&&null!==i.attrs){if(!xv(i.attrs,x,a)){if(Mo(c))return!1;_=!0}continue}const F=cw(8&c?"class":C,d,Mv(i),a);if(-1===F){if(Mo(c))return!1;_=!0;continue}if(""!==x){let G;G=F>g?"":d[F+1].toLowerCase();const Y=8&c?G:null;if(Y&&-1!==uw(Y,x,0)||2&c&&x!==G){if(Mo(c))return!1;_=!0}}}}else{if(!_&&!Mo(c)&&!Mo(C))return!1;if(_&&Mo(C))continue;_=!1,c=C|1&c}}return Mo(c)||_}function Mo(i){return 0==(1&i)}function cw(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let g=!1;for(;d<o.length;){const _=o[d];if(_===i)return d;if(3===_||6===_)g=!0;else{if(1===_||2===_){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=g?1:2}return-1}return function dw(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Op(i,o,a=!1){for(let c=0;c<o.length;c++)if(Rv(i,o[c],a))return!0;return!1}function hw(i,o){return i?":not("+o.trim()+")":o}function HD(i){let o=i[0],a=1,c=2,d="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&c){const I=i[++a];d+="["+_+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Mo(_)&&(o+=hw(g,d),d=""),c=_,g=g||!Mo(c);a++}return""!==d&&(o+=hw(g,d)),o}const kt={};function fw(i){pw(Vt(),oe(),hr()+i,!1)}function pw(i,o,a,c){if(!c)if(3==(3&o[Mt])){const g=i.preOrderCheckHooks;null!==g&&al(o,g,a)}else{const g=i.preOrderHooks;null!==g&&ul(o,g,0,a)}es(a)}function mw(i,o=null,a=null,c){const d=Nv(i,o,a,c);return d.resolveInjectorInitializers(),d}function Nv(i,o=null,a=null,c,d=new Set){const g=[a||Ce,de(i)];return c=c||("object"==typeof i?void 0:ve(i)),new Y0(g,o||Dc(),c||null,d)}let Ch=(()=>{class i{static create(a,c){if(Array.isArray(a))return mw({name:""},c,a,"");{const d=a.name??"";return mw({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Xt,i.NULL=new q,i.\u0275prov=wt({token:i,providedIn:"any",factory:()=>hn(M)}),i.__NG_ELEMENT_ID__=-1,i})();function Sh(i,o=lt.Default){const a=oe();return null===a?hn(i,o):Wd(nr(),a,Z(i),o)}function Ew(){throw new Error("invalid")}function Iw(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const g=a[c+1];if(-1!==g){const _=i.data[g];Fd(a[c]),_.contentQueries(2,o[g],g)}}}function Nm(i,o,a,c,d,g,_,I,C,x,R){const F=o.blueprint.slice();return F[li]=d,F[Mt]=76|c,(null!==R||i&&1024&i[Mt])&&(F[Mt]|=1024),ws(F),F[Dn]=F[qs]=i,F[Bn]=a,F[zs]=_||i&&i[zs],F[Lt]=I||i&&i[Lt],F[Mu]=C||i&&i[Mu]||null,F[ka]=x||i&&i[ka]||null,F[cr]=g,F[jo]=function dc(){return Bi++}(),F[Ar]=R,F[er]=2==o.type?i[er]:F,F}function Lp(i,o,a,c,d){let g=i.data[o];if(null===g)g=function Lv(i,o,a,c,d){const g=rl(),_=Bu(),C=i.data[o]=function uC(i,o,a,c,d,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C,C.prev=g)),C}(i,o,a,c,d),function $u(){return Nt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=a,g.value=c,g.attrs=d;const _=function Wa(){const i=Nt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return gi(g,!0),g}function wr(i,o,a,c){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Vp(i,o,a){Ko(o);try{const c=i.viewQuery;null!==c&&jp(1,c,a);const d=i.template;null!==d&&Cw(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Iw(i,o),i.staticViewQueries&&jp(2,i.viewQuery,a);const g=i.components;null!==g&&function Dw(i,o){for(let a=0;a<o.length;a++)pC(i,o[a])}(o,g)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[Mt]&=-5,Ld()}}function Om(i,o,a,c){const d=o[Mt];if(128!=(128&d)){Ko(o);try{ws(o),function Es(i){return Nt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Cw(i,o,a,2,c);const _=3==(3&d);if(_){const x=i.preOrderCheckHooks;null!==x&&al(o,x,null)}else{const x=i.preOrderHooks;null!==x&&ul(o,x,0,null),Ya(o,0)}if(function Mw(i){for(let o=ah(i);null!==o;o=fc(o)){if(!o[Ru])continue;const a=o[La];for(let c=0;c<a.length;c++){const d=a[c];512&d[Mt]||za(d[Dn],1),d[Mt]|=512}}}(o),function Ah(i){for(let o=ah(i);null!==o;o=fc(o))for(let a=xr;a<o.length;a++){const c=o[a],d=c[Xe];Ys(c)&&Om(d,c,d.template,c[Bn])}}(o),null!==i.contentQueries&&Iw(i,o),_){const x=i.contentCheckHooks;null!==x&&al(o,x)}else{const x=i.contentHooks;null!==x&&ul(o,x,1),Ya(o,1)}!function oC(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)es(~d);else{const g=d,_=a[++c],I=a[++c];Hu(_,g),I(2,o[g])}}}finally{es(-1)}}(i,o);const I=i.components;null!==I&&function aC(i,o){for(let a=0;a<o.length;a++)Hv(i,o[a])}(o,I);const C=i.viewQuery;if(null!==C&&jp(2,C,c),_){const x=i.viewCheckHooks;null!==x&&al(o,x)}else{const x=i.viewHooks;null!==x&&ul(o,x,2),Ya(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Mt]&=-41,512&o[Mt]&&(o[Mt]&=-513,za(o[Dn],-1))}finally{Ld()}}}function Cw(i,o,a,c,d){const g=hr(),_=2&c;try{es(-1),_&&o.length>Sn&&pw(i,o,Sn,!1),fi(_?2:0,d),a(c,d)}finally{es(g),fi(_?3:1,d)}}function Ms(i,o,a){if(Va(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function bw(i,o,a){tl()&&(function km(i,o,a,c){const d=a.directiveStart,g=a.directiveEnd;Ua(a)&&function Bp(i,o,a){const c=lr(o,i),d=ge(a),g=i[zs],_=xh(i,Nm(i,d,null,a.onPush?32:16,c,o,g,g.createRenderer(c,a),null,null,null));i[o.index]=_}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||qd(a,o),te(c,o);const _=a.initialInputs;for(let I=d;I<g;I++){const C=i.data[I],x=qn(o,i,I,a);te(x,o),null!==_&&$v(0,I-d,x,C,0,_),hi(C)&&(zn(a.index,o)[Bn]=qn(o,i,I,a))}}(i,o,a,lr(a,o)),64==(64&a.flags)&&Nr(i,o,a))}function Vv(i,o,a=lr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],I=-1===_?a(o,i):i[_];i[d++]=I}}}function ge(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=_u(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function _u(i,o,a,c,d,g,_,I,C,x){const R=Sn+c,F=R+d,G=function Pm(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:kt);return a}(R,F),Y="function"==typeof x?x():x;return G[Xe]={type:i,blueprint:G,template:a,queries:null,viewQuery:I,declTNode:o,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:Y,incompleteFirstPass:!1}}function pn(i,o,a,c){const d=Ow(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&Nh(i).push(c,d.length-1))}function lo(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const g=i[d];null===c?et(a,o,d,g):c.hasOwnProperty(d)&&et(a,o,c[d],g)}return a}function et(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Di(i,o,a,c,d,g,_,I){const C=lr(o,a);let R,x=o.inputs;!I&&null!=x&&(R=x[c])?(Gv(i,a,R,c,d),Ua(o)&&function Up(i,o){const a=zn(o,i);16&a[Mt]||(a[Mt]|=32)}(a,o.index)):3&o.type&&(c=function Bt(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,o.value||"",c):d,g.setProperty(C,c,d))}function Bv(i,o,a,c){if(tl()){const d=null===c?null:{"":-1},g=function dC(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let g=0;g<a.length;g++){const _=a[g];if(Op(o,_.selectors,!1))if(c||(c=[]),hi(_))if(null!==_.findHostDirectiveDefs){const I=[];d=d||new Map,_.findHostDirectiveDefs(_,I,d),c.unshift(...I,_),Fm(i,o,I.length)}else c.unshift(_),Fm(i,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,c,d),c.push(_)}return null===c?null:[c,d]}(i,a);let _,I;null===g?_=I=null:[_,I]=g,null!==_&&Sw(i,o,a,_,d,I),d&&function jv(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new ce(-301,!1);c.push(o[d],g)}}}(a,c,d)}a.mergedAttrs=Cs(a.mergedAttrs,a.attrs)}function Sw(i,o,a,c,d,g){for(let x=0;x<c.length;x++)ns(qd(a,o),i,c[x].type);!function bi(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let x=0;x<c.length;x++){const R=c[x];R.providersResolver&&R.providersResolver(R)}let _=!1,I=!1,C=wr(i,o,c.length,null);for(let x=0;x<c.length;x++){const R=c[x];a.mergedAttrs=Cs(a.mergedAttrs,R.hostAttrs),hC(i,a,o,C,R),Aw(C,R,d),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const F=R.type.prototype;!_&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((i.preOrderHooks??(i.preOrderHooks=[])).push(a.index),_=!0),!I&&(F.ngOnChanges||F.ngDoCheck)&&((i.preOrderCheckHooks??(i.preOrderCheckHooks=[])).push(a.index),I=!0),C++}!function Uv(i,o,a){const d=o.directiveEnd,g=i.data,_=o.attrs,I=[];let C=null,x=null;for(let R=o.directiveStart;R<d;R++){const F=g[R],G=a?a.get(F):null,me=G?G.outputs:null;C=lo(F.inputs,R,C,G?G.inputs:null),x=lo(F.outputs,R,x,me);const Ue=null===C||null===_||Mv(o)?null:fC(C,R,_);I.push(Ue)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=I,o.inputs=C,o.outputs=x}(i,a,g)}function Nr(i,o,a){const c=a.directiveStart,d=a.directiveEnd,g=a.index,_=function Yf(){return Nt.lFrame.currentDirectiveIndex}();try{es(g);for(let I=c;I<d;I++){const C=i.data[I],x=o[I];jn(I),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&bc(C,x)}}finally{es(-1),jn(_)}}function bc(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Fm(i,o,a){o.componentOffset=a,(i.components??(i.components=[])).push(o.index)}function Aw(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;hi(o)&&(a[""]=i)}}function hC(i,o,a,c,d){i.data[c]=d;const g=d.factory||(d.factory=$a(d.type)),_=new mi(g,hi(d),Sh);i.blueprint[c]=_,a[c]=_,function lC(i,o,a,c,d){const g=d.hostBindings;if(g){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const I=~o.index;(function Ci(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(_)!=I&&_.push(I),_.push(a,c,g)}}(i,o,c,wr(i,a,d.hostVars,kt),d)}function Rs(i,o,a,c,d,g){const _=lr(i,o);!function ho(i,o,a,c,d,g,_){if(null==g)i.removeAttribute(o,d,a);else{const I=null==_?ke(g):_(g,c||"",d);i.setAttribute(o,d,I,a)}}(o[Lt],_,g,i.value,a,c,d)}function $v(i,o,a,c,d,g){const _=g[o];if(null!==_){const I=c.setInput;for(let C=0;C<_.length;){const x=_[C++],R=_[C++],F=_[C++];null!==I?c.setInput(a,F,x,R):a[R]=F}}}function fC(i,o,a){let c=null,d=0;for(;d<a.length;){const g=a[d];if(0!==g)if(5!==g){if("number"==typeof g)break;if(i.hasOwnProperty(g)){null===c&&(c=[]);const _=i[g];for(let I=0;I<_.length;I+=2)if(_[I]===o){c.push(g,_[I+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function xw(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function Hv(i,o){const a=zn(o,i);if(Ys(a)){const c=a[Xe];48&a[Mt]?Om(c,a,c.template,a[Bn]):a[di]>0&&Lm(a)}}function Lm(i){for(let c=ah(i);null!==c;c=fc(c))for(let d=xr;d<c.length;d++){const g=c[d];if(Ys(g))if(512&g[Mt]){const _=g[Xe];Om(_,g,_.template,g[Bn])}else g[di]>0&&Lm(g)}const a=i[Xe].components;if(null!==a)for(let c=0;c<a.length;c++){const d=zn(a[c],i);Ys(d)&&d[di]>0&&Lm(d)}}function pC(i,o){const a=zn(o,i),c=a[Xe];(function Rw(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Vp(c,a,a[Bn])}function xh(i,o){return i[vs]?i[Fa][Jr]=o:i[vs]=o,i[Fa]=o,o}function Mh(i){for(;i;){i[Mt]|=32;const o=Tl(i);if(Gf(i)&&!o)return i;i=o}return null}function Rh(i,o,a,c=!0){const d=o[zs];d.begin&&d.begin();try{Om(i,o,i.template,a)}catch(_){throw c&&Oh(o,_),_}finally{d.end&&d.end()}}function jp(i,o,a){Fd(0),o(i,a)}function Ow(i){return i[ys]||(i[ys]=[])}function Nh(i){return i.cleanup||(i.cleanup=[])}function Oh(i,o){const a=i[ka],c=a?a.get(Rp,null):null;c&&c.handleError(o)}function Gv(i,o,a,c,d){for(let g=0;g<a.length;){const _=a[g++],I=a[g++],C=o[_],x=i.data[_];null!==x.setInput?x.setInput(C,d,c,I):C[I]=d}}function Kl(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const I=o[_];"number"==typeof I?g=I:1==g?d=pe(d,I):2==g&&(c=pe(c,I+": "+o[++_]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function Ph(i,o,a,c,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(tr(g)),Pi(g))for(let I=xr;I<g.length;I++){const C=g[I],x=C[Xe].firstChild;null!==x&&Ph(C[Xe],C,x,c)}const _=a.type;if(8&_)Ph(i,o,a.child,c);else if(32&_){const I=ro(a,o);let C;for(;C=I();)c.push(C)}else if(16&_){const I=yp(o,a);if(Array.isArray(I))c.push(...I);else{const C=Tl(o[er]);Ph(C[Xe],C,I,c,!0)}}a=d?a.projectionNext:a.next}return c}class $p{get rootNodes(){const o=this._lView,a=o[Xe];return Ph(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(o){this._lView[Bn]=o}get destroyed(){return 128==(128&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Dn];if(Pi(o)){const a=o[Zs],c=a?a.indexOf(this):-1;c>-1&&(Al(o,c),iu(a,c))}this._attachedToViewContainer=!1}dh(this._lView[Xe],this._lView)}onDestroy(o){pn(this._lView[Xe],this._lView,null,o)}markForCheck(){Mh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-65}reattach(){this._lView[Mt]|=64}detectChanges(){Rh(this._lView[Xe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ch(i,o){gu(i,o,o[Lt],2,null,null)}(this._lView[Xe],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=o}}class kw extends $p{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Rh(o[Xe],o,o[Bn],!1)}checkNoChanges(){}get context(){return null}}class zv extends Eh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=tt(o);return new Yl(a,this.ngModule)}}function qv(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Wv{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=Tr(c);const d=this.injector.get(o,Am,c);return d!==Am||a===Am?d:this.parentInjector.get(o,a,c)}}class Yl extends J0{get inputs(){return qv(this.componentDef.inputs)}get outputs(){return qv(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function GD(i){return i.map(HD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let g=(d=d||this.ngModule)instanceof yu?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new Wv(o,g):o,I=_.get(bv,null);if(null===I)throw new ce(407,!1);const C=_.get(kD,null),x=I.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",F=c?function Cc(i,o,a){return i.selectRootElement(o,a===le.ShadowDom)}(x,c,this.componentDef.encapsulation):dp(x,R,function Vm(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),G=this.componentDef.onPush?288:272,Y=_u(0,null,null,1,0,null,null,null,null,null),me=Nm(null,Y,null,G,null,null,I,x,C,_,null);let Ue,Je;Ko(me);try{const ct=this.componentDef;let St,Se=null;ct.findHostDirectiveDefs?(St=[],Se=new Map,ct.findHostDirectiveDefs(ct,St,Se),St.push(ct)):St=[ct];const Ft=function Lw(i,o){const a=i[Xe],c=Sn;return i[c]=o,Lp(a,c,2,"#host",null)}(me,F),Qn=function Vw(i,o,a,c,d,g,_,I){const C=d[Xe];!function mC(i,o,a,c){for(const d of i)o.mergedAttrs=Cs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Kl(o,o.mergedAttrs,!0),null!==a&&Ol(c,a,o))}(c,i,o,_);const x=g.createRenderer(o,a),R=Nm(d,ge(a),null,a.onPush?32:16,d[i.index],i,g,x,I||null,null,null);return C.firstCreatePass&&Fm(C,i,c.length-1),xh(d,R),d[i.index]=R}(Ft,F,ct,St,me,I,x);Je=Nd(Y,Sn),F&&function Bw(i,o,a,c){if(c)Xo(i,a,["ng-version",nw.full]);else{const{attrs:d,classes:g}=function zD(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let g=i[c];if("string"==typeof g)2===d?""!==g&&o.push(g,i[++c]):8===d&&a.push(g);else{if(!Mo(d))break;d=g}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Xo(i,a,d),g&&g.length>0&&ga(i,a,g.join(" "))}}(x,ct,F,c),void 0!==a&&function Kv(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const g=a[d];c.push(null!=g?Array.from(g):null)}}(Je,this.ngContentSelectors,a),Ue=function Uw(i,o,a,c,d,g){const _=nr(),I=d[Xe],C=lr(_,d);Sw(I,d,_,a,null,c);for(let R=0;R<a.length;R++)te(qn(d,I,_.directiveStart+R,_),d);Nr(I,d,_),C&&te(C,d);const x=qn(d,I,_.directiveStart+_.componentOffset,_);if(i[Bn]=d[Bn]=x,null!==g)for(const R of g)R(x,o);return Ms(I,_,i),x}(Qn,ct,St,Se,me,[jw]),Vp(Y,me,null)}finally{Ld()}return new Zv(this.componentType,Ue,vu(Je,me),me,Je)}}class Zv extends RD{constructor(o,a,c,d,g){super(),this.location=c,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new kw(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const g=this._rootLView;Gv(g[Xe],g,d,o,a),Mh(zn(this._tNode.index,g))}}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function jw(){const i=nr();Yo(oe()[Xe],i)}function Hp(i){let o=function $w(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(hi(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ce(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const _=i;_.inputs=Gp(i.inputs),_.declaredInputs=Gp(i.declaredInputs),_.outputs=Gp(i.outputs);const I=d.hostBindings;I&&Um(i,I);const C=d.viewQuery,x=d.contentQueries;if(C&&zr(i,C),x&&ii(i,x),fe(i.inputs,d.inputs),fe(i.declaredInputs,d.declaredInputs),fe(i.outputs,d.outputs),hi(d)&&d.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let _=0;_<g.length;_++){const I=g[_];I&&I.ngInherit&&I(i),I===Hp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Yv(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Cs(d.hostAttrs,a=Cs(a,d.hostAttrs))}}(c)}function Gp(i){return i===X?{}:i===Ce?[]:i}function zr(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function ii(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,g)=>{o(c,d,g),a(c,d,g)}:o}function Um(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}function Fh(i){return!!Lh(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Lh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function fo(i,o,a){return i[o]=a}function Ti(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function jm(i,o,a,c){const d=oe();return Ti(d,Is(),o)&&(Vt(),Rs(An(),d,i,o,a,c)),jm}function Uh(i,o,a,c){return Ti(i,Is(),a)?o+ke(a)+c:kt}function zh(i,o,a,c,d,g,_,I){const C=oe(),x=Vt(),R=i+Sn,F=x.firstCreatePass?function qw(i,o,a,c,d,g,_,I,C){const x=o.consts,R=Lp(o,i,4,_||null,pi(x,I));Bv(o,a,R,pi(x,C)),Yo(o,R);const F=R.tView=_u(2,R,c,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,R),F.queries=o.queries.embeddedTView(R)),R}(R,x,C,o,a,c,d,g,_):x.data[R];gi(F,!1);const G=C[Lt].createComment("");mc(x,C,G,F),te(G,C),xh(C,C[R]=xw(G,C,G,F)),Nu(F)&&bw(x,C,F),null!=_&&Vv(C,F,I)}function Hm(i){return Xr(function kd(){return Nt.lFrame.contextLView}(),Sn+i)}function Wp(i,o,a){const c=oe();return Ti(c,Is(),o)&&Di(Vt(),An(),c,i,o,c[Lt],a,!1),Wp}function qh(i,o,a,c,d){const _=d?"class":"style";Gv(i,a,o.inputs[_],_,c)}function Kp(i,o,a,c){const d=oe(),g=Vt(),_=Sn+i,I=d[Lt],C=g.firstCreatePass?function Zp(i,o,a,c,d,g){const _=o.consts,C=Lp(o,i,2,c,pi(_,d));return Bv(o,a,C,pi(_,g)),null!==C.attrs&&Kl(C,C.attrs,!1),null!==C.mergedAttrs&&Kl(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(_,g,d,o,a,c):g.data[_],x=d[_]=dp(I,o,function $d(){return Nt.lFrame.currentNamespace}()),R=Nu(C);return gi(C,!0),Ol(I,x,C),32!=(32&C.flags)&&mc(g,d,x,C),0===function zo(){return Nt.lFrame.elementDepthCount}()&&te(x,d),function Od(){Nt.lFrame.elementDepthCount++}(),R&&(bw(g,d,C),Ms(g,C,d)),null!==c&&Vv(d,C),Kp}function Gm(){let i=nr();Bu()?function ju(){Nt.lFrame.isParent=!1}():(i=i.parent,gi(i,!1));const o=i;!function Uu(){Nt.lFrame.elementDepthCount--}();const a=Vt();return a.firstCreatePass&&(Yo(a,i),Va(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function cl(i){return 0!=(8&i.flags)}(o)&&qh(a,o,oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ll(i){return 0!=(16&i.flags)}(o)&&qh(a,o,oe(),o.stylesWithoutHost,!1),Gm}function Yp(i,o,a,c){return Kp(i,o,a,c),Gm(),Yp}function o_(){return oe()}function a_(i){return!!i&&"function"==typeof i.then}function Wh(i){return!!i&&"function"==typeof i.subscribe}const u_=Wh;function Zh(i,o,a,c){const d=oe(),g=Vt(),_=nr();return function Wm(i,o,a,c,d,g,_){const I=Nu(c),x=i.firstCreatePass&&Nh(i),R=o[Bn],F=Ow(o);let G=!0;if(3&c.type||_){const Ue=lr(c,o),Je=_?_(Ue):Ue,ct=F.length,St=_?Ft=>_(tr(Ft[c.index])):c.index;let Se=null;if(!_&&I&&(Se=function Jl(i,o,a,c){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const _=d[g];if(_===a&&d[g+1]===c){const I=o[ys],C=d[g+2];return I.length>C?I[C]:null}"string"==typeof _&&(g+=2)}return null}(i,o,d,c.index)),null!==Se)(Se.__ngLastListenerFn__||Se).__ngNextListenerFn__=g,Se.__ngLastListenerFn__=g,G=!1;else{g=Zw(c,o,R,g,!1);const Ft=a.listen(Je,d,g);F.push(g,Ft),x&&x.push(d,St,ct,ct+1)}}else g=Zw(c,o,R,g,!1);const Y=c.outputs;let me;if(G&&null!==Y&&(me=Y[d])){const Ue=me.length;if(Ue)for(let Je=0;Je<Ue;Je+=2){const Qn=o[me[Je]][me[Je+1]].subscribe(g),yr=F.length;F.push(g,Qn),x&&x.push(d,c.index,yr,-(yr+1))}}}(g,d,d[Lt],_,i,o,c),Zh}function Ww(i,o,a,c){try{return fi(6,o,a),!1!==a(c)}catch(d){return Oh(i,d),!1}finally{fi(7,o,a)}}function Zw(i,o,a,c,d){return function g(_){if(_===Function)return c;Mh(i.componentOffset>-1?zn(i.index,o):o);let C=Ww(o,a,c,_),x=g.__ngNextListenerFn__;for(;x;)C=Ww(o,a,x,_)&&C,x=x.__ngNextListenerFn__;return d&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function c_(i=1){return function sl(i){return(Nt.lFrame.contextLView=function Vd(i,o){for(;i>0;)o=o[qs],i--;return o}(i,Nt.lFrame.contextLView))[Bn]}(i)}function Oo(i,o,a){return Yh(i,"",o,"",a),Oo}function Yh(i,o,a,c,d){const g=oe(),_=Uh(g,o,a,c);return _!==kt&&Di(Vt(),An(),g,i,_,g[Lt],d,!1),Yh}function Zm(i,o){return i<<17|o<<2}function Tc(i){return i>>17&32767}function ed(i){return 2|i}function ls(i){return(131068&i)>>2}function Km(i,o){return-131069&i|o<<2}function Ym(i){return 1|i}function Xw(i,o,a,c,d){const g=i[a+1],_=null===o;let I=c?Tc(g):ls(g),C=!1;for(;0!==I&&(!1===C||_);){const R=i[I+1];eE(i[I],o)&&(C=!0,i[I+1]=c?Ym(R):ed(R)),I=c?Tc(R):ls(R)}C&&(i[a+1]=c?ed(g):Ym(g))}function eE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Li(i,o)>=0}function m_(i,o){return function Po(i,o,a,c){const d=oe(),g=Vt(),_=function ei(i){const o=Nt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function v_(i,o,a,c){const d=i.data;if(null===d[a+1]){const g=d[hr()],_=function y_(i,o){return o>=i.expandoStartIndex}(i,a);(function D_(i,o){return 0!=(i.flags&(o?8:16))})(g,c)&&null===o&&!_&&(o=!1),o=function ey(i,o,a,c){const d=function Gu(i){const o=Nt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=tf(a=__(null,i,o,a,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==d)if(a=__(d,i,o,a,c),null===g){let C=function sE(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==ls(c))return i[Tc(c)]}(i,o,c);void 0!==C&&Array.isArray(C)&&(C=__(null,i,o,C[1],c),C=tf(C,o.attrs,c),function _a(i,o,a,c){i[Tc(a?o.classBindings:o.styleBindings)]=c}(i,o,c,C))}else g=function oE(i,o,a){let c;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)c=tf(c,i[g].hostAttrs,a);return tf(c,o.attrs,a)}(i,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,c),function bC(i,o,a,c,d,g){let _=g?o.classBindings:o.styleBindings,I=Tc(_),C=ls(_);i[c]=a;let R,x=!1;if(Array.isArray(a)?(R=a[1],(null===R||Li(a,R)>0)&&(x=!0)):R=a,d)if(0!==C){const G=Tc(i[I+1]);i[c+1]=Zm(G,I),0!==G&&(i[G+1]=Km(i[G+1],c)),i[I+1]=function CC(i,o){return 131071&i|o<<17}(i[I+1],c)}else i[c+1]=Zm(I,0),0!==I&&(i[I+1]=Km(i[I+1],c)),I=c;else i[c+1]=Zm(C,0),0===I?I=c:i[C+1]=Km(i[C+1],c),C=c;x&&(i[c+1]=ed(i[c+1])),Xw(i,R,c,!0),Xw(i,R,c,!1),function Jw(i,o,a,c,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Li(g,o)>=0&&(a[c+1]=Ym(a[c+1]))}(o,R,i,c,g),_=Zm(I,C),g?o.classBindings=_:o.styleBindings=_}(d,g,o,a,_,c)}}(g,i,_,c),o!==kt&&Ti(d,_,o)&&function rg(i,o,a,c,d,g,_,I){if(!(3&o.type))return;const C=i.data,x=C[I+1],R=function Qw(i){return 1==(1&i)}(x)?I_(C,o,a,d,ls(x),_):void 0;td(R)||(td(g)||function DC(i){return 2==(2&i)}(x)&&(g=I_(C,null,a,d,I,_)),function so(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:It.DashCase;null==d?i.removeStyle(a,c,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=It.Important),i.setStyle(a,c,d,g))}}(c,_,Go(hr(),a),d,g))}(g,g.data[hr()],d,d[Lt],i,d[_+1]=function AC(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ve(oo(i)))),i}(o,a),c,_)}(i,o,null,!0),m_}function __(i,o,a,c,d){let g=null;const _=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<_&&(g=o[I],c=tf(c,g.hostAttrs,d),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),c}function tf(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),vi(i,_,!!a||o[++g]))}return void 0===i?null:i}function I_(i,o,a,c,d,g){const _=null===o;let I;for(;d>0;){const C=i[d],x=Array.isArray(C),R=x?C[1]:C,F=null===R;let G=a[d+1];G===kt&&(G=F?Ce:void 0);let Y=F?fn(G,c):R===c?G:void 0;if(x&&!td(Y)&&(Y=fn(C,c)),td(Y)&&(I=Y,_))return I;const me=i[d+1];d=_?Tc(me):ls(me)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(I=fn(C,c))}return I}function td(i){return void 0!==i}function rf(i,o=""){const a=oe(),c=Vt(),d=i+Sn,g=c.firstCreatePass?Lp(c,d,1,o,null):c.data[d],_=a[d]=function pc(i,o){return i.createText(o)}(a[Lt],o);mc(c,a,_,g),gi(g,!1)}function ty(i){return ig("",i,""),ty}function ig(i,o,a){const c=oe(),d=Uh(c,i,o,a);return d!==kt&&function wu(i,o,a){const c=Go(o,i);!function lp(i,o,a){i.setValue(o,a)}(i[Lt],c,a)}(c,hr(),d),ig}const rd=void 0;var O_=["en",[["a","p"],["AM","PM"],rd],[["AM","PM"],rd,rd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rd,"{1} 'at' {0}",rd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function RC(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let cf={};function oy(i){const o=function gE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=pE(o);if(a)return a;const c=o.split("-")[0];if(a=pE(c),a)return a;if("en"===c)return O_;throw new ce(701,!1)}function cg(i){return oy(i)[Et.PluralCase]}function pE(i){return i in cf||(cf[i]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[i]),cf[i]}var Et=(()=>((Et=Et||{})[Et.LocaleId=0]="LocaleId",Et[Et.DayPeriodsFormat=1]="DayPeriodsFormat",Et[Et.DayPeriodsStandalone=2]="DayPeriodsStandalone",Et[Et.DaysFormat=3]="DaysFormat",Et[Et.DaysStandalone=4]="DaysStandalone",Et[Et.MonthsFormat=5]="MonthsFormat",Et[Et.MonthsStandalone=6]="MonthsStandalone",Et[Et.Eras=7]="Eras",Et[Et.FirstDayOfWeek=8]="FirstDayOfWeek",Et[Et.WeekendRange=9]="WeekendRange",Et[Et.DateFormat=10]="DateFormat",Et[Et.TimeFormat=11]="TimeFormat",Et[Et.DateTimeFormat=12]="DateTimeFormat",Et[Et.NumberSymbols=13]="NumberSymbols",Et[Et.NumberFormats=14]="NumberFormats",Et[Et.CurrencyCode=15]="CurrencyCode",Et[Et.CurrencySymbol=16]="CurrencySymbol",Et[Et.CurrencyName=17]="CurrencyName",Et[Et.Currencies=18]="Currencies",Et[Et.Directionality=19]="Directionality",Et[Et.PluralCase=20]="PluralCase",Et[Et.ExtraData=21]="ExtraData",Et))();const ks="en-US";let uy=ks;function dy(i,o,a,c,d){if(i=Z(i),Array.isArray(i))for(let g=0;g<i.length;g++)dy(i[g],o,a,c,d);else{const g=Vt(),_=oe();let I=xs(i)?i:Z(i.provide),C=Ev(i);const x=nr(),R=1048575&x.providerIndexes,F=x.directiveStart,G=x.providerIndexes>>20;if(xs(i)||!i.multi){const Y=new mi(C,d,Sh),me=mg(I,o,d?R:R+G,F);-1===me?(ns(qd(x,_),g,I),hy(g,i,o.length),o.push(I),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(Y),_.push(Y)):(a[me]=Y,_[me]=Y)}else{const Y=mg(I,o,R+G,F),me=mg(I,o,R,R+G),Je=me>=0&&a[me];if(d&&!Je||!d&&!(Y>=0&&a[Y])){ns(qd(x,_),g,I);const ct=function UE(i,o,a,c,d){const g=new mi(i,a,Sh);return g.multi=[],g.index=o,g.componentProviders=0,LE(g,d,c&&!a),g}(d?VE:Zr,a.length,d,c,C);!d&&Je&&(a[me].providerFactory=ct),hy(g,i,o.length,0),o.push(I),x.directiveStart++,x.directiveEnd++,d&&(x.providerIndexes+=1048576),a.push(ct),_.push(ct)}else hy(g,i,Y>-1?Y:me,LE(a[d?me:Y],C,!d&&c));!d&&c&&Je&&a[me].componentProviders++}}}function hy(i,o,a,c){const d=xs(o),g=function ql(i){return!!i.useClass}(o);if(d||g){const C=(g?Z(o.useClass):o).prototype.ngOnDestroy;if(C){const x=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const R=x.indexOf(a);-1===R?x.push(a,[c,C]):x[R+1].push(c,C)}else x.push(a,C)}}}function LE(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function mg(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function Zr(i,o,a,c){return Ca(this.multi,[])}function VE(i,o,a,c){const d=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,I=qn(a,a[Xe],this.providerFactory.index,c);g=I.slice(0,_),Ca(d,g);for(let C=_;C<I.length;C++)g.push(I[C])}else g=[],Ca(d,g);return g}function Ca(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function On(i,o=[]){return a=>{a.providersResolver=(c,d)=>function KC(i,o,a){const c=Vt();if(c.firstCreatePass){const d=hi(i);dy(a,c.data,c.blueprint,d,!0),dy(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Du{}class Kr{}function Hn(i,o){return new od(i,o??null)}class od extends Du{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zv(this);const c=Rn(o);this._bootstrapComponents=ya(c.bootstrap),this._r3Injector=Nv(o,a,[{provide:Du,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ai extends Kr{constructor(o){super(),this.moduleType=o}create(o){return new od(this.moduleType,o)}}class BE extends Du{constructor(o,a,c){super(),this.componentFactoryResolver=new zv(this),this.instance=null;const d=new Y0([...o,{provide:Du,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],a||Dc(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function j_(i,o,a=null){return new BE(i,o,a).injector}let Pr=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=je(0,a.type),d=c.length>0?j_([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=wt({token:i,providedIn:"environment",factory:()=>new i(hn(yu))}),i})();function jE(i){i.getStandaloneInjector=o=>o.get(Pr).getOrCreateStandaloneInjector(i)}function Oc(i,o,a,c){return H_(oe(),dr(),i,o,a,c)}function py(i,o,a,c,d){return function G_(i,o,a,c,d,g,_){const I=o+a;return function Ro(i,o,a,c){const d=Ti(i,o,a);return Ti(i,o+1,c)||d}(i,I,d,g)?fo(i,I+2,_?c.call(_,d,g):c(d,g)):Cg(i,I+2)}(oe(),dr(),i,o,a,c,d)}function Cg(i,o){const a=i[o];return a===kt?void 0:a}function H_(i,o,a,c,d,g){const _=o+a;return Ti(i,_,d)?fo(i,_+1,g?c.call(g,d):c(d)):Cg(i,_+1)}function Cu(i,o){const a=Vt();let c;const d=i+Sn;a.firstCreatePass?(c=function zE(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const g=c.factory||(c.factory=$a(c.type)),_=Er(Sh);try{const I=Xa(!1),C=g();return Xa(I),function i_(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,oe(),d,C),C}finally{Er(_)}}function ud(i,o,a){const c=i+Sn,d=oe(),g=Xr(d,c);return function Sa(i,o){return i[Xe].data[o].pure}(d,c)?H_(d,dr(),o,g.transform,a,g):g.transform(a)}function bg(i){return o=>{setTimeout(i,void 0,o)}}const Uo=class q_ extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,g=a||(()=>null),_=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),g=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(g=bg(g),d&&(d=bg(d)),_&&(_=bg(_)));const I=super.subscribe({next:d,error:g,complete:_});return o instanceof Q.w0&&o.add(I),I}};function W_(){return this._results[Symbol.iterator]()}class my{get changes(){return this._changes||(this._changes=new Uo)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=my.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=W_)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Fi(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function ru(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],g=o[c];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yf=(()=>{class i{}return i.__NG_ELEMENT_ID__=rb,i})();const WE=yf,nb=class extends WE{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tView,d=Nm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[Bo]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[Yi];return null!==_&&(d[Yi]=_.createEmbeddedView(c)),Vp(c,d,o),new $p(d)}};function rb(){return yy(nr(),oe())}function yy(i,o){return 4&i.type?new nb(o,i,vu(i,o)):null}let Tg=(()=>{class i{}return i.__NG_ELEMENT_ID__=ib,i})();function ib(){return vy(nr(),oe())}const ZE=Tg,KE=class extends ZE{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return vu(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const o=tp(this._hostTNode,this._hostLView);if(ts(o)){const a=Yu(o,this._hostLView),c=_o(o);return new bs(a[Xe].data[c+8],a)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=YE(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-xr}createEmbeddedView(o,a,c){let d,g;"number"==typeof c?d=c:null!=c&&(d=c.index,g=c.injector);const _=o.createEmbeddedView(a||{},g);return this.insert(_,d),_}createComponent(o,a,c,d,g){const _=o&&!function nu(i){return"function"==typeof i}(o);let I;if(_)I=a;else{const F=a||{};I=F.index,c=F.injector,d=F.projectableNodes,g=F.environmentInjector||F.ngModuleRef}const C=_?o:new Yl(tt(o)),x=c||this.parentInjector;if(!g&&null==C.ngModule){const G=(_?x:this.parentInjector).get(yu,null);G&&(g=G)}const R=C.create(x,d,void 0,g);return this.insert(R.hostView,I),R}insert(o,a){const c=o._lView,d=c[Xe];if(function _s(i){return Pi(i[Dn])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const F=c[Dn],G=new KE(F,F[cr],F[Dn]);G.detach(G.indexOf(o))}}const g=this._adjustIndex(a),_=this._lContainer;!function av(i,o,a,c){const d=xr+c,g=a.length;c>0&&(a[d-1][Jr]=o),c<g-xr?(o[Jr]=a[d],eh(a,xr+c,o)):(a.push(o),o[Jr]=null),o[Dn]=a;const _=o[Bo];null!==_&&a!==_&&function uv(i,o){const a=i[La];o[er]!==o[Dn][Dn][er]&&(i[Ru]=!0),null===a?i[La]=[o]:a.push(o)}(_,o);const I=o[Yi];null!==I&&I.insertView(i),o[Mt]|=64}(d,c,_,g);const I=Ii(g,_),C=c[Lt],x=io(C,_[Oi]);return null!==x&&function sv(i,o,a,c,d,g){c[li]=d,c[cr]=o,gu(i,c,a,1,d,g)}(d,_[cr],C,c,x,I),o.attachToViewContainerRef(),eh(Z_(_),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=YE(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Al(this._lContainer,a);c&&(iu(Z_(this._lContainer),a),dh(c[Xe],c))}detach(o){const a=this._adjustIndex(o,-1),c=Al(this._lContainer,a);return c&&null!=iu(Z_(this._lContainer),a)?new $p(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function YE(i){return i[Zs]}function Z_(i){return i[Zs]||(i[Zs]=[])}function vy(i,o){let a;const c=o[i.index];if(Pi(c))a=c;else{let d;if(8&i.type)d=tr(c);else{const g=o[Lt];d=g.createComment("");const _=lr(i,o);pa(g,io(g,_),d,function fp(i,o){return i.nextSibling(o)}(g,_),!1)}o[i.index]=a=xw(c,o,d,i),xh(o,a)}return new KE(a,i,o)}class bu{constructor(o){this.queryList=o,this.matches=null}clone(){return new bu(this.queryList)}setDirty(){this.queryList.setDirty()}}class cd{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<c;g++){const _=a.getByIndex(g);d.push(this.queries[_.indexInDeclarationView].clone())}return new cd(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==wy(o,a).matches&&this.queries[a].setDirty()}}class Sg{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class vf{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,d);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new vf(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class _y{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new _y(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const g=c[d];this.matchTNodeWithReadOption(o,a,QE(a,g)),this.matchTNodeWithReadOption(o,a,ea(a,o,g,!1,!1))}else c===yf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ea(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Ih||d===Tg||d===yf&&4&a.type)this.addMatch(a.index,-2);else{const g=ea(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function QE(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function JE(i,o,a,c){return-1===a?function Tu(i,o){return 11&i.type?vu(i,o):4&i.type?yy(i,o):null}(o,i):-2===a?function _f(i,o,a){return a===Ih?vu(o,i):a===yf?yy(o,i):a===Tg?vy(o,i):void 0}(i,o,c):qn(i,i[Xe],a,o)}function K_(i,o,a,c){const d=o[Yi].queries[c];if(null===d.matches){const g=i.data,_=a.matches,I=[];for(let C=0;C<_.length;C+=2){const x=_[C];I.push(x<0?null:JE(o,g[x],_[C+1],a.metadata.read))}d.matches=I}return d.matches}function Ag(i,o,a,c){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const _=K_(i,o,d,a);for(let I=0;I<g.length;I+=2){const C=g[I];if(C>0)c.push(_[I/2]);else{const x=g[I+1],R=o[-C];for(let F=xr;F<R.length;F++){const G=R[F];G[Bo]===G[Dn]&&Ag(G[Xe],G,x,c)}if(null!==R[La]){const F=R[La];for(let G=0;G<F.length;G++){const Y=F[G];Ag(Y[Xe],Y,x,c)}}}}}return c}function xg(i){const o=oe(),a=Vt(),c=Za();Fd(c+1);const d=wy(a,c);if(i.dirty&&function Zf(i){return 4==(4&i[Mt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?Ag(a,o,c,[]):K_(a,o,d,c);i.reset(g,Mp),i.notifyOnChanges()}return!0}return!1}function Pc(i,o,a,c){const d=Vt();if(d.firstCreatePass){const g=nr();(function wf(i,o,a){null===i.queries&&(i.queries=new vf),i.queries.track(new _y(o,a))})(d,new Sg(o,a,c),g.index),function XE(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function Mg(i,o,a){const c=new my(4==(4&a));pn(i,o,c,c.destroy),null===o[Yi]&&(o[Yi]=new cd),o[Yi].queries.push(new bu(c))}(d,oe(),a)}function xi(){return function Q_(i,o){return i[Yi].queries[o].queryList}(oe(),Za())}function wy(i,o){return i.queries.getByIndex(o)}function dd(i){return!!Rn(i)}function fd(...i){}const cI=new Kt("Application Initializer");let Ug=(()=>{class i{constructor(a){this.appInits=a,this.resolve=fd,this.reject=fd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(a_(g))a.push(g);else if(u_(g)){const _=new Promise((I,C)=>{g.subscribe({complete:I,error:C})});a.push(_)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(hn(cI,8))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const u0=new Kt("AppId",{providedIn:"root",factory:function by(){return`${pd()}${pd()}${pd()}`}});function pd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bf=new Kt("Platform Initializer"),Sy=new Kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let lI=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Bg=new Kt("LocaleId",{providedIn:"root",factory:()=>Br(Bg,lt.Optional|lt.SkipSelf)||function yb(){return typeof $localize<"u"&&$localize.locale||ks}()}),dI=new Kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vb{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let c0=(()=>{class i{compileModuleSync(a){return new Ai(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=ya(Rn(a).declarations).reduce((_,I)=>{const C=tt(I);return C&&_.push(new Yl(C)),_},[]);return new vb(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ma=(()=>Promise.resolve(0))();function jg(i){typeof Zone>"u"?Ma.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Vs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uo(!1),this.onMicrotaskEmpty=new Uo(!1),this.onStable=new Uo(!1),this.onError=new Uo(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function hI(){let i=on.requestAnimationFrame,o=on.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Db(i){const o=()=>{!function Ib(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(on,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,gd(i),i.isCheckStableRunning=!0,My(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),gd(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,g,_,I)=>{try{return Ry(i),a.invokeTask(d,g,_,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),pI(i)}},onInvoke:(a,c,d,g,_,I,C)=>{try{return Ry(i),a.invoke(d,g,_,I,C)}finally{i.shouldCoalesceRunChangeDetection&&o(),pI(i)}},onHasTask:(a,c,d,g)=>{a.hasTask(d,g),c===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,gd(i),My(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vs.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Vs.isInAngularZone())throw new ce(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+d,o,fI,fd,fd);try{return g.runTask(_,a,c)}finally{g.cancelTask(_)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const fI={};function My(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function gd(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ry(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function pI(i){i._nesting--,My(i)}class gI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uo,this.onMicrotaskEmpty=new Uo,this.onStable=new Uo,this.onError=new Uo}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const Ny=new Kt(""),l0=new Kt("");let h0,Cb=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,h0||(function bb(i){h0=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vs.assertNotInAngularZone(),jg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())jg(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(hn(Vs),hn(d0),hn(l0))},i.\u0275prov=wt({token:i,factory:i.\u0275fac}),i})(),d0=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return h0?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Au=!1;let Gi=null;const md=new Kt("AllowMultipleToken"),Oy=new Kt("PlatformDestroyListeners"),mI=new Kt("appBootstrapListener");class Tb{constructor(o,a){this.name=o,this.token=a}}function Vc(i,o,a=[]){const c=`Platform: ${o}`,d=new Kt(c);return(g=[])=>{let _=Hg();if(!_||_.injector.get(md,!1)){const I=[...a,...g,{provide:d,useValue:!0}];i?i(I):function _I(i){if(Gi&&!Gi.get(md,!1))throw new ce(400,!1);Gi=i;const o=i.get(p0);(function Lc(i){const o=i.get(bf,null);o&&o.forEach(a=>a())})(i)}(function f0(i=[],o){return Ch.create({name:o,providers:[{provide:xo,useValue:"platform"},{provide:Oy,useValue:new Set([()=>Gi=null])},...i]})}(I,c))}return function $g(i){const o=Hg();if(!o)throw new ce(401,!1);return o}()}}function Hg(){return Gi?.get(p0)??null}let p0=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function EI(i,o){let a;return a="noop"===i?new gI:("zone.js"===i?void 0:i)||new Vs(o),a}(c?.ngZone,function g0(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:Vs,useValue:d}];return d.run(()=>{const _=Ch.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(_),C=I.injector.get(Rp,null);if(!C)throw new ce(402,!1);return d.runOutsideAngular(()=>{const x=d.onError.subscribe({next:R=>{C.handleError(R)}});I.onDestroy(()=>{Uc(this._modules,I),x.unsubscribe()})}),function m0(i,o,a){try{const c=a();return a_(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(C,d,()=>{const x=I.injector.get(Ug);return x.runInitializers(),x.donePromise.then(()=>(function nt(i){Fe(i,"Expected localeId to be defined"),"string"==typeof i&&(uy=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(Bg,ks)||ks),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,c=[]){const d=y0({},c);return function yI(i,o,a){const c=new Ai(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const c=a.injector.get(yd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new ce(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Oy,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(hn(Ch))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function y0(i,o){return Array.isArray(o)?o.reduce(y0,i):{...i,...o}}let yd=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),_=new P.y(I=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Vs.assertNotInAngularZone(),jg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{C.unsubscribe(),x.unsubscribe()}});this.isStable=(0,re.T)(g,_.pipe((0,ne.B)()))}bootstrap(a,c){const d=a instanceof J0;if(!this._injector.get(Ug).done){!d&&Un(a);throw new ce(405,Au)}let _;_=d?a:this._injector.get(Eh).resolveComponentFactory(a),this.componentTypes.push(_.componentType);const I=function vI(i){return i.isBoundToModule}(_)?void 0:this._injector.get(Du),x=_.create(Ch.NULL,[],c||_.selector,I),R=x.location.nativeElement,F=x.injector.get(Ny,null);return F?.registerApplication(R),x.onDestroy(()=>{this.detachView(x.hostView),Uc(this.components,x),F?.unregisterApplication(R)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Uc(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(mI,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Uc(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new ce(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(hn(Vs),hn(yu),hn(Rp))},i.\u0275prov=wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Uc(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function II(){return!1}let vd=(()=>{class i{}return i.__NG_ELEMENT_ID__=jc,i})();function jc(i){return function DI(i,o,a){if(Ua(i)&&!a){const c=zn(i.index,o);return new $p(c,c)}return 47&i.type?new $p(o[er],o):null}(nr(),oe(),16==(16&i))}class zg{constructor(){}supports(o){return Fh(o)}create(o){return new xI(o)}}const Fy=(i,o)=>o;class xI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Fy}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,g=null;for(;a||c;){const _=!c||a&&a.currentIndex<Gc(c,d,g)?a:c,I=Gc(_,d,g),C=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{g||(g=[]);const x=I-d,R=C-d;if(x!=R){for(let G=0;G<x;G++){const Y=G<g.length?g[G]:g[G]=0,me=Y+G;R<=me&&me<x&&(g[G]=Y+1)}g[_.previousIndex]=R-x}}I!==C&&o(_,I,C)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Fh(o))throw new ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,_,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],_=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,g,_,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,I),c=!0),a=a._next}else d=0,function EC(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,I=>{_=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,_)?(c&&(a=this._verifyReinsertion(a,I,_,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,_,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Hc(a,c),g,d),o}_verifyReinsertion(o,a,c,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new w0),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Hc{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nf{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class w0{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new Nf,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gc(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class MI{constructor(){}supports(o){return o instanceof Map||Lh(o)}create(){return new Of}}class Of{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Lh(o)))throw new ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,_=d._next;return g&&(g._next=_),_&&(_._prev=g),d._next=null,d._prev=null,d}const c=new RI(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class RI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xu(){return new Ly([new zg])}let Ly=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||xu()),deps:[[i,new gt,new su]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new ce(901,!1)}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:xu}),i})();function E0(){return new I0([new MI])}let I0=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||E0()),deps:[[i,new gt,new su]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new ce(901,!1)}}return i.\u0275prov=wt({token:i,providedIn:"root",factory:E0}),i})();const Pb=Vc(null,"core",[]);let OI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(hn(yd))},i.\u0275mod=J({type:i}),i.\u0275inj=vn({}),i})();function kb(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},8140:(yt,De,k)=>{k.d(De,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=k(6881)},1274:(yt,De,k)=>{k.d(De,{Z:()=>f.Z});var f=k(3942)},1146:(yt,De,k)=>{k.r(De);var f=k(5861),Q=k(3942),P=k(2090),re=k(6881);function ve(y,h){var p={};for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&h.indexOf(v)<0&&(p[v]=y[v]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(y);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(y,v[T])&&(p[v[T]]=y[v[T]])}return p}var ot=k(1877);k(4859);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ln=We,ft=new P.LL("auth","Firebase",We()),dn=new ot.Yd("@firebase/auth");function En(y,...h){dn.logLevel<=ot.in.ERROR&&dn.error(`Auth (${re.SDK_VERSION}): ${y}`,...h)}function rn(y,...h){throw ai(y,...h)}function sn(y,...h){return ai(y,...h)}function Lr(y,h,p){const v=Object.assign(Object.assign({},Ln()),{[h]:p});return new P.LL("auth","Firebase",v).create(h,{appName:y.name})}function Jn(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&rn(y,"argument-error"),Lr(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ai(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return ft.create(y,...h)}function Oe(y,h,...p){if(!y)throw ai(h,...p)}function Vr(y){const h="INTERNAL ASSERTION FAILED: "+y;throw En(h),new Error(h)}function In(y,h){y||Vr(h)}function lt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Na(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ci{constructor(h,p){this.shortDelay=h,this.longDelay=p,In(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Er(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ri(){return"http:"===Na()||"https:"===Na()}()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(y,h){In(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class tn{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ot=new ci(3e4,6e4);function Xt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function en(y,h,p,v){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(y,h,p,v,T={}){return Ni(y,T,(0,f.Z)(function*(){let M={},L={};v&&("GET"===h?L=v:M={body:JSON.stringify(v)});const q=(0,P.xO)(Object.assign({key:y.config.apiKey},L)).slice(1),_e=yield y._getAdditionalHeaders();return _e["Content-Type"]="application/json",y.languageCode&&(_e["X-Firebase-Locale"]=y.languageCode),tn.fetch()(gs(y,y.config.apiHost,p,q),Object.assign({method:h,headers:_e,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Ni(y,h,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},pt),h);try{const T=new Qt(y),M=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const L=yield M.json();if("needConfirmation"in L)throw Ur(y,"account-exists-with-different-credential",L);if(M.ok&&!("errorMessage"in L))return L;{const q=M.ok?L.errorMessage:L.error.message,[_e,de]=q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===_e)throw Ur(y,"credential-already-in-use",L);if("EMAIL_EXISTS"===_e)throw Ur(y,"email-already-in-use",L);if("USER_DISABLED"===_e)throw Ur(y,"user-disabled",L);const je=v[_e]||_e.toLowerCase().replace(/[_\s]+/g,"-");if(de)throw Lr(y,je,de);rn(y,je)}}catch(T){if(T instanceof P.ZR)throw T;rn(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Vn(y,h,p,v){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(y,h,p,v,T={}){const M=yield en(y,h,p,v,T);return"mfaPendingCredential"in M&&rn(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function gs(y,h,p,v){const T=`${h}${p}?${v}`;return y.config.emulator?on(y.config,T):`${y.config.apiScheme}://${T}`}class Qt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(sn(this.auth,"network-request-failed")),Ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ur(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=sn(y,h,v);return T.customData._tokenResponse=p,T}function Zi(){return(Zi=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ir(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function V(){return(V=(0,f.Z)(function*(y,h=!1){const p=(0,P.m9)(y),v=yield p.getIdToken(h),T=le(v);Oe(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,L=M?.sign_in_provider;return{claims:T,token:v,authTime:Ir(z(T.auth_time)),issuedAtTime:Ir(z(T.iat)),expirationTime:Ir(z(T.exp)),signInProvider:L||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function z(y){return 1e3*Number(y)}function le(y){const[h,p,v]=y.split(".");if(void 0===h||void 0===p||void 0===v)return En("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,P.tV)(p);return T?JSON.parse(T):(En("Failed to decode base64 JWT payload"),null)}catch(T){return En("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Ce(y,h){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof P.ZR&&function un({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class Xn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class Mn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yn(y){return zt.apply(this,arguments)}function zt(){return zt=(0,f.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),T=yield Ce(y,function Ki(y,h){return jr.apply(this,arguments)}(p,{idToken:v}));Oe(T?.users.length,p,"internal-error");const M=T.users[0];y._notifyReloadListener(M);const L=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?function Oa(y){return y.map(h=>{var{providerId:p}=h,v=ve(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(M.providerUserInfo):[],q=function ms(y,h){return[...y.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}(y.providerData,L),je=!!y.isAnonymous&&!(y.email&&M.passwordHash||q?.length),Ye={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:q,metadata:new Mn(M.createdAt,M.lastLoginAt),isAnonymous:je};Object.assign(y,Ye)}),zt.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(y){const h=(0,P.m9)(y);yield yn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(y,h){const p=yield Ni(y,{},(0,f.Z)(function*(){const v=(0,P.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:M}=y.config,L=gs(y,T,"/v1/token",`key=${M}`),q=yield y._getAdditionalHeaders();return q["Content-Type"]="application/x-www-form-urlencoded",tn.fetch()(L,{method:"POST",headers:q,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Te{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Oe(h.idToken,"internal-error"),Oe(typeof h.idToken<"u","internal-error"),Oe(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function X(y){const h=le(y);return Oe(h,"internal-error"),Oe(typeof h.exp<"u","internal-error"),Oe(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,f.Z)(function*(){return Oe(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:L}=yield function ae(y,h){return J.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(T,M,Number(L))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:T,expirationTime:M}=p,L=new Te;return v&&(Oe("string"==typeof v,"internal-error",{appName:h}),L.refreshToken=v),T&&(Oe("string"==typeof T,"internal-error",{appName:h}),L.accessToken=T),M&&(Oe("number"==typeof M,"internal-error",{appName:h}),L.expirationTime=M),L}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Te,this.toJSON())}_performRefresh(){return Vr("not implemented")}}function rt(y,h){Oe("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class vt{constructor(h){var{uid:p,auth:v,stsTokenManager:T}=h,M=ve(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Mn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const v=yield Ce(p,p.stsTokenManager.getToken(p.auth,h));return Oe(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function U(y){return V.apply(this,arguments)}(this,h)}reload(){return function Sr(y){return Qr.apply(this,arguments)}(this)}_assign(h){this!==h&&(Oe(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new vt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield yn(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield Ce(h,function hn(y,h){return Zi.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,T,M,L,q,_e,de,je;const Ye=null!==(v=p.displayName)&&void 0!==v?v:void 0,Ht=null!==(T=p.email)&&void 0!==T?T:void 0,Rr=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,uo=null!==(L=p.photoURL)&&void 0!==L?L:void 0,vh=null!==(q=p.tenantId)&&void 0!==q?q:void 0,zl=null!==(_e=p._redirectEventId)&&void 0!==_e?_e:void 0,bm=null!==(de=p.createdAt)&&void 0!==de?de:void 0,Ap=null!==(je=p.lastLoginAt)&&void 0!==je?je:void 0,{uid:xs,emailVerified:ql,isAnonymous:xo,providerData:Ic,stsTokenManager:Tm}=p;Oe(xs&&Tm,h,"internal-error");const xp=Te.fromJSON(this.name,Tm);Oe("string"==typeof xs,h,"internal-error"),rt(Ye,h.name),rt(Ht,h.name),Oe("boolean"==typeof ql,h,"internal-error"),Oe("boolean"==typeof xo,h,"internal-error"),rt(Rr,h.name),rt(uo,h.name),rt(vh,h.name),rt(zl,h.name),rt(bm,h.name),rt(Ap,h.name);const Dc=new vt({uid:xs,auth:h,email:Ht,emailVerified:ql,displayName:Ye,isAnonymous:xo,photoURL:uo,phoneNumber:Rr,tenantId:vh,stsTokenManager:xp,createdAt:bm,lastLoginAt:Ap});return Ic&&Array.isArray(Ic)&&(Dc.providerData=Ic.map(yu=>Object.assign({},yu))),zl&&(Dc._redirectEventId=zl),Dc}static _fromIdTokenResponse(h,p,v=!1){return(0,f.Z)(function*(){const T=new Te;T.updateFromServerResponse(p);const M=new vt({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield yn(M),M})()}}const $t=new Map;function tt(y){In(y instanceof Function,"Expected a class definition");let h=$t.get(y);return h?(In(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,$t.set(y,h),h)}function Un(y,h,p){return`firebase:${y}:${h}:${p}`}function Gs(y=(0,P.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Mt(y=(0,P.z$)()){return/android/i.test(y)}function di(y=(0,P.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ka(y=(0,P.z$)()){return di(y)||Mt(y)||function Jr(y=(0,P.z$)()){return/webos/i.test(y)}(y)||function Dn(y=(0,P.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function Xe(y=(0,P.z$)()){return/iemobile/i.test(y)}(y)}function Nn(y){return(0,P.m9)(y)}class Ba{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Vr("not implemented")}_getIdTokenResponse(h){return Vr("not implemented")}_linkToIdToken(h,p){return Vr("not implemented")}_getReauthenticationResolver(h){return Vr("not implemented")}}function zf(y,h){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ja(y,h){return qf.apply(this,arguments)}function qf(){return(qf=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:sendOobCode",Xt(y,h))})).apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(y,h){return ja(y,h)})).apply(this,arguments)}function Jc(){return(Jc=(0,f.Z)(function*(y,h){return ja(y,h)})).apply(this,arguments)}function ki(y,h){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,f.Z)(function*(y,h){return Vn(y,"POST","/v1/accounts:signInWithIdp",Xt(y,h))})).apply(this,arguments)}class Ji extends Ba{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ji(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):rn("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=p,M=ve(p,["providerId","signInMethod"]);if(!v||!T)return null;const L=new Ji(v,T);return L.idToken=M.idToken||void 0,L.accessToken=M.accessToken||void 0,L.secret=M.secret,L.nonce=M.nonce,L.pendingToken=M.pendingToken||null,L}_getIdTokenResponse(h){return ki(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,ki(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ki(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,P.xO)(p)}return h}}function yo(){return(yo=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:sendVerificationCode",Xt(y,h))})).apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(y,h){return Vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,h))})).apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(y,h){const p=yield Vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,h));if(p.temporaryProof)throw Ur(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Vu={USER_NOT_FOUND:"user-not-found"};function lr(){return(lr=(0,f.Z)(function*(y,h){return Vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Vu)})).apply(this,arguments)}class vo extends Ba{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new vo({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new vo({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function fi(y,h){return Ho.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Lu(y,h){return tr.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Go(y,h){return lr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:M}=h;return v||p||T||M?new vo({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:M}):null}}class _s{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class pi extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class ws extends pi{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Oe("providerId"in p&&"signInMethod"in p,"argument-error"),Ji._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Oe(h.idToken||h.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return ws.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return ws.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:M,nonce:L,providerId:q}=h;if(!v&&!T&&!p&&!M||!q)return null;try{return new ws(q)._credential({idToken:p,accessToken:v,nonce:L,pendingToken:M})}catch{return null}}}let za=(()=>{class y extends pi{constructor(){super("facebook.com")}static credential(p){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Nt=(()=>{class y extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return y.credential(v,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),el=(()=>{class y extends pi{constructor(){super("github.com")}static credential(p){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zo extends Ba{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return ki(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,ki(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ki(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:M}=p;return v&&T&&M&&v===T?new zo(v,M):null}static _create(h,p){return new zo(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let tl=(()=>{class y extends pi{constructor(){super("twitter.com")}static credential(p,v){return Ji._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return y.credential(v,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class oe{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,T=!1){return(0,f.Z)(function*(){const M=yield vt._fromIdTokenResponse(h,v,T),L=Vt(v);return new oe({user:M,providerId:L,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Vt(v);return new oe({user:h,providerId:T,_tokenResponse:v,operationType:p})})()}}function Vt(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class nr extends P.ZR{constructor(h,p,v,T){var M;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,nr.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,T){return new nr(h,p,v,T)}}function rl(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?nr._fromErrorAndOperation(y,M,h,v):M})}function Wa(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Bu(){return Bu=(0,f.Z)(function*(y,h){const p=(0,P.m9)(y);yield Xi(!0,p,h);const{providerUserInfo:v}=yield function Br(y,h){return Tr.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=Wa(v||[]);return p.providerData=p.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Bu.apply(this,arguments)}function ju(y,h){return kd.apply(this,arguments)}function kd(){return(kd=(0,f.Z)(function*(y,h,p=!1){const v=yield Ce(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return oe._forOperation(y,"link",v)})).apply(this,arguments)}function Xi(y,h,p){return qo.apply(this,arguments)}function qo(){return(qo=(0,f.Z)(function*(y,h,p){yield yn(h);const T=!1===y?"provider-already-linked":"no-such-provider";Oe(Wa(h.providerData).has(p)===y,h.auth,T)})).apply(this,arguments)}function dr(y,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(y,h,p=!1){const{auth:v}=y,T="reauthenticate";try{const M=yield Ce(y,rl(v,T,h,y),p);Oe(M.idToken,v,"internal-error");const L=le(M.idToken);Oe(L,v,"internal-error");const{sub:q}=L;return Oe(y.uid===q,v,"user-mismatch"),oe._forOperation(y,T,M)}catch(M){throw"auth/user-not-found"===M?.code&&rn(v,"user-mismatch"),M}})).apply(this,arguments)}function Es(y,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,f.Z)(function*(y,h,p=!1){const v="signIn",T=yield rl(y,v,h),M=yield oe._fromIdTokenResponse(y,v,T);return p||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Wo(y,h){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(y,h){const p=(0,P.m9)(y);return yield Xi(!1,p,h.providerId),ju(p,h)})).apply(this,arguments)}function Yf(y,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(y,h){return dr((0,P.m9)(y),h)})).apply(this,arguments)}class Zo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Ko._fromServerResponse(h,p):"totpInfo"in p?Ka._fromServerResponse(h,p):rn(h,"internal-error")}}class Ko extends Zo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Ko(p)}}class Ka extends Zo{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Ka(p)}}function Qs(y,h,p){var v;Oe((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),Oe(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Oe(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Oe(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Zu(){return Zu=(0,f.Z)(function*(y,h){const p=(0,P.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Qs(p.auth,T,h);const{email:M}=yield function xd(y,h){return Ks.apply(this,arguments)}(p.auth,T);M!==y.email&&(yield y.reload())}),Zu.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&Qs(v.auth,M,p);const{email:L}=yield function nv(y,h){return Jc.apply(this,arguments)}(v.auth,M);L!==y.email&&(yield y.reload())}),Hd.apply(this,arguments)}function ll(){return(ll=(0,f.Z)(function*(y,h){return en(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Jo(){return Jo=(0,f.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,P.m9)(y),M={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},L=yield Ce(v,function cl(y,h){return ll.apply(this,arguments)}(v.auth,M));v.displayName=L.displayName||null,v.photoURL=L.photoUrl||null;const q=v.providerData.find(({providerId:_e})=>"password"===_e);q&&(q.displayName=v.displayName,q.photoURL=v.photoURL),yield v._updateTokensIfNecessary(L)}),Jo.apply(this,arguments)}function Ds(y,h,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(y,h,p){const{auth:v}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(M.email=h),p&&(M.password=p);const L=yield Ce(y,zf(v,M));yield y._updateTokensIfNecessary(L,!0)})).apply(this,arguments)}class ts{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class _o extends ts{constructor(h,p,v,T){super(h,p,v),this.username=T}}class Gd extends ts{constructor(h,p){super(h,"facebook.com",p)}}class Yu extends _o{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class hl extends ts{constructor(h,p){super(h,"google.com",p)}}class Xa extends _o{constructor(h,p,v){super(h,"twitter.com",p,v)}}function Jf(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ku(y){var h,p;if(!y)return null;const{providerId:v}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const L=null===(p=null===(h=le(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(L)return new ts(M,"anonymous"!==L&&"custom"!==L?L:null)}if(!v)return null;switch(v){case"facebook.com":return new Gd(M,T);case"github.com":return new Yu(M,T);case"google.com":return new hl(M,T);case"twitter.com":return new Xa(M,T,y.screenName||null);case"custom":case"anonymous":return new ts(M,null);default:return new ts(M,v,T)}}(p)}class Xs{constructor(h,p,v){this.type=h,this.credential=p,this.auth=v}static _fromIdtoken(h,p){return new Xs("enroll",h,p)}static _fromMfaPendingCredential(h){return new Xs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Xs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return Xs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ju{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=Nn(h),T=p.customData._serverResponse,M=(T.mfaInfo||[]).map(q=>Zo._fromServerResponse(v,q));Oe(T.mfaPendingCredential,v,"internal-error");const L=Xs._fromMfaPendingCredential(T.mfaPendingCredential);return new Ju(L,M,function(){var q=(0,f.Z)(function*(_e){const de=yield _e._process(v,L);delete T.mfaInfo,delete T.mfaPendingCredential;const je=Object.assign(Object.assign({},T),{idToken:de.idToken,refreshToken:de.refreshToken});switch(p.operationType){case"signIn":const Ye=yield oe._fromIdTokenResponse(v,p.operationType,je);return yield v._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return Oe(p.user,v,"internal-error"),oe._forOperation(p.user,p.operationType,je);default:rn(v,"internal-error")}});return function(_e){return q.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}class Zd{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Zo._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Zd(h)}getSession(){var h=this;return(0,f.Z)(function*(){return Xs._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var v=this;return(0,f.Z)(function*(){const T=h,M=yield v.getSession(),L=yield Ce(v.user,T._process(v.user.auth,M,p));return yield v.user._updateTokensIfNecessary(L),v.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield p.user.getIdToken();try{const M=yield Ce(p.user,function qn(y,h){return en(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(y,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:L})=>L!==v),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const ta=new WeakMap;class Kd{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class y extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yd(){const y=(0,P.z$)();return Gs(y)||di(y)}()&&function zs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ka(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),M=this.localCache[v];T!==M&&p(v,M,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((q,_e,de)=>{this.notifyListeners(q,de)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const q=this.storage.getItem(T);if(p.newValue!==q)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const M=()=>{const q=this.storage.getItem(T);!v&&this.localCache[T]===q||this.notifyListeners(T,q)},L=this.storage.getItem(T);!function Bn(){return(0,P.w1)()&&10===document.documentMode}()||L===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const M of Array.from(T))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,M=this;return(0,f.Z)(function*(){yield T().call(M,p,v),M.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,f.Z)(function*(){const M=yield v().call(T,p);return T.localCache[p]=JSON.stringify(M),M})()}_remove(p){var v=()=>super._remove,T=this;return(0,f.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),ti=(()=>{class y extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();function ia(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}function Wn(){return window}const ic="recaptcha";class vl{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=vo._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function pr(){return(pr=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y);yield Xi(!1,v,"phone");const T=yield to(v.auth,h,(0,P.m9)(p));return new vl(T,M=>Wo(v,M))})).apply(this,arguments)}function wl(){return(wl=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y),T=yield to(v.auth,h,(0,P.m9)(p));return new vl(T,M=>Yf(v,M))})).apply(this,arguments)}function to(y,h,p){return Do.apply(this,arguments)}function Do(){return Do=(0,f.Z)(function*(y,h,p){var v;const T=yield p.verify();try{let M;if(Oe("string"==typeof T,y,"argument-error"),Oe(p.type===ic,y,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const L=M.session;if("phoneNumber"in M)return Oe("enroll"===L.type,y,"internal-error"),(yield function Wd(y,h){return en(y,"POST","/v2/accounts/mfaEnrollment:start",Xt(y,h))}(y,{idToken:L.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Oe("signin"===L.type,y,"internal-error");const q=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return Oe(q,y,"missing-multi-factor-info"),(yield function sp(y,h){return en(y,"POST","/v2/accounts/mfaSignIn:start",Xt(y,h))}(y,{mfaPendingCredential:L.credential,mfaEnrollmentId:q,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:L}=yield function Xc(y,h){return yo.apply(this,arguments)}(y,{phoneNumber:M.phoneNumber,recaptchaToken:T});return L}}finally{p._reset()}}),Do.apply(this,arguments)}function sh(){return(sh=(0,f.Z)(function*(y,h){yield ju((0,P.m9)(y),h)})).apply(this,arguments)}let Co=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Nn(p)}verifyPhoneNumber(p,v){return to(this.auth,p,(0,P.m9)(v))}static credential(p,v){return vo._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?vo._fromTokenResponse(v,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Vi(y,h){return h?tt(h):(Oe(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ac extends Ba{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ki(h,this._buildIdpRequest())}_linkToIdToken(h,p){return ki(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return ki(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function ap(y){return Es(y.auth,new ac(y),y.bypassAuthState)}function El(y){const{auth:h,user:p}=y;return Oe(p,h,"internal-error"),dr(p,new ac(y),y.bypassAuthState)}function ou(y){return ni.apply(this,arguments)}function ni(){return(ni=(0,f.Z)(function*(y){const{auth:h,user:p}=y;return Oe(p,h,"internal-error"),ju(p,new ac(y),y.bypassAuthState)})).apply(this,arguments)}class uc{constructor(h,p,v,T,M=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:M,tenantId:L,error:q,type:_e}=h;if(q)return void p.reject(q);const de={auth:p.auth,requestUri:v,sessionId:T,tenantId:L||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(_e)(de))}catch(je){p.reject(je)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ap;case"linkViaPopup":case"linkViaRedirect":return ou;case"reauthViaPopup":case"reauthViaRedirect":return El;default:rn(this.auth,"internal-error")}}resolve(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mr=new ci(2e3,1e4);function bo(){return(bo=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y);Jn(v.auth,h,_s);const T=Vi(v.auth,p);return new $n(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y);Jn(v.auth,h,_s);const T=Vi(v.auth,p);return new $n(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let $n=(()=>{class y extends uc{constructor(p,v,T,M,L){super(p,v,M,L),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const v=yield p.execute();return Oe(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,f.Z)(function*(){In(1===p.filter.length,"Popup operations only handle one event");const v=ia();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(sn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=null!==(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(sn(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Mr.get())};p()}}return y.currentPopupAction=null,y})();const au="pendingRedirect",To=new Map;class uu extends uc{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let v=To.get(p.auth._key());if(!v){try{const M=(yield function ss(y,h){return os.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(M)}catch(T){v=()=>Promise.reject(T)}To.set(p.auth._key(),v)}return p.bypassAuthState||To.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function os(){return(os=(0,f.Z)(function*(y,h){const p=lu(h),v=cu(y);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function ir(y,h){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(y,h){return cu(y)._set(lu(h),"true")})).apply(this,arguments)}function ca(y,h){To.set(y._key(),h)}function cu(y){return tt(y._redirectPersistence)}function lu(y){return Un(au,y.config.apiKey,y.name)}function It(y,h,p){return function Ui(y,h,p){return bl.apply(this,arguments)}(y,h,p)}function bl(){return(bl=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y);Jn(v.auth,h,_s),yield v.auth._initializationPromise;const T=Vi(v.auth,p);yield ir(T,v.auth);const M=yield E(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Ei(y,h,p){return function up(y,h,p){return lc.apply(this,arguments)}(y,h,p)}function lc(){return(lc=(0,f.Z)(function*(y,h,p){const v=(0,P.m9)(y);Jn(v.auth,h,_s),yield v.auth._initializationPromise;const T=Vi(v.auth,p);yield Xi(!1,v,h.providerId),yield ir(T,v.auth);const M=yield E(v);return T._openRedirect(v.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function du(y,h){return hc.apply(this,arguments)}function hc(){return(hc=(0,f.Z)(function*(y,h,p=!1){const v=Nn(y),T=Vi(v,h),L=yield new uu(v,T,p).execute();return L&&!p&&(delete L.user._redirectEventId,yield v._persistUserIfCurrent(L.user),yield v._setRedirectUser(null,h)),L})).apply(this,arguments)}function E(y){return D.apply(this,arguments)}function D(){return(D=(0,f.Z)(function*(y){const h=ia(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class O{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function te(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!W(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(sn(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(j(h))}saveEventToCache(h){this.cachedEventUids.add(j(h)),this.lastProcessedEventTime=Date.now()}}function j(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function W({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function ze(y){return Be.apply(this,arguments)}function Be(){return(Be=(0,f.Z)(function*(y,h={}){return en(y,"GET","/v1/projects",h)})).apply(this,arguments)}const at=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,At=/^https?/;function _r(){return(_r=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield ze(y);for(const p of h)try{if(Cn(p))return}catch{}rn(y,"unauthorized-domain")})).apply(this,arguments)}function Cn(y){const h=lt(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const L=new URL(y);return""===L.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&L.hostname===v}if(!At.test(p))return!1;if(at.test(y))return v===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Ut=new ci(3e4,6e4);function Ss(){const y=Wn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Kn=null;function as(y){return Kn=Kn||function hu(y){return new Promise((h,p)=>{var v,T,M;function L(){Ss(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Ss(),p(sn(y,"network-request-failed"))},timeout:Ut.get()})}if(null!==(T=null===(v=Wn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(M=Wn().gapi)||void 0===M||!M.load){const q=function Ar(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return Wn()[q]=()=>{gapi.load?L():p(sn(y,"network-request-failed"))},function jo(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=T=>{const M=sn("internal-error");M.customData=T,p(M)},v.type="text/javascript",v.charset="UTF-8",function Yi(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}(`https://apis.google.com/js/api.js?onload=${q}`).catch(_e=>p(_e))}L()}}).catch(h=>{throw Kn=null,h})}(y),Kn}const ro=new ci(5e3,15e3),cp="__/auth/iframe",Tl="emulator/auth/iframe",oh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ah(y){const h=y.config;Oe(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?on(h,Tl):`https://${y.config.authDomain}/${cp}`,v={apiKey:h.apiKey,appName:y.name,v:re.SDK_VERSION},T=Sl.get(y.config.apiHost);T&&(v.eid=T);const M=y._getFrameworks();return M.length&&(v.fw=M.join(",")),`${p}?${(0,P.xO)(v).slice(1)}`}function uh(){return uh=(0,f.Z)(function*(y){const h=yield as(y),p=Wn().gapi;return Oe(p,y,"internal-error"),h.open({where:document.body,url:ah(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oh,dontclear:!0},v=>new Promise(function(){var T=(0,f.Z)(function*(M,L){yield v.restyle({setHideOnLeave:!1});const q=sn(y,"network-request-failed"),_e=Wn().setTimeout(()=>{L(q)},ro.get());function de(){Wn().clearTimeout(_e),M(v)}v.ping(de).then(de,()=>{L(q)})});return function(M,L){return T.apply(this,arguments)}}()))}),uh.apply(this,arguments)}const da={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pc=500,lp=600,am="_blank",dp="http://localhost";class um{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sv(y,h,p,v=pc,T=lp){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),L=Math.max((window.screen.availWidth-v)/2,0).toString();let q="";const _e=Object.assign(Object.assign({},da),{width:v.toString(),height:T.toString(),top:M,left:L}),de=(0,P.z$)().toLowerCase();p&&(q=function li(y=(0,P.z$)()){return/crios\//i.test(y)}(de)?am:p),function Cd(y=(0,P.z$)()){return/firefox\//i.test(y)}(de)&&(h=h||dp,_e.scrollbars="yes");const je=Object.entries(_e).reduce((Ht,[Rr,uo])=>`${Ht}${Rr}=${uo},`,"");if(function ys(y=(0,P.z$)()){var h;return di(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(de)&&"_self"!==q)return function ch(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",q),new um(null);const Ye=window.open(h||"",q,je);Oe(Ye,y,"popup-blocked");try{Ye.focus()}catch{}return new um(Ye)}const ov="__/auth/handler",av="emulator/auth/handler",uv=encodeURIComponent("fac");function lh(y,h,p,v,T,M){return Al.apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(y,h,p,v,T,M){Oe(y.config.authDomain,y,"auth-domain-config-required"),Oe(y.config.apiKey,y,"invalid-api-key");const L={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:re.SDK_VERSION,eventId:T};if(h instanceof _s){h.setDefaultLanguage(y.languageCode),L.providerId=h.providerId||"",(0,P.xb)(h.getCustomParameters())||(L.customParameters=JSON.stringify(h.getCustomParameters()));for(const[je,Ye]of Object.entries(M||{}))L[je]=Ye}if(h instanceof pi){const je=h.getScopes().filter(Ye=>""!==Ye);je.length>0&&(L.scopes=je.join(","))}y.tenantId&&(L.tid=y.tenantId);const q=L;for(const je of Object.keys(q))void 0===q[je]&&delete q[je];const _e=yield y._getAppCheckToken(),de=_e?`#${uv}=${encodeURIComponent(_e)}`:"";return`${function dh({config:y}){return y.emulator?on(y,av):`https://${y.authDomain}/${ov}`}(y)}?${(0,P.xO)(q).slice(1)}${de}`})).apply(this,arguments)}const ha="webStorageSupport",fa=class cv{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ti,this._completeRedirectFn=du,this._overrideRedirectResult=ca}_openPopup(h,p,v,T){var M=this;return(0,f.Z)(function*(){var L;In(null===(L=M.eventManagers[h._key()])||void 0===L?void 0:L.manager,"_initialize() not called before _openPopup()");const q=yield lh(h,p,v,lt(),T);return sv(h,q,ia())})()}_openRedirect(h,p,v,T){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(h),function Jd(y){Wn().location.href=y}(yield lh(h,p,v,lt(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:M}=this.eventManagers[p];return T?Promise.resolve(T):(In(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const v=yield function fc(y){return uh.apply(this,arguments)}(h),T=new O(h);return v.register("authEvent",M=>(Oe(M?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(ha,{type:ha},T=>{var M;const L=null===(M=T?.[0])||void 0===M?void 0:M[ha];void 0!==L&&p(!!L),rn(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function xt(y){return _r.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ka()||Gs()||di()}};function Ii(){return window}const vp=2e3;function gu(){return gu=(0,f.Z)(function*(y,h,p){var v;const{BuildInfo:T}=Ii();In(h.sessionId,"AuthEvent did not contain a session ID");const M=yield function Ol(y){return Ao.apply(this,arguments)}(h.sessionId),L={};return di()?L.ibi=T.packageName:Mt()?L.apn=T.packageName:rn(y,"operation-not-supported-in-this-environment"),T.displayName&&(L.appDisplayName=T.displayName),L.sessionId=M,lh(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,L)}),gu.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(y){const{BuildInfo:h}=Ii(),p={};di()?p.iosBundleId=h.packageName:Mt()?p.androidPackageName=h.packageName:rn(y,"operation-not-supported-in-this-environment"),yield ze(y,p)})).apply(this,arguments)}function Nl(){return(Nl=(0,f.Z)(function*(y,h,p){const{cordova:v}=Ii();let T=()=>{};try{yield new Promise((M,L)=>{let q=null;function _e(){var Ye;M();const Ht=null===(Ye=v.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof Ht&&Ht(),"function"==typeof p?.close&&p.close()}function de(){q||(q=window.setTimeout(()=>{L(sn(y,"redirect-cancelled-by-user"))},vp))}function je(){"visible"===document?.visibilityState&&de()}h.addPassiveListener(_e),document.addEventListener("resume",de,!1),Mt()&&document.addEventListener("visibilitychange",je,!1),T=()=>{h.removePassiveListener(_e),document.removeEventListener("resume",de,!1),document.removeEventListener("visibilitychange",je,!1),q&&window.clearTimeout(q)}})}finally{T()}})).apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(y){const h=function Pl(y){if(In(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const yc=20;class lv extends O{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function hm(y){return kl.apply(this,arguments)}function kl(){return(kl=(0,f.Z)(function*(y){const h=yield vc()._get(Fl(y));return h&&(yield vc()._remove(Fl(y))),h})).apply(this,arguments)}function fm(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<yc;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function vc(){return tt(wo)}function Fl(y){return Un("authEvent",y.config.apiKey,y.name)}function Ll(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,P.zd)(p.join("?"))}const pv=class fv{constructor(){this._redirectPersistence=ti,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=du,this._overrideRedirectResult=ca}_initialize(h){var p=this;return(0,f.Z)(function*(){const v=h._key();let T=p.eventManagers.get(v);return T||(T=new lv(h),p.eventManagers.set(v,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){rn(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,T){var M=this;return(0,f.Z)(function*(){!function ga(y){var h,p,v,T,M,L,q,_e,de,je;const Ye=Ii();Oe("function"==typeof(null===(h=Ye?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Oe(typeof(null===(p=Ye?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Oe("function"==typeof(null===(M=null===(T=null===(v=Ye?.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(_e=null===(q=null===(L=Ye?.cordova)||void 0===L?void 0:L.plugins)||void 0===q?void 0:q.browsertab)||void 0===_e?void 0:_e.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Oe("function"==typeof(null===(je=null===(de=Ye?.cordova)||void 0===de?void 0:de.InAppBrowser)||void 0===je?void 0:je.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const L=yield M._initialize(h);yield L.initialized(),L.resetRedirect(),function iv(){To.clear()}(),yield M._originValidation(h);const q=function dv(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:fm(),postBody:null,tenantId:y.tenantId,error:sn(y,"no-auth-event")}}(h,v,T);yield function W0(y,h){return vc()._set(Fl(y),h)}(h,q);const _e=yield function xl(y,h,p){return gu.apply(this,arguments)}(h,q,p),de=yield function Rl(y){const{cordova:h}=Ii();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(y):T=h.InAppBrowser.open(y,function cr(y=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(_e);return function so(y,h,p){return Nl.apply(this,arguments)}(h,L,de)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function dm(y){return Ml.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:T,BuildInfo:M}=Ii(),L=setTimeout((0,f.Z)(function*(){yield hm(h),p.onEvent(mm())}),500),q=function(){var je=(0,f.Z)(function*(Ye){clearTimeout(L);const Ht=yield hm(h);let Rr=null;Ht&&Ye?.url&&(Rr=function hv(y,h){var p,v;const T=function _p(y){const h=Ll(y),p=h.link?decodeURIComponent(h.link):void 0,v=Ll(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ll(T).link||T||v||p||y}(h);if(T.includes("/__/auth/callback")){const M=Ll(T),L=M.firebaseError?function pm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,q=null===(v=null===(p=L?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],_e=q?sn(q):null;return _e?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:_e,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Ht,Ye.url)),p.onEvent(Rr||mm())});return function(Ht){return je.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,q);const _e=T,de=`${M.packageName.toLowerCase()}://`;Ii().handleOpenURL=function(){var je=(0,f.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(de)&&q({url:Ye}),"function"==typeof _e)try{_e(Ye)}catch(Ht){console.error(Ht)}});return function(Ye){return je.apply(this,arguments)}}()}};function mm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:sn("no-auth-event")}}const ji=1e3;function ao(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ep(){return function vm(y=(0,P.z$)()){return!("file:"!==ao()&&"ionic:"!==ao()&&"capacitor:"!==ao()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function $i(){return($i=(0,f.Z)(function*(){return!!Ep()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},ji);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Ip="persistence";function Dp(y){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,f.Z)(function*(y){yield y._initializationPromise;const h=function $l(){var y;try{return(null===(y=function jl(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}(),p=Un(Ip,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}const K0=Oe;class As{constructor(){this.browserResolver=tt(fa),this.cordovaResolver=tt(pv),this.underlyingResolver=null,this._redirectPersistence=ti,this._completeRedirectFn=du,this._overrideRedirectResult=ca}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,T){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,p,v,T)})()}_openRedirect(h,p,v,T){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,p,v,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ep()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return K0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Bl(){return $i.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function wc(y){return y.unwrap()}function yv(y){return yh(y)}function yh(y){const{_tokenResponse:h}=y instanceof P.ZR?y.customData:y;if(!h)return null;if(!(y instanceof P.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Co.credentialFromResult(y);const p=h.providerId;if(!p||p===he.PASSWORD)return null;let v;switch(p){case he.GOOGLE:v=Nt;break;case he.FACEBOOK:v=za;break;case he.GITHUB:v=el;break;case he.TWITTER:v=tl;break;default:const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:L,pendingToken:q,nonce:_e}=h;return M||L||T||q?q?p.startsWith("saml.")?zo._create(p,q):Ji._fromParams({providerId:p,signInMethod:p,pendingToken:q,idToken:T,accessToken:M}):new ws(p).credential({idToken:T,accessToken:M,rawNonce:_e}):null}return y instanceof P.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Gr(y,h){return h.catch(p=>{throw p instanceof P.ZR&&function vv(y,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Im(y,function pl(y,h){var p;const v=(0,P.m9)(y),T=h;return Oe(h.customData.operationType,v,"argument-error"),Oe(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Ju._fromError(v,T)}(y,h));else if(v){const T=yh(h),M=h;T&&(M.credential=T,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:yv(p),additionalUserInfo:Jf(p),user:ma.getOrCreate(T)}})}function Hl(y,h){return Em.apply(this,arguments)}function Em(){return(Em=(0,f.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>Gr(y,p.confirm(v))}})).apply(this,arguments)}class Im{constructor(h,p){this.resolver=p,this.auth=function bp(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Gr(wc(this.auth),this.resolver.resolveSignIn(h))}}class ma{constructor(h){this._delegate=h,this.multiFactor=function np(y){const h=(0,P.m9)(y);return ta.has(h)||ta.set(h,Zd._fromUser(h)),ta.get(h)}(h)}static getOrCreate(h){return ma.USER_MAP.has(h)||ma.USER_MAP.set(h,new ma(h)),ma.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return Gr(p.auth,Wo(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,f.Z)(function*(){return Hl(v.auth,function sc(y,h,p){return pr.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return Gr(p.auth,function cc(y,h,p){return ri.apply(this,arguments)}(p._delegate,h,As))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield Dp(Nn(p.auth)),Ei(p._delegate,h,As)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return Gr(p.auth,Yf(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Hl(this.auth,function _l(y,h,p){return wl.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Gr(this.auth,function rr(y,h,p){return bo.apply(this,arguments)}(this._delegate,h,As))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield Dp(Nn(p.auth)),It(p._delegate,h,As)})()}sendEmailVerification(h){return function Qf(y,h){return Zu.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function gi(y,h){return Bu.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Xo(y,h){return Ds((0,P.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function dl(y,h){return Ds((0,P.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function oc(y,h){return sh.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Ja(y,h){return Jo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Qa(y,h,p){return Hd.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ma.USER_MAP=new WeakMap;class Ec{constructor(){this.providerId="phone",this._delegate=new Co(wc(Q.Z.auth()))}static credential(h,p){return Co.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Ec.PHONE_SIGN_IN_METHOD=Co.PHONE_SIGN_IN_METHOD,Ec.PROVIDER_ID=Co.PROVIDER_ID},3942:(yt,De,k)=>{k.d(De,{Z:()=>Ze});var f=k(2090),Q=k(4859),P=k(6881),re=k(1877);class ne{constructor(ce,Me){this._delegate=ce,this.firebase=Me,(0,P._addComponent)(ce,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ce,Me=P._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(ce);return!$e.isInitialized()&&"EXPLICIT"===(null===(ke=$e.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:Me})}_removeServiceInstance(ce,Me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(Me)}_addComponent(ce){(0,P._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,P._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function pe(){const st=function ve(st){const ce={},Me={__esModule:!0,initializeApp:function Re(Ve,it={}){const dt=P.initializeApp(Ve,it);if((0,f.r3)(ce,dt.name))return ce[dt.name];const jt=new st(dt,Me);return ce[dt.name]=jt,jt},app:$e,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ve){const it=Ve.name,dt=it.replace("-compat","");if(P._registerComponent(Ve)&&"PUBLIC"===Ve.type){const jt=(ht=$e())=>{if("function"!=typeof ht[dt])throw fe.create("invalid-app-argument",{appName:it});return ht[dt]()};void 0!==Ve.serviceProps&&(0,f.ZB)(jt,Ve.serviceProps),Me[dt]=jt,st.prototype[dt]=function(...ht){return this._getService.bind(this,it).apply(this,Ve.multipleInstances?ht:[])}}return"PUBLIC"===Ve.type?Me[dt]:null},removeApp:function ke(Ve){delete ce[Ve]},useAsService:function qe(Ve,it){return"serverAuth"===it?null:it},modularAPIs:P}};function $e(Ve){if(!(0,f.r3)(ce,Ve=Ve||P._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Ve});return ce[Ve]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function Ae(){return Object.keys(ce).map(Ve=>ce[Ve])}}),$e.App=st,Me}(ne);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ce(Me){(0,f.ZB)(st,Me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),st}(),B=new re.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=$;!function we(st){(0,P.registerVersion)("@firebase/app-compat","0.2.13",st)}()},6881:(yt,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>ui,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Ot,_apps:()=>on,_clearComponents:()=>Ni,_components:()=>tn,_getProvider:()=>en,_registerComponent:()=>Xt,_removeServiceInstance:()=>ur,deleteApp:()=>Zi,getApp:()=>Ur,getApps:()=>hn,initializeApp:()=>Qt,onLog:()=>Ki,registerVersion:()=>Tr,setLogLevel:()=>jr});var f=k(5861),Q=k(4859),P=k(1877),re=k(2090);const ne=(ae,J)=>J.some(Te=>ae instanceof Te);let ie,fe;const $=new WeakMap,B=new WeakMap,Z=new WeakMap,He=new WeakMap,we=new WeakMap;let ce={get(ae,J,Te){if(ae instanceof IDBTransaction){if("done"===J)return B.get(ae);if("objectStoreNames"===J)return ae.objectStoreNames||Z.get(ae);if("store"===J)return Te.objectStoreNames[1]?void 0:Te.objectStore(Te.objectStoreNames[0])}return Re(ae[J])},set:(ae,J,Te)=>(ae[J]=Te,!0),has:(ae,J)=>ae instanceof IDBTransaction&&("done"===J||"store"===J)||J in ae};function $e(ae){return"function"==typeof ae?function ke(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...J){return ae.apply(Ae(this),J),Re($.get(this))}:function(...J){return Re(ae.apply(Ae(this),J))}:function(J,...Te){const rt=ae.call(Ae(this),J,...Te);return Z.set(rt,J.sort?J.sort():[J]),Re(rt)}}(ae):(ae instanceof IDBTransaction&&function st(ae){if(B.has(ae))return;const J=new Promise((Te,rt)=>{const vt=()=>{ae.removeEventListener("complete",$t),ae.removeEventListener("error",tt),ae.removeEventListener("abort",tt)},$t=()=>{Te(),vt()},tt=()=>{rt(ae.error||new DOMException("AbortError","AbortError")),vt()};ae.addEventListener("complete",$t),ae.addEventListener("error",tt),ae.addEventListener("abort",tt)});B.set(ae,J)}(ae),ne(ae,function ve(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,ce):ae)}function Re(ae){if(ae instanceof IDBRequest)return function Ze(ae){const J=new Promise((Te,rt)=>{const vt=()=>{ae.removeEventListener("success",$t),ae.removeEventListener("error",tt)},$t=()=>{Te(Re(ae.result)),vt()},tt=()=>{rt(ae.error),vt()};ae.addEventListener("success",$t),ae.addEventListener("error",tt)});return J.then(Te=>{Te instanceof IDBCursor&&$.set(Te,ae)}).catch(()=>{}),we.set(J,ae),J}(ae);if(He.has(ae))return He.get(ae);const J=$e(ae);return J!==ae&&(He.set(ae,J),we.set(J,ae)),J}const Ae=ae=>we.get(ae),Ve=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],dt=new Map;function jt(ae,J){if(!(ae instanceof IDBDatabase)||J in ae||"string"!=typeof J)return;if(dt.get(J))return dt.get(J);const Te=J.replace(/FromIndex$/,""),rt=J!==Te,vt=it.includes(Te);if(!(Te in(rt?IDBIndex:IDBObjectStore).prototype)||!vt&&!Ve.includes(Te))return;const $t=function(){var tt=(0,f.Z)(function*(cn,...qt){const Un=this.transaction(cn,vt?"readwrite":"readonly");let Rn=Un.store;return rt&&(Rn=Rn.index(qt.shift())),(yield Promise.all([Rn[Te](...qt),vt&&Un.done]))[0]});return function(qt){return tt.apply(this,arguments)}}();return dt.set(J,$t),$t}!function Me(ae){ce=ae(ce)}(ae=>({...ae,get:(J,Te,rt)=>jt(J,Te)||ae.get(J,Te,rt),has:(J,Te)=>!!jt(J,Te)||ae.has(J,Te)}));class ht{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function Jt(ae){return"VERSION"===ae.getComponent()?.type}(Te)){const rt=Te.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(Te=>Te).join(" ")}}const ot="@firebase/app",ue=new P.Yd("@firebase/app"),ui="[DEFAULT]",ci={[ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,tn=new Map;function pt(ae,J){try{ae.container.addComponent(J)}catch(Te){ue.debug(`Component ${J.name} failed to register with FirebaseApp ${ae.name}`,Te)}}function Ot(ae,J){ae.container.addOrOverwriteComponent(J)}function Xt(ae){const J=ae.name;if(tn.has(J))return ue.debug(`There were multiple attempts to register component ${J}.`),!1;tn.set(J,ae);for(const Te of on.values())pt(Te,ae);return!0}function en(ae,J){const Te=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),ae.container.getProvider(J)}function ur(ae,J,Te=ui){en(ae,J).clearInstance(Te)}function Ni(){tn.clear()}const Vn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _n{constructor(J,Te,rt){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}const gs="9.23.0";function Qt(ae,J={}){let Te=ae;"object"!=typeof J&&(J={name:J});const rt=Object.assign({name:ui,automaticDataCollectionEnabled:!1},J),vt=rt.name;if("string"!=typeof vt||!vt)throw Vn.create("bad-app-name",{appName:String(vt)});if(Te||(Te=(0,re.aH)()),!Te)throw Vn.create("no-options");const $t=on.get(vt);if($t){if((0,re.vZ)(Te,$t.options)&&(0,re.vZ)(rt,$t.config))return $t;throw Vn.create("duplicate-app",{appName:vt})}const tt=new Q.H0(vt);for(const qt of tn.values())tt.addComponent(qt);const cn=new _n(Te,rt,tt);return on.set(vt,cn),cn}function Ur(ae=ui){const J=on.get(ae);if(!J&&ae===ui&&(0,re.aH)())return Qt();if(!J)throw Vn.create("no-app",{appName:ae});return J}function hn(){return Array.from(on.values())}function Zi(ae){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(ae){const J=ae.name;on.has(J)&&(on.delete(J),yield Promise.all(ae.container.getProviders().map(Te=>Te.delete())),ae.isDeleted=!0)})).apply(this,arguments)}function Tr(ae,J,Te){var rt;let vt=null!==(rt=ci[ae])&&void 0!==rt?rt:ae;Te&&(vt+=`-${Te}`);const $t=vt.match(/\s|\//),tt=J.match(/\s|\//);if($t||tt){const cn=[`Unable to register library "${vt}" with version "${J}":`];return $t&&cn.push(`library name "${vt}" contains illegal characters (whitespace or "/")`),$t&&tt&&cn.push("and"),tt&&cn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void ue.warn(cn.join(" "))}Xt(new Q.wA(`${vt}-version`,()=>({library:vt,version:J}),"VERSION"))}function Ki(ae,J){if(null!==ae&&"function"!=typeof ae)throw Vn.create("invalid-log-argument");(0,P.Am)(ae,J)}function jr(ae){(0,P.Ub)(ae)}const Ir="firebase-heartbeat-database",Hs=1,U="firebase-heartbeat-store";let V=null;function z(){return V||(V=function xe(ae,J,{blocked:Te,upgrade:rt,blocking:vt,terminated:$t}={}){const tt=indexedDB.open(ae,J),cn=Re(tt);return rt&&tt.addEventListener("upgradeneeded",qt=>{rt(Re(tt.result),qt.oldVersion,qt.newVersion,Re(tt.transaction),qt)}),Te&&tt.addEventListener("blocked",qt=>Te(qt.oldVersion,qt.newVersion,qt)),cn.then(qt=>{$t&&qt.addEventListener("close",()=>$t()),vt&&qt.addEventListener("versionchange",Un=>vt(Un.oldVersion,Un.newVersion,Un))}).catch(()=>{}),cn}(Ir,Hs,{upgrade:(ae,J)=>{0===J&&ae.createObjectStore(U)}}).catch(ae=>{throw Vn.create("idb-open",{originalErrorMessage:ae.message})})),V}function X(){return(X=(0,f.Z)(function*(ae){try{return yield(yield z()).transaction(U).objectStore(U).get(un(ae))}catch(J){if(J instanceof re.ZR)ue.warn(J.message);else{const Te=Vn.create("idb-get",{originalErrorMessage:J?.message});ue.warn(Te.message)}}})).apply(this,arguments)}function Ce(ae,J){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(ae,J){try{const rt=(yield z()).transaction(U,"readwrite");yield rt.objectStore(U).put(J,un(ae)),yield rt.done}catch(Te){if(Te instanceof re.ZR)ue.warn(Te.message);else{const rt=Vn.create("idb-set",{originalErrorMessage:Te?.message});ue.warn(rt.message)}}})).apply(this,arguments)}function un(ae){return`${ae.name}!${ae.options.appId}`}class yn{constructor(J){this.container=J,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new Qr(Te),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var J=this;return(0,f.Z)(function*(){const rt=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),vt=zt();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==vt&&!J._heartbeatsCache.heartbeats.some($t=>$t.date===vt))return J._heartbeatsCache.heartbeats.push({date:vt,agent:rt}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter($t=>{const tt=new Date($t.date).valueOf();return Date.now()-tt<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,f.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Te=zt(),{heartbeatsToSend:rt,unsentEntries:vt}=function Sr(ae,J=1024){const Te=[];let rt=ae.slice();for(const vt of ae){const $t=Te.find(tt=>tt.agent===vt.agent);if($t){if($t.dates.push(vt.date),ms(Te)>J){$t.dates.pop();break}}else if(Te.push({agent:vt.agent,dates:[vt.date]}),ms(Te)>J){Te.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:Te,unsentEntries:rt}}(J._heartbeatsCache.heartbeats),$t=(0,re.L)(JSON.stringify({version:2,heartbeats:rt}));return J._heartbeatsCache.lastSentHeartbeatDate=Te,vt.length>0?(J._heartbeatsCache.heartbeats=vt,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),$t})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Qr{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,f.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function le(ae){return X.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Te=this;return(0,f.Z)(function*(){var rt;if(yield Te._canUseIndexedDBPromise){const $t=yield Te.read();return Ce(Te.app,{lastSentHeartbeatDate:null!==(rt=J.lastSentHeartbeatDate)&&void 0!==rt?rt:$t.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Te=this;return(0,f.Z)(function*(){var rt;if(yield Te._canUseIndexedDBPromise){const $t=yield Te.read();return Ce(Te.app,{lastSentHeartbeatDate:null!==(rt=J.lastSentHeartbeatDate)&&void 0!==rt?rt:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...J.heartbeats]})}})()}}function ms(ae){return(0,re.L)(JSON.stringify({version:2,heartbeats:ae})).length}!function Oa(ae){Xt(new Q.wA("platform-logger",J=>new ht(J),"PRIVATE")),Xt(new Q.wA("heartbeat",J=>new yn(J),"PRIVATE")),Tr(ot,"0.9.13",ae),Tr(ot,"0.9.13","esm2017"),Tr("fire-js","")}("")},4859:(yt,De,k)=>{k.d(De,{H0:()=>ve,wA:()=>P});var f=k(5861),Q=k(2090);class P{constructor($,B,Z){this.name=$,this.instanceFactory=B,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const re="[DEFAULT]";class ne{constructor($,B){this.name=$,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const B=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(B)){const Z=new Q.BH;if(this.instancesDeferred.set(B,Z),this.isInitialized(B)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:B});He&&Z.resolve(He)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate($){var B;const Z=this.normalizeInstanceIdentifier($?.identifier),He=null!==(B=$?.optional)&&void 0!==B&&B;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(we){if(He)return null;throw we}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function fe(pe){return"EAGER"===pe.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[B,Z]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(B);try{const we=this.getOrInitializeService({instanceIdentifier:He});Z.resolve(we)}catch{}}}}clearInstance($=re){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,f.Z)(function*(){const B=Array.from($.instances.values());yield Promise.all([...B.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...B.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=re){return this.instances.has($)}getOptions($=re){return this.instancesOptions.get($)||{}}initialize($={}){const{options:B={}}=$,Z=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Z,options:B});for(const[we,Ze]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(we)&&Ze.resolve(He);return He}onInit($,B){var Z;const He=this.normalizeInstanceIdentifier(B),we=null!==(Z=this.onInitCallbacks.get(He))&&void 0!==Z?Z:new Set;we.add($),this.onInitCallbacks.set(He,we);const Ze=this.instances.get(He);return Ze&&$(Ze,He),()=>{we.delete($)}}invokeOnInitCallbacks($,B){const Z=this.onInitCallbacks.get(B);if(Z)for(const He of Z)try{He($,B)}catch{}}getOrInitializeService({instanceIdentifier:$,options:B={}}){let Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=$,pe===re?void 0:pe),options:B}),this.instances.set($,Z),this.instancesOptions.set($,B),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch{}var pe;return Z||null}normalizeInstanceIdentifier($=re){return this.component?this.component.multipleInstances?$:re:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor($){this.name=$,this.providers=new Map}addComponent($){const B=this.getProvider($.name);if(B.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);B.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const B=new ne($,this);return this.providers.set($,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,De,k)=>{k.d(De,{Am:()=>pe,Ub:()=>ve,Yd:()=>fe,in:()=>Q});const f=[];var Q=(()=>{return($=Q||(Q={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Q;var $})();const P={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},re=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ie=($,B,...Z)=>{if(B<$.logLevel)return;const He=(new Date).toISOString(),we=ne[B];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[we](`[${He}]  ${$.name}:`,...Z)};class fe{constructor(B){this.name=B,this._logLevel=re,this._logHandler=ie,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in Q))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?P[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...B),this._logHandler(this,Q.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...B),this._logHandler(this,Q.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...B),this._logHandler(this,Q.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...B),this._logHandler(this,Q.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...B),this._logHandler(this,Q.ERROR,...B)}}function ve($){f.forEach(B=>{B.setLogLevel($)})}function pe($,B){for(const Z of f){let He=null;B&&B.level&&(He=P[B.level]),Z.userLogHandler=null===$?null:(we,Ze,...st)=>{const ce=st.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ze>=(He??we.logLevel)&&$({level:Q[Ze].toLowerCase(),message:ce,args:st,type:we.name})}}}},5861:(yt,De,k)=>{function f(P,re,ne,ie,fe,ve,pe){try{var $=P[ve](pe),B=$.value}catch(Z){return void ne(Z)}$.done?re(B):Promise.resolve(B).then(ie,fe)}function Q(P){return function(){var re=this,ne=arguments;return new Promise(function(ie,fe){var ve=P.apply(re,ne);function pe(B){f(ve,ie,fe,pe,$,"next",B)}function $(B){f(ve,ie,fe,pe,$,"throw",B)}pe(void 0)})}}k.d(De,{Z:()=>Q})},7582:(yt,De,k)=>{function Z(ue,he,Ie,be){return new(Ie||(Ie=Promise))(function(Fe,We){function Gt(wt){try{ft(be.next(wt))}catch(dn){We(dn)}}function Ln(wt){try{ft(be.throw(wt))}catch(dn){We(dn)}}function ft(wt){wt.done?Fe(wt.value):function Ge(Fe){return Fe instanceof Ie?Fe:new Ie(function(We){We(Fe)})}(wt.value).then(Gt,Ln)}ft((be=be.apply(ue,he||[])).next())})}function Re(ue){return this instanceof Re?(this.v=ue,this):new Re(ue)}function Ae(ue,he,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,be=Ie.apply(ue,he||[]),Fe=[];return Ge={},We("next"),We("throw"),We("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function We(vn){be[vn]&&(Ge[vn]=function(En){return new Promise(function(rn,sn){Fe.push([vn,En,rn,sn])>1||Gt(vn,En)})})}function Gt(vn,En){try{!function Ln(vn){vn.value instanceof Re?Promise.resolve(vn.value.v).then(ft,wt):dn(Fe[0][2],vn)}(be[vn](En))}catch(rn){dn(Fe[0][3],rn)}}function ft(vn){Gt("next",vn)}function wt(vn){Gt("throw",vn)}function dn(vn,En){vn(En),Fe.shift(),Fe.length&&Gt(Fe[0][0],Fe[0][1])}}function qe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,he=ue[Symbol.asyncIterator];return he?he.call(ue):(ue=function st(ue){var he="function"==typeof Symbol&&Symbol.iterator,Ie=he&&ue[he],be=0;if(Ie)return Ie.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&be>=ue.length&&(ue=void 0),{value:ue&&ue[be++],done:!ue}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Ie={},be("next"),be("throw"),be("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function be(Fe){Ie[Fe]=ue[Fe]&&function(We){return new Promise(function(Gt,Ln){!function Ge(Fe,We,Gt,Ln){Promise.resolve(Ln).then(function(ft){Fe({value:ft,done:Gt})},We)}(Gt,Ln,(We=ue[Fe](We)).done,We.value)})}}}k.d(De,{FC:()=>Ae,KL:()=>qe,mG:()=>Z,qq:()=>Re})}},yt=>{yt(yt.s=8961)}]);